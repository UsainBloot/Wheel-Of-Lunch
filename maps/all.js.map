{"version":3,"sources":["all.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","Hogan","cleanTripleStache","token","substr","substring","trim","replace","tagChange","tag","text","index","charAt","buildTree","tokens","kind","stack","customTags","instructions","opener","tail","shift","allowedInSuper","tags","isOpener","push","nodes","pop","isCloser","end","last","close","open","c","stringifySubstitutions","obj","items","key","esc","join","stringifyPartials","codeObj","partials","name","subs","rSlash","rQuot","rNewline","rCr","rLineSep","rParagraphSep","chooseMethod","indexOf","createPartial","node","context","prefix","sym","serialNo","indent","tripleStache","write","rIsWhitespace","#","^","<","$","/","!",">","=","_v","{","&","_t","scan","delimiters","addBuf","buf","String","lineIsWhitespace","isAllWhitespace","j","lineStart","match","filterLine","haveSeenTag","noNewLine","next","toString","splice","seenTag","changeDelimiters","ctag","closeIndex","split","otag","len","IN_TEXT","IN_TAG_TYPE","IN_TAG","state","tagType","\n","stringify","options","wrapMain","generate","tree","walk","asString","this","makeTemplate","template","Template","makePartials","Function","codegen","ctx","inPartial","nodelist","func","parse","sectionTags","cache","cacheKey","disableLambda","modelGet","compile","instance",2,"./compiler","./template",3,"findInScope","scope","doModelGet","val","undefined","get","createSpecializedPartial","stackSubs","stackPartials","stackText","PartialTemplate","Substitutions","prototype","partial","subsText","coerceToString","hoganEscape","str","hChars","test","rAmp","rLt","rGt","rApos","compiler","v","render","ri","ep","symbol","base","activeSub","rp","rs","section","isArray","inverted","start","pass","ms","d","returnFound","found","names","cx","mv","ls","oldTags","b","ct","fl","textSource","result","sub","Array","Object",4,"bgColour","fontColour",5,"lat","lng","vicinity",6,"Settings","elems","id","ID","root","settings","placeType","latitude","longitude","radius","maxPlaces","shareLink","dynamicSearch","URLparams","WOL","app","utilities","getURLParams","init","Places","HTML_OUTPUT","OPEN_CLOSE_BUTTON","PLACE_TYPE_RADIO","LAT_INPUT","LNG_INPUT","RAD_INPUT","MAX_PLACES_INPUT","SHARE_LINK_INPUT","SEARCH_BUTTON","DYNAMIC_SEARCH_INPUT","type","maxplaces","addWindow","populate","addEvents","prepend","self","on","remove","toggleClass","save","places","prop","getShareLink","is","setLatLong","position","setRadius","url","window","location","origin","pathname","params","long","param","jQuery","../../templates/settings.html","../modules/places.js",7,"./pages/global.js","./pages/main.js","./wheel-of-lunch.js",8,"ErrorLocationLightbox","CONTINUE_BUTTON","closeWindow","../../templates/localisation-error.html",9,"GeolocationLightbox","Geolocation","getLocation","unblurBackground","geolocation","../../templates/localisation-loading.html","../modules/geolocation.js",10,"LocalisationLightbox","isCurrentlyOpen","MapLightbox","CURRENT_LOCATION_BUTTON","FIND_LOCATION_BUTTON","blurBackground","showCurrentLocationLightbox","showFindLocationLightbox","lightbox","Map","../../templates/localisation.html","./geolocationLightbox.js","./mapLightbox.js",11,"MAP_CANVAS","SEARCH_BOX_INPUT","SELECT_LOCATION_BUTTON","../../templates/map.html","../modules/map.js",12,"ResultLightbox","restaurant","RATING","RATING_FG","CLOSE_BUTTON","href","buildHref","title","rating","displayRatings","css","resultName","mapURL","originCoords","../../templates/result.mustache",13,"callback","enableHighAccuracy","maximumAge","navigator","getCurrentPosition","success","error","pos","coords","err","closeParentWindow","parentRoot","../lightboxes/errorLocationLightbox.js","./places.js",14,"canvasID","searchButtonID","map","google","maps","document","getElementById","mapTypeId","MapTypeId","ROADMAP","defaultBounds","LatLngBounds","LatLng","fitBounds","input","searchBox","SearchBox","placesChanged","boundsChanged","centerChanged","event","addListener","getPlaces","place","bounds","icon","size","Size","Point","anchor","scaledSize","extend","geometry","setZoom","getBounds","setBounds","getCenter",15,"userOptions","radiusIncrement","restaurants","API_URL","getJSON","buildQueryParams","data","expandSearchRadius","parseInt","wheel","setRestaurants","draw",16,"Utilities","hash","vars","hashes","slice","removeClass","addClass",17,"Wheel","selector","canvas","$canvas","getContext","defaultRestaurants","width","height","startAngle","spinTimeout","isSpinning","spinArcStart","spinTime","spinTimeTotal","spinVelocity","rouletteWheel","outsideRadius","textRadius","insideRadius","angle","drag","clickedX","clickedY","currentDragX","currentDragY","previousDragX","previousDragY","isDragging","changedAngle","arcAngle","colours","SPIN_BUTTON","clearRect","strokeStyle","font","arc","Math","PI","retIsSpinning","spin","mousedown","pageX","pageY","mousemove","atan2","top","left","addToStartAngle","mouseup","mouseout","forEach","fillStyle","beginPath","fill","translate","cos","sin","rotate","printName","measureText","restore","drawArrow","moveTo","lineTo","isForward","spinAngleStart","random","stopRotate","spinAngle","easeOut","setTimeout","clearTimeout","degrees","arcd","floor","abs","Result","x","y","lineHeight","fitWidth","splitDash","headText","tailText","idx","fillText","ts","tc","../data/colours.js","../data/restaurants.js","../lightboxes/resultLightbox.js",18,19,"showLocalisationOptions","Localisation","../elements/settings.js","../lightboxes/localisationLightbox.js","../modules/utilities","../modules/wheel.js",20,"modules","global","page","utils",21,22,23,24,25,"p","hogan.js",26],"mappings":"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","file":"all.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1, '^': 2, '<': 3, '$': 4,\n    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n    '{': 10, '&': 11, '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({tag: '_t', text: new String(buf)});\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = { code: '', subs: {}, partials: {} };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r')\n            .replace(rLineSep, '\\\\u2028')\n            .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {name: node.n, partials: {}};\n    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n                      't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})(typeof exports !== 'undefined' ? exports : Hogan);\n\n},{}],2:[function(require,module,exports){\n/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n// This file is for use with Node.js. See dist/ for browser files.\n\nvar Hogan = require('./compiler');\nHogan.Template = require('./template').Template;\nHogan.template = Hogan.Template;\nmodule.exports = Hogan;\n\n},{\"./compiler\":1,\"./template\":3}],3:[function(require,module,exports){\n/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n\n},{}],4:[function(require,module,exports){\nmodule.exports = (function() {\r\n  'use strict';\r\n  return {\r\n      bgColour: [\r\n      \"#F80120\",\r\n    \t\"#F35B20\",\r\n    \t\"#FB9A00\",\r\n    \t\"#FFCC00\",\r\n    \t\"#FEF200\",\r\n      \"#B8D430\",\r\n    \t\"#3AB745\",\r\n    \t\"#029990\",\r\n    \t\"#3501CB\",\r\n    \t\"#2E2C75\",\r\n    \t\"#673A7E\",\r\n    \t\"#CC0071\"\r\n    ],\r\n    fontColour: [\r\n    \t\"#FFF\",\r\n    \t\"#FFF\",\r\n    \t\"#333\",\r\n    \t\"#333\",\r\n    \t\"#333\",\r\n    \t\"#333\",\r\n    \t\"#FFF\",\r\n    \t\"#FFF\",\r\n      \"#FFF\",\r\n    \t\"#FFF\",\r\n    \t\"#FFF\",\r\n    \t\"#FFF\",\r\n    ]\r\n  };\r\n}());\r\n\n},{}],5:[function(require,module,exports){\nmodule.exports = (function() {\r\n  'use strict';\r\n  return [\r\n      {name:\"Wendy's\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"McDonalds\", lat:\"\", lng:\"\", vicinity:\"\"},\r\n      {name:\"Chick-fil-a\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"Five Guys\", lat:\"\", lng:\"\", vicinity:\"\"},\r\n      {name:\"Gold Star\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"La Mexicana\", lat:\"\", lng:\"\", vicinity:\"\"},\r\n      {name:\"Chipotle\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"Tazza Mia\", lat:\"\", lng:\"\", vicinity:\"\"},\r\n      {name:\"Panera\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"Just Crepes\", lat:\"\", lng:\"\", vicinity:\"\"},\r\n      {name:\"Arby's\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"Indian\", lat:\"\", lng:\"\", vicinity:\"\"}\r\n    ];\r\n\r\n}());\r\n\n},{}],6:[function(require,module,exports){\nmodule.exports = (function($) {\r\n\r\n  'use strict';\r\n\r\n  var Places = require('../modules/places.js');\r\n\r\n  /* Constants */\r\n  var HTML_OUTPUT = require('../../templates/settings.html');\r\n  var ID = '#settings';\r\n\r\n  /* Buttons & Inputs */\r\n  var OPEN_CLOSE_BUTTON = '#settings a.settings';\r\n  var CLICK_ME_TEXT = '#settings .clickme';\r\n  var PLACE_TYPE_RADIO = '#settings .placetype';\r\n  var LAT_INPUT = '#settings input.latitude';\r\n  var LNG_INPUT = '#settings input.longitude';\r\n  var RAD_INPUT = '#settings input.radius';\r\n  var MAX_PLACES_INPUT = '#settings input.maxplaces';\r\n  var SHARE_LINK_INPUT = '#settings input.sharelink';\r\n  var SEARCH_BUTTON = '#settings-search';\r\n  var DYNAMIC_SEARCH_INPUT = '#settings input.dynamic-search';\r\n\r\n  function Settings() {\r\n\r\n    this.elems = {\r\n      id: ID,\r\n      root: null\r\n    };\r\n\r\n    this.settings = {\r\n      placeType: 'restaurant',\r\n      latitude: '',\r\n      longitude: '',\r\n      radius: 300,\r\n      maxPlaces: 12,\r\n      shareLink: '',\r\n      dynamicSearch: false\r\n    };\r\n\r\n    this.URLparams = WOL.app.utilities.getURLParams();\r\n\r\n    this.init();\r\n  }\r\n\r\n  Settings.prototype.init = function() {\r\n    if(typeof this.URLparams.lat !== 'undefined') { this.settings.latitude = this.URLparams.lat; }\r\n    if(typeof this.URLparams.long !== 'undefined') { this.settings.longitude = this.URLparams.long; }\r\n    if(typeof this.URLparams.radius !== 'undefined') { this.settings.radius = this.URLparams.radius; }\r\n    if(typeof this.URLparams.type !== 'undefined') { this.settings.placeType = this.URLparams.type; }\r\n    if(typeof this.URLparams.maxplaces !== 'undefined') { this.settings.maxPlaces = this.URLparams.maxplaces; }\r\n\r\n    this.elems.root = $(ID);\r\n    this.addWindow();\r\n    this.populate();\r\n    this.addEvents();\r\n  };\r\n\r\n  Settings.prototype.addWindow = function() {\r\n    $('body').prepend(HTML_OUTPUT);\r\n  };\r\n\r\n  Settings.prototype.addEvents = function() {\r\n    var self = this;\r\n\r\n    $(OPEN_CLOSE_BUTTON).on('click', function() {\r\n      $('.clickme').remove();\r\n      $('.settings').toggleClass('settings-open');\r\n    });\r\n\r\n    $(SEARCH_BUTTON).on('click', function() {\r\n      self.save();\r\n      WOL.app.places = new Places(self.settings);\r\n    });\r\n  };\r\n\r\n  Settings.prototype.populate = function() {\r\n    $(PLACE_TYPE_RADIO + '.' + this.settings.placeType).prop('checked', true);\r\n    $(LAT_INPUT).val(this.settings.latitude);\r\n    $(LNG_INPUT).val(this.settings.longitude);\r\n    $(RAD_INPUT).val(this.settings.radius);\r\n    $(MAX_PLACES_INPUT).val(this.settings.maxPlaces);\r\n    this.settings.shareLink = this.getShareLink();\r\n    $(SHARE_LINK_INPUT).val(this.settings.shareLink);\r\n  };\r\n\r\n  Settings.prototype.save = function() {\r\n    this.settings.placeType = $(PLACE_TYPE_RADIO + ':checked').val();\r\n    this.settings.latitude = $(LAT_INPUT).val();\r\n    this.settings.longitude = $(LNG_INPUT).val();\r\n    this.settings.radius = $(RAD_INPUT).val();\r\n    this.settings.maxPlaces = $(MAX_PLACES_INPUT).val();\r\n    this.settings.shareLink = this.getShareLink();\r\n    this.settings.dynamicSearch = $(DYNAMIC_SEARCH_INPUT).is(':checked');\r\n    this.populate();\r\n  };\r\n\r\n  Settings.prototype.setLatLong = function(position) {\r\n    this.settings.latitude = position.latitude;\r\n    this.settings.longitude = position.longitude;\r\n    this.populate();\r\n  };\r\n\r\n  Settings.prototype.setRadius = function(radius) {\r\n    this.settings.radius = radius;\r\n    this.populate();\r\n  };\r\n\r\n  Settings.prototype.getShareLink = function() {\r\n    var url = window.location.origin + window.location.pathname;\r\n  \tvar params = {\r\n    \t\t\tlat: this.settings.latitude,\r\n    \t\t\tlong: this.settings.longitude,\r\n    \t\t\tradius: this.settings.radius,\r\n    \t\t\ttype: this.settings.placeType,\r\n    \t\t\tmaxplaces: this.settings.maxPlaces\r\n  \t\t};\r\n\r\n  \treturn url + '?' + $.param(params);\r\n  };\r\n\r\n  return Settings;\r\n}(jQuery));\r\n\n},{\"../../templates/settings.html\":26,\"../modules/places.js\":15}],7:[function(require,module,exports){\n(function() {\r\n\r\n  'use strict';\r\n\r\n  var WOL = window.WOL = require('./wheel-of-lunch.js');\r\n\r\n  require('./pages/global.js');\r\n  require('./pages/main.js');\r\n\r\n})();\r\n\n},{\"./pages/global.js\":18,\"./pages/main.js\":19,\"./wheel-of-lunch.js\":20}],8:[function(require,module,exports){\nmodule.exports = (function($) {\r\n\r\n  'use strict';\r\n\r\n  /* Constants */\r\n  var HTML_OUTPUT = require('../../templates/localisation-error.html');\r\n  var ID = '#localisation-error';\r\n\r\n  /* Buttons */\r\n  var CONTINUE_BUTTON = '#localisation-continue-button';\r\n\r\n  function ErrorLocationLightbox() {\r\n\r\n    this.elems = {\r\n      id: ID,\r\n      root: null\r\n    };\r\n\r\n    this.init();\r\n  }\r\n\r\n  ErrorLocationLightbox.prototype.init = function() {\r\n    this.addWindow();\r\n  };\r\n\r\n  ErrorLocationLightbox.prototype.addWindow = function() {\r\n    $('body').prepend(HTML_OUTPUT);\r\n    this.elems.root = $(ID);\r\n    this.addEvents();\r\n  };\r\n\r\n  ErrorLocationLightbox.prototype.closeWindow = function() {\r\n    this.elems.root.remove();\r\n  };\r\n\r\n  ErrorLocationLightbox.prototype.addEvents = function() {\r\n    var self = this;\r\n\r\n    $(CONTINUE_BUTTON).on('click', function() {\r\n      self.closeWindow();\r\n    });\r\n  };\r\n\r\n  return ErrorLocationLightbox;\r\n}(jQuery));\r\n\n},{\"../../templates/localisation-error.html\":21}],9:[function(require,module,exports){\nmodule.exports = (function($) {\r\n\r\n  'use strict';\r\n\r\n  var Geolocation = require('../modules/geolocation.js');\r\n\r\n  /* Constants */\r\n  var HTML_OUTPUT = require('../../templates/localisation-loading.html');\r\n  var ID = '#geolocation';\r\n\r\n  function GeolocationLightbox() {\r\n\r\n    this.elems = {\r\n      id: ID,\r\n      root: null\r\n    };\r\n\r\n    this.init();\r\n  }\r\n\r\n  GeolocationLightbox.prototype.init = function() {\r\n    this.addWindow();\r\n  };\r\n\r\n  GeolocationLightbox.prototype.addWindow = function() {\r\n    $('body').prepend(HTML_OUTPUT);\r\n    this.elems.root = $(ID);\r\n    this.getLocation();\r\n  };\r\n\r\n  GeolocationLightbox.prototype.closeWindow = function() {\r\n    this.elems.root.remove();\r\n    WOL.app.utilities.unblurBackground();\r\n  };\r\n\r\n  GeolocationLightbox.prototype.getLocation = function() {\r\n    var self = this;\r\n    WOL.app.geolocation = new Geolocation(function() {\r\n      self.closeWindow();\r\n    });\r\n  };\r\n\r\n  return GeolocationLightbox;\r\n}(jQuery));\r\n\n},{\"../../templates/localisation-loading.html\":22,\"../modules/geolocation.js\":13}],10:[function(require,module,exports){\nmodule.exports = (function($) {\r\n\r\n  'use strict';\r\n\r\n  var GeolocationLightbox = require('./geolocationLightbox.js');\r\n  var MapLightbox = require('./mapLightbox.js');\r\n\r\n  /* Constants */\r\n  var HTML_OUTPUT = require('../../templates/localisation.html');\r\n  var ID = '#localisation';\r\n\r\n  /* Buttons */\r\n  var CURRENT_LOCATION_BUTTON = '#location-option-current';\r\n  var FIND_LOCATION_BUTTON = '#location-option-find';\r\n\r\n  function LocalisationLightbox() {\r\n\r\n    this.elems = {\r\n      id: ID,\r\n      root: null\r\n    };\r\n\r\n    this.isCurrentlyOpen = false;\r\n\r\n    this.init();\r\n  }\r\n\r\n  LocalisationLightbox.prototype.init = function() {\r\n    this.addWindow();\r\n  };\r\n\r\n  LocalisationLightbox.prototype.addWindow = function() {\r\n    WOL.app.utilities.blurBackground();\r\n    $('body').prepend(HTML_OUTPUT);\r\n    this.elems.root = $(ID);\r\n    this.isCurrentlyOpen = true;\r\n    this.addEvents();\r\n  };\r\n\r\n  LocalisationLightbox.prototype.closeWindow = function() {\r\n    this.isCurrentlyOpen = false;\r\n    this.elems.root.remove();\r\n  };\r\n\r\n  LocalisationLightbox.prototype.addEvents = function() {\r\n    var self = this;\r\n\r\n    $(CURRENT_LOCATION_BUTTON).on('click', function() {\r\n      self.showCurrentLocationLightbox();\r\n      self.closeWindow();\r\n    });\r\n\r\n    $(FIND_LOCATION_BUTTON).on('click', function() {\r\n      self.showFindLocationLightbox();\r\n      self.closeWindow();\r\n    });\r\n  };\r\n\r\n  LocalisationLightbox.prototype.showCurrentLocationLightbox = function() {\r\n    WOL.app.lightbox.Geolocation = new GeolocationLightbox();\r\n  };\r\n\r\n  LocalisationLightbox.prototype.showFindLocationLightbox = function() {\r\n    WOL.app.lightbox.Map = new MapLightbox();\r\n  };\r\n\r\n  return LocalisationLightbox;\r\n}(jQuery));\r\n\n},{\"../../templates/localisation.html\":23,\"./geolocationLightbox.js\":9,\"./mapLightbox.js\":11}],11:[function(require,module,exports){\nmodule.exports = (function($) {\r\n\r\n  'use strict';\r\n\r\n  var Map = require('../modules/map.js');\r\n  var Places = require('../modules/places.js');\r\n\r\n  /* Constants */\r\n  var HTML_OUTPUT = require('../../templates/map.html');\r\n  var ID = '#map';\r\n\r\n  /* Inputs and Buttons */\r\n  var MAP_CANVAS = 'map-canvas';\r\n  var SEARCH_BOX_INPUT = 'map-search';\r\n  var SELECT_LOCATION_BUTTON = '#map .select-location';\r\n\r\n  function MapLightbox() {\r\n\r\n    this.elems = {\r\n      id: ID,\r\n      root: null\r\n    };\r\n\r\n    this.init();\r\n  }\r\n\r\n  MapLightbox.prototype.init = function() {\r\n    this.addWindow();\r\n    WOL.app.Map = new Map(MAP_CANVAS, SEARCH_BOX_INPUT);\r\n  };\r\n\r\n  MapLightbox.prototype.addWindow = function() {\r\n    $('body').prepend(HTML_OUTPUT);\r\n    this.elems.root = $(ID);\r\n    this.addEvents();\r\n  };\r\n\r\n  MapLightbox.prototype.closeWindow = function() {\r\n    this.elems.root.remove();\r\n    WOL.app.utilities.unblurBackground();\r\n  };\r\n\r\n  MapLightbox.prototype.addEvents = function() {\r\n    var self = this;\r\n\r\n    $(SELECT_LOCATION_BUTTON).on('click', function() {\r\n      WOL.app.settings.setLatLong(WOL.app.Map.position);\r\n      WOL.app.places = new Places(\r\n        {\r\n          latitude: WOL.app.Map.position.latitude,\r\n          longitude: WOL.app.Map.position.longitude,\r\n          dynamicSearch: true\r\n        }\r\n      );\r\n      self.closeWindow();\r\n    });\r\n  };\r\n\r\n  return MapLightbox;\r\n}(jQuery));\r\n\n},{\"../../templates/map.html\":24,\"../modules/map.js\":14,\"../modules/places.js\":15}],12:[function(require,module,exports){\nmodule.exports = (function($) {\r\n\r\n  'use strict';\r\n\r\n  /* Constants */\r\n  var HTML_OUTPUT = require('../../templates/result.mustache');\r\n  var ID = '#result';\r\n\r\n  /* Buttons */\r\n  var RATING = '#result .rating';\r\n  var RATING_FG = '#result .rating-foreground';\r\n  var CLOSE_BUTTON = '#result .close';\r\n\r\n  function ResultLightbox(restaurant) {\r\n\r\n    this.elems = {\r\n      id: ID,\r\n      root: null\r\n    };\r\n    this.restaurant = restaurant;\r\n    this.init();\r\n  }\r\n\r\n  ResultLightbox.prototype.init = function() {\r\n    this.restaurant.href = this.buildHref();\r\n    this.addWindow();\r\n  };\r\n\r\n  ResultLightbox.prototype.addWindow = function() {\r\n    WOL.app.utilities.blurBackground();\r\n    $('body').prepend(HTML_OUTPUT.render( {\r\n      title: this.restaurant.name,\r\n      vicinity: this.restaurant.vicinity,\r\n      rating: this.restaurant.rating,\r\n      href: this.restaurant.href\r\n    }));\r\n    this.elems.root = $(ID);\r\n    this.displayRatings();\r\n    this.addEvents();\r\n  };\r\n\r\n  ResultLightbox.prototype.closeWindow = function() {\r\n    this.elems.root.remove();\r\n    WOL.app.utilities.unblurBackground();\r\n  };\r\n\r\n  ResultLightbox.prototype.displayRatings = function() {\r\n    if(typeof this.restaurant.rating === 'undefined' || this.restaurant.rating === null) {\r\n      $(RATING).remove();\r\n    } else {\r\n      $(RATING_FG).css('width', (this.restaurant.rating / 5) * 100 + '%');\r\n    }\r\n  };\r\n\r\n  ResultLightbox.prototype.addEvents = function() {\r\n    var self = this;\r\n\r\n    $(CLOSE_BUTTON).on('click', function() {\r\n      self.closeWindow();\r\n    });\r\n  };\r\n\r\n  ResultLightbox.prototype.buildHref = function() {\r\n    var resultName = this.restaurant.name.split(' ').join('+');\r\n    var mapURL = \"http://maps.google.com/maps/dir/\";\r\n\t\tvar originCoords = WOL.app.settings.settings.latitude + \",\" + WOL.app.settings.settings.longitude;\r\n\r\n    return mapURL + originCoords + '/' + resultName + ',' + this.restaurant.vicinity + '/@' + this.restaurant.lat + ',' + this.restaurant.lng;\r\n  };\r\n\r\n  return ResultLightbox;\r\n}(jQuery));\r\n\n},{\"../../templates/result.mustache\":25}],13:[function(require,module,exports){\nmodule.exports = (function() {\r\n\r\n  'use strict';\r\n\r\n  var Places = require('./places.js');\r\n  var ErrorLocationLightbox = require('../lightboxes/errorLocationLightbox.js');\r\n\r\n  function Geolocation(callback) {\r\n\r\n    this.callback = callback;\r\n    this.position = {};\r\n\r\n    this.options = {\r\n      enableHighAccuracy: true,\r\n      maximumAge: 0\r\n    };\r\n\r\n    this.getLocation();\r\n  }\r\n\r\n  Geolocation.prototype.getLocation = function() {\r\n    navigator.geolocation.getCurrentPosition(this.success, this.error, this.options);\r\n  };\r\n\r\n  Geolocation.prototype.success = function(pos) {\r\n    WOL.app.geolocation.position = pos.coords;\r\n    WOL.app.settings.setLatLong(WOL.app.geolocation.position);\r\n    WOL.app.places = new Places(\r\n      {\r\n        latitude: WOL.app.geolocation.position.latitude,\r\n        longitude: WOL.app.geolocation.position.longitude,\r\n        dynamicSearch: true\r\n      }\r\n    );\r\n    WOL.app.geolocation.callback();\r\n  };\r\n\r\n  Geolocation.prototype.error = function(err) {\r\n    WOL.app.geolocation.callback();\r\n    WOL.app.lightbox.ErrorLocationLightbox = new ErrorLocationLightbox();\r\n  };\r\n\r\n  Geolocation.prototype.closeParentWindow = function() {\r\n    this.elems.parentRoot.remove();\r\n  };\r\n\r\n  return Geolocation;\r\n}());\r\n\n},{\"../lightboxes/errorLocationLightbox.js\":8,\"./places.js\":15}],14:[function(require,module,exports){\nmodule.exports = (function() {\r\n\r\n  'use strict';\r\n\r\n  function Map(canvasID, searchButtonID) {\r\n    this.position = {\r\n      latitude: 0,\r\n      longitude: 0\r\n    };\r\n\r\n    this.map = new google.maps.Map(document.getElementById(canvasID), {\r\n      mapTypeId: google.maps.MapTypeId.ROADMAP\r\n    });\r\n\r\n    this.defaultBounds = new google.maps.LatLngBounds(\r\n        new google.maps.LatLng(49.383639452689664, -17.39866406249996),\r\n        new google.maps.LatLng(59.53530451232491, 8.968523437500039));\r\n    this.map.fitBounds(this.defaultBounds);\r\n\r\n    this.input = document.getElementById(searchButtonID);\r\n\r\n    this.searchBox = new google.maps.places.SearchBox((this.input));\r\n\r\n    this.init();\r\n  }\r\n\r\n  Map.prototype.init = function() {\r\n    this.addEvents();\r\n  };\r\n\r\n  Map.prototype.addEvents = function() {\r\n    this.placesChanged();\r\n    this.boundsChanged();\r\n    this.centerChanged();\r\n  };\r\n\r\n  // Listen for the event fired when the user selects an item from the\r\n  // pick list. Retrieve the matching places for that item.\r\n  Map.prototype.placesChanged = function() {\r\n    var self = this;\r\n    google.maps.event.addListener(this.searchBox, 'places_changed', function() {\r\n      var places = self.searchBox.getPlaces();\r\n\r\n      if (places.length === 0) {\r\n        return;\r\n      }\r\n\r\n      // For each place, get the icon, place name, and location.\r\n      var bounds = new google.maps.LatLngBounds();\r\n      for (var j = 0, place; j < places.length; j++) {\r\n        place = places[j];\r\n        var image = {\r\n          url: place.icon,\r\n          size: new google.maps.Size(71, 71),\r\n          origin: new google.maps.Point(0, 0),\r\n          anchor: new google.maps.Point(17, 34),\r\n          scaledSize: new google.maps.Size(25, 25)\r\n        };\r\n\r\n        bounds.extend(place.geometry.location);\r\n      }\r\n\r\n      self.map.fitBounds(bounds);\r\n      if(places.length == 1){\r\n        self.map.setZoom(16);\r\n      }\r\n    });\r\n  };\r\n\r\n  Map.prototype.boundsChanged = function() {\r\n    var self = this;\r\n\r\n    // Bias the SearchBox results towards places that are within the bounds of the\r\n    // current map's viewport.\r\n    google.maps.event.addListener(this.map, 'bounds_changed', function() {\r\n      var bounds = self.map.getBounds();\r\n      self.searchBox.setBounds(bounds);\r\n    });\r\n  };\r\n\r\n  Map.prototype.centerChanged = function() {\r\n    var self = this;\r\n\r\n    google.maps.event.addListener(this.map, 'center_changed', function() {\r\n      self.position.latitude = self.map.getCenter().lat();\r\n      self.position.longitude = self.map.getCenter().lng();\r\n    });\r\n  };\r\n\r\n  return Map;\r\n}());\r\n\n},{}],15:[function(require,module,exports){\nmodule.exports = (function() {\r\n\r\n  'use strict';\r\n\r\n  var ErrorLocationLightbox = require('../lightboxes/errorLocationLightbox.js');\r\n\r\n  var API_URL = 'http://www.jack-palmer.co.uk/wheel/api/getPlaces/';\r\n\r\n  function Places(userOptions) {\r\n\r\n    this.options = {\r\n        radius: 300,\r\n        radiusIncrement: 50,\r\n        placeType: 'restaurant',\r\n        maxPlaces: 12,\r\n        dynamicSearch: false\r\n    };\r\n\r\n    this.URLparams = WOL.app.utilities.getURLParams();\r\n\r\n    if(typeof userOptions === 'undefined') {\r\n      this.userOptions = { };\r\n    } else {\r\n      this.userOptions = userOptions;\r\n    }\r\n\r\n    this.restaurants = {};\r\n\r\n    this.init();\r\n    this.getPlaces(this.options);\r\n  }\r\n\r\n  Places.prototype.init = function() {\r\n    if(typeof this.URLparams.lat !== 'undefined') { this.options.latitude = this.URLparams.lat; }\r\n    if(typeof this.URLparams.long !== 'undefined') { this.options.longitude = this.URLparams.long; }\r\n    if(typeof this.URLparams.radius !== 'undefined') { this.options.radius = this.URLparams.radius; }\r\n    if(typeof this.URLparams.type !== 'undefined') { this.options.placeType = this.URLparams.type; }\r\n    if(typeof this.URLparams.maxplaces !== 'undefined') { this.options.maxPlaces = this.URLparams.maxplaces; }\r\n\r\n    if(typeof this.userOptions.latitude !== 'undefined') { this.options.latitude = this.userOptions.latitude; }\r\n    if(typeof this.userOptions.longitude !== 'undefined') { this.options.longitude = this.userOptions.longitude; }\r\n    if(typeof this.userOptions.radius !== 'undefined') { this.options.radius = this.userOptions.radius; }\r\n    if(typeof this.userOptions.placeType !== 'undefined') { this.options.placeType = this.userOptions.placeType; }\r\n    if(typeof this.userOptions.maxPlaces !== 'undefined') { this.options.maxPlaces = this.userOptions.maxPlaces; }\r\n\r\n    if(typeof this.userOptions.dynamicSearch !== 'undefined') { this.options.dynamicSearch = this.userOptions.dynamicSearch; }\r\n  };\r\n\r\n  Places.prototype.getPlaces = function(options) {\r\n    var self = this;\r\n\r\n    $.getJSON( API_URL + this.buildQueryParams(options),\r\n    function( data ) {\r\n\r\n      if(data.length < options.maxPlaces && options.radius < 3000 && options.dynamicSearch) {\r\n        self.expandSearchRadius(data, options);\r\n      } else {\r\n\r\n        if(data.length === 0) {\r\n          self.error();\r\n        } else {\r\n          self.success(data, options);\r\n        }\r\n\r\n      }\r\n\r\n    });\r\n  };\r\n\r\n  Places.prototype.buildQueryParams = function(options) {\r\n    return '?' +\r\n           'latitude=' + options.latitude + '&' +\r\n           'longitude=' + options.longitude + '&' +\r\n           'radius=' + options.radius + '&' +\r\n           'type=' + options.placeType + '&' +\r\n           'maxplaces=' + options.maxPlaces + '&' +\r\n           'minPrice=' + '0' + '&' +\r\n           'maxPrice=' + '4';\r\n  };\r\n\r\n  Places.prototype.expandSearchRadius = function(data, options) {\r\n    if(options.radius >= 300) {\r\n      options.radiusIncrement = 100;\r\n    }\r\n    if(options.radius >= 1000) {\r\n      options.radiusIncrement = 500;\r\n    }\r\n\r\n    this.getPlaces(\r\n      {\r\n        latitude: options.latitude,\r\n        longitude: options.longitude,\r\n        radius: parseInt(options.radius) + options.radiusIncrement,\r\n        radiusIncrement: parseInt(options.radiusIncrement),\r\n        placeType: options.placeType,\r\n        maxPlaces: parseInt(options.maxPlaces),\r\n        dynamicSearch: options.dynamicSearch\r\n      }\r\n    );\r\n  };\r\n\r\n  Places.prototype.success = function(data, options) {\r\n    this.restaurants = data;\r\n    this.options.dynamicSearch = false;\r\n\r\n    if(options.dynamicSearch) {\r\n      WOL.app.settings.setRadius(options.radius);\r\n    }\r\n\r\n    WOL.app.wheel.setRestaurants(data);\r\n    WOL.app.wheel.draw();\r\n  };\r\n\r\n  Places.prototype.error = function(data) {\r\n    WOL.app.lightbox.ErrorLocationLightbox = new ErrorLocationLightbox();\r\n  };\r\n\r\n  return Places;\r\n}());\r\n\n},{\"../lightboxes/errorLocationLightbox.js\":8}],16:[function(require,module,exports){\nmodule.exports = (function($) {\r\n\r\n  'use strict';\r\n\r\n  function Utilities() {\r\n\r\n  }\r\n\r\n  Utilities.prototype.getURLParams = function() {\r\n      var vars = [], hash;\r\n      var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');\r\n      for(var i = 0; i < hashes.length; i++) {\r\n          hash = hashes[i].split('=');\r\n          if(hash.length == 2) {\r\n  \t        vars.push(hash[0]);\r\n  \t        vars[hash[0]] = hash[1];\r\n  \t    }\r\n      }\r\n      return vars;\r\n  };\r\n\r\n  Utilities.prototype.blurBackground = function() {\r\n    $('.unblur').removeClass('unblur').addClass('blur');\r\n  };\r\n  Utilities.prototype.unblurBackground = function() {\r\n    $('.blur').removeClass('blur').addClass('unblur');\r\n  };\r\n\r\n  return Utilities;\r\n}(jQuery));\r\n\n},{}],17:[function(require,module,exports){\nmodule.exports = (function() {\r\n\r\n  'use strict';\r\n\r\n  var colours = require('../data/colours.js');\r\n  var defaultRestaurants = require('../data/restaurants.js');\r\n  var ResultLightbox = require('../lightboxes/resultLightbox.js');\r\n\r\n  /* Buttons */\r\n  var SPIN_BUTTON = '#spin';\r\n\r\n  function Wheel(selector) {\r\n\r\n    var canvas = document.getElementById(selector);\r\n    var $canvas = $('#' + selector);\r\n\r\n    this.elems = {\r\n      selector: '#' + selector,\r\n      canvas: canvas,\r\n      $canvas: $canvas\r\n    };\r\n\r\n    if(!canvas.getContext) {\r\n      return;\r\n    }\r\n\r\n    this.data = {\r\n      canvas: canvas,\r\n      restaurants: defaultRestaurants,\r\n      width: 600,\r\n      height: 600,\r\n      startAngle: 0,\r\n      spinTimeout: null,\r\n      isSpinning: false,\r\n      spinArcStart: 10,\r\n      spinTime: 0,\r\n      spinTimeTotal: 0,\r\n      spinVelocity: 2000,\r\n      ctx: null,\r\n      rouletteWheel: {},\r\n      outsideRadius: 250,\r\n      textRadius: 194,\r\n      insideRadius: 150,\r\n      angle: null,\r\n      text: null,\r\n      drag: {\r\n        clickedX: null,\r\n        clickedY: null,\r\n        currentDragX: null,\r\n        currentDragY: null,\r\n        previousDragX: null,\r\n        previousDragY: null,\r\n        isDragging: null,\r\n        changedAngle: null,\r\n        arcAngle: null\r\n      }\r\n    };\r\n\r\n    this.init();\r\n  }\r\n\r\n  Wheel.prototype.init = function() {\r\n    this.data.ctx = this.data.canvas.getContext(\"2d\");\r\n    this.data.ctx.clearRect(0, 0, this.data.width, this.data.height);\r\n    this.data.ctx.strokeStyle = \"black\";\r\n    this.data.ctx.font = \"12px Helvetica, Arial\";\r\n    this.data.arc = Math.PI / (this.data.restaurants.length / 2);\r\n\r\n    this.draw();\r\n    this.addEvents();\r\n  };\r\n\r\n  Wheel.prototype.addEvents = function() {\r\n    var self = this;\r\n\r\n    $(SPIN_BUTTON).on('click', function() {\r\n      if(!self.retIsSpinning()) {\r\n  \t\t\tself.spin(true);\r\n  \t\t}\r\n    });\r\n\r\n    $(this.elems.selector).mousedown(function(e) {\r\n  \t\tself.data.drag.clickedX = e.pageX;\r\n  \t\tself.data.drag.clickedY = e.pageY;\r\n  \t\t//set up the first instance of previous drag\r\n  \t\tself.data.drag.previousDragX = e.pageX;\r\n  \t\tself.data.drag.previousDragY = e.pageY;\r\n  \t\tself.data.drag.isDragging = true;\r\n  \t});\r\n\r\n    $(this.elems.selector).mousemove(function(e) {\r\n  \t\tif(self.data.drag.isDragging && !self.retIsSpinning()) {\r\n  \t\t\tself.data.drag.currentDragX = e.pageX;\r\n  \t\t\tself.data.drag.currentDragY = e.pageY;\r\n\r\n  \t\t\t//finding the movement from the last drag\r\n  \t\t\tself.data.drag.changedAngle = Math.atan2(self.data.drag.currentDragY - $(SPIN_BUTTON).position().top, self.data.drag.currentDragX - $(SPIN_BUTTON).position().left);\r\n  \t\t\tself.data.drag.changedAngle -= Math.atan2(self.data.drag.previousDragY - $(SPIN_BUTTON).position().top, self.data.drag.previousDragX - $(SPIN_BUTTON).position().left);\r\n\r\n  \t\t\t//recalculating the arc from when the mouse was firsted click -- used to indicate a 'spin'\r\n  \t\t\tself.data.drag.arcAngle = Math.atan2(self.data.drag.currentDragY - $(SPIN_BUTTON).position().top, self.data.drag.currentDragX - $(SPIN_BUTTON).position().left);\r\n  \t\t\tself.data.drag.arcAngle -= Math.atan2(self.data.drag.clickedY - $(SPIN_BUTTON).position().top, self.data.drag.clickedX - $(SPIN_BUTTON).position().left);\r\n\r\n\r\n  \t\t\t//add whatever the angle has changed by from the last movement of the mouse\r\n  \t\t\tself.addToStartAngle(self.data.drag.changedAngle);\r\n  \t\t\tself.draw(true);\r\n\r\n  \t\t\t//update the previous with the current coordinate of the mouse\r\n  \t\t\tself.data.drag.previousDragY = self.data.drag.currentDragY;\r\n  \t\t\tself.data.drag.previousDragX = self.data.drag.currentDragX;\r\n  \t\t}\r\n  \t});\r\n\r\n  \t$(this.elems.selector).mouseup(function(e) {\r\n  \t\tif((self.data.drag.arcAngle >= 0.5) && !self.retIsSpinning() && self.data.drag.changedAngle > 0) { // a minimum delta of rad = 0.5 required to drag around the wheel to count as a 'spin'\r\n  \t\t\tself.spin(true);\r\n  \t\t} else if((self.data.drag.arcAngle < -4) && !self.retIsSpinning() && self.data.drag.changedAngle > 0) {\r\n  \t\t\tself.spin(true);\r\n  \t\t} else if((self.data.drag.arcAngle <= -0.5) && !self.retIsSpinning() && self.data.drag.changedAngle < 0) {\r\n  \t\t\tself.spin(false);\r\n  \t\t} else if((self.data.drag.arcAngle > 4) && !self.retIsSpinning() && self.data.drag.changedAngle < 0) {\r\n  \t\t\tself.spin(false);\r\n  \t\t}\r\n  \t\tself.data.drag.isDragging = false;\r\n  \t});\r\n\r\n  \t$(this.elems.selector).mouseout(function(e) {\r\n  \t\tself.data.drag.isDragging = false;\r\n  \t});\r\n\r\n  };\r\n\r\n  Wheel.prototype.draw = function() {\r\n    var self = this;\r\n    this.data.ctx.clearRect(0, 0, this.data.width, this.data.height);\r\n    this.data.restaurants.forEach(function(restaurant, i) {\r\n      /* Render Segment */\r\n      self.data.angle = self.data.startAngle + i * self.data.arc;\r\n      self.data.ctx.fillStyle = colours.bgColour[i];\r\n\r\n      self.data.ctx.beginPath();\r\n      self.data.ctx.arc(self.data.width / 2, self.data.height / 2, self.data.outsideRadius, self.data.angle, self.data.angle + self.data.arc, false);\r\n      self.data.ctx.arc(self.data.width / 2, self.data.height / 2, self.data.insideRadius, self.data.angle + self.data.arc, self.data.angle, true);\r\n      self.data.ctx.fill();\r\n\r\n      self.data.ctx.save();\r\n\r\n      /* Render Text */\r\n      self.data.ctx.fillStyle = colours.fontColour[i];\r\n      self.data.ctx.translate(self.data.width / 2 + Math.cos(self.data.angle + self.data.arc /2) * self.data.textRadius,\r\n          self.data.height / 2 + Math.sin(self.data.angle + self.data.arc / 2) * self.data.textRadius);\r\n      self.data.ctx.rotate(self.data.angle + self.data.arc / 2 + Math.PI / 2);\r\n      self.printName(restaurant.name, -self.data.ctx.measureText(restaurant.name).width / 2, 0, 14, ((2 * Math.PI * self.data.textRadius) / self.data.restaurants.length) - 10);\r\n      self.data.ctx.restore();\r\n    });\r\n    this.drawArrow();\r\n  };\r\n\r\n  Wheel.prototype.drawArrow = function() {\r\n    this.data.ctx.fillStyle = \"#333\";\r\n    this.data.ctx.beginPath();\r\n\t\tthis.data.ctx.moveTo(this.data.width / 2  - 4, this.data.height / 2  - (this.data.outsideRadius + 25));\r\n\t\tthis.data.ctx.lineTo(this.data.width / 2 + 4, this.data.height / 2  - (this.data.outsideRadius + 25));\r\n\t\tthis.data.ctx.lineTo(this.data.width / 2 + 4, this.data.height / 2  - (this.data.outsideRadius + 15));\r\n\t\tthis.data.ctx.lineTo(this.data.width / 2 + 9, this.data.height / 2  - (this.data.outsideRadius + 15));\r\n\t\tthis.data.ctx.lineTo(this.data.width / 2 + 0, this.data.height / 2  - (this.data.outsideRadius - 0));\r\n\t\tthis.data.ctx.lineTo(this.data.width / 2 - 9, this.data.height / 2  - (this.data.outsideRadius + 15));\r\n\t\tthis.data.ctx.lineTo(this.data.width / 2 - 4, this.data.height / 2  - (this.data.outsideRadius + 15));\r\n\t\tthis.data.ctx.lineTo(this.data.width / 2 - 4, this.data.height / 2 - (this.data.outsideRadius + 25));\r\n\t\tthis.data.ctx.fill();\r\n  };\r\n\r\n  Wheel.prototype.spin = function(isForward) {\r\n    this.data.spinAngleStart = Math.random() * 10 + 10;\r\n    this.data.spinTime = 0;\r\n    this.data.spinTimeTotal = Math.random() * 3 + 4 * this.data.spinVelocity;\r\n\r\n    if(!this.data.isSpinning && isForward) {\r\n      this.data.isSpinning = true;\r\n      this.rotate(true);\r\n    } else if (!this.data.isSpinning && !isForward) {\r\n      this.data.isSpinning = true;\r\n      this.rotate(false);\r\n    }\r\n  };\r\n\r\n  Wheel.prototype.retIsSpinning = function() {\r\n    return this.data.isSpinning;\r\n  };\r\n\r\n  Wheel.prototype.addToStartAngle = function(angle) {\r\n    this.data.startAngle += angle;\r\n  };\r\n\r\n  Wheel.prototype.rotate = function(isForward) {\r\n    var self = this;\r\n    this.data.spinTime += 30;\r\n    if(this.data.spinTime >= this.data.spinTimeTotal) {\r\n      this.stopRotate();\r\n      this.data.isSpinning = false;\r\n      return;\r\n    }\r\n    var spinAngle = this.data.spinAngleStart - this.easeOut(this.data.spinTime, 0, this.data.spinAngleStart, this.data.spinTimeTotal);\r\n    if(isForward) {\r\n      this.data.startAngle += (spinAngle * Math.PI / 180);\r\n    } else {\r\n      this.data.startAngle -= (spinAngle * Math.PI / 180);\r\n    }\r\n    this.draw();\r\n    this.data.spinTimeout = setTimeout(function() {\r\n      self.rotate(isForward);\r\n    }, 30);\r\n  };\r\n\r\n  Wheel.prototype.stopRotate = function() {\r\n    clearTimeout(this.data.spinTimeout);\r\n    var degrees = this.data.startAngle * 180 / Math.PI + 90,\r\n      arcd = this.data.arc * 180 / Math.PI,\r\n      index = Math.floor((360 - degrees % 360) / arcd);\r\n    this.data.ctx.save();\r\n\r\n    if(degrees < 0) {\r\n      degrees = Math.abs(degrees);\r\n      index = Math.floor((degrees % 360) / arcd);\r\n    }\r\n\r\n    /* Display Result */\r\n    WOL.app.lightbox.Result = new ResultLightbox(this.data.restaurants[index]);\r\n\r\n    this.data.ctx.restore();\r\n  };\r\n\r\n  Wheel.prototype.printName = function(text, x, y, lineHeight, fitWidth) {\r\n    var str, splitDash, headText, tailText, idx;\r\n    fitWidth = fitWidth || 0;\r\n\r\n    if(fitWidth <= 0) {\r\n      this.data.ctx.fillText(text, x, y);\r\n      return;\r\n    }\r\n\r\n    for(idx = 1; idx <= text.length; idx++) {\r\n      str = text.substr(0, idx);\r\n\r\n      if(this.data.ctx.measureText(str).width > fitWidth) {\r\n        splitDash = (text.charAt(idx - 2) != \" \") ? \"-\" : \"\";\r\n        headText = text.substr(0, idx - 1) + splitDash;\r\n        tailText = text.substr(idx - 1);\r\n        this.data.ctx.fillText(headText, -this.data.ctx.measureText(headText).width / 2, y - lineHeight);\r\n        this.printName(tailText, -this.data.ctx.measureText(tailText).width / 2, y + lineHeight, lineHeight, fitWidth - 10);\r\n        return;\r\n      }\r\n    }\r\n\r\n    this.data.ctx.fillText(text, x, (y ? y - lineHeight : y));\r\n  };\r\n\r\n  Wheel.prototype.easeOut = function(t, b, c, d) {\r\n    var ts = (t /= d) * t;\r\n    var tc = ts * t;\r\n\r\n    return b + c * (tc + -3 * ts + 3 * t);\r\n  };\r\n\r\n  Wheel.prototype.setRestaurants = function(restaurants) {\r\n    this.data.restaurants = restaurants;\r\n    this.data.arc = Math.PI / (this.data.restaurants.length / 2);\r\n  };\r\n\r\n  return Wheel;\r\n}());\r\n\n},{\"../data/colours.js\":4,\"../data/restaurants.js\":5,\"../lightboxes/resultLightbox.js\":12}],18:[function(require,module,exports){\nmodule.exports = (function($) {\r\n\r\n  'use strict';\r\n\r\n}());\r\n\n},{}],19:[function(require,module,exports){\nmodule.exports = (function() {\r\n\r\n  'use strict';\r\n\r\n  var Utilities = require('../modules/utilities');\r\n  var Wheel = require('../modules/wheel.js');\r\n  var Settings = require('../elements/settings.js');\r\n  var LocalisationLightbox = require('../lightboxes/localisationLightbox.js');\r\n  var Places = require('../modules/places.js');\r\n\r\n  WOL.app.utilities = new Utilities();\r\n  WOL.app.wheel = new Wheel('wheel');\r\n  WOL.app.settings = new Settings();\r\n\r\n  var showLocalisationOptions = typeof WOL.app.settings.URLparams.lat === 'undefined' || typeof WOL.app.settings.URLparams.long === 'undefined';\r\n\r\n  if(showLocalisationOptions) {\r\n    WOL.app.lightbox.Localisation = new LocalisationLightbox();\r\n  } else {\r\n    WOL.app.places = new Places();\r\n  }\r\n\r\n  $('#new-location').on('click', function(){\r\n    if(typeof WOL.app.lightbox.Localisation !== 'undefined' && !WOL.app.lightbox.Localisation.isCurrentlyOpen) {\r\n      for(var key in WOL.app.lightbox) {\r\n        WOL.app.lightbox[key].closeWindow();\r\n      }\r\n      WOL.app.lightbox.Localisation = new LocalisationLightbox();\r\n    }\r\n  });\r\n\r\n}());\r\n\n},{\"../elements/settings.js\":6,\"../lightboxes/localisationLightbox.js\":10,\"../modules/places.js\":15,\"../modules/utilities\":16,\"../modules/wheel.js\":17}],20:[function(require,module,exports){\nmodule.exports = {\r\n  app: { lightbox: {} },\r\n  modules: {},\r\n  global: {},\r\n  page: {},\r\n  utils: {},\r\n  data: {}\r\n};\r\n\n},{}],21:[function(require,module,exports){\nmodule.exports = \"<div id=\\\"localisation-error\\\" class=\\\"alert alert-danger localisation\\\" role=\\\"alert\\\"><p>Oops! No places found. <button id=\\\"localisation-continue-button\\\" type=\\\"button\\\" class=\\\"btn btn-danger btn-sm\\\"> Continue anyway</button></p></div>\";\n\n},{}],22:[function(require,module,exports){\nmodule.exports = \"<div id=\\\"geolocation\\\" class=\\\"panel panel-default localisation search-localisation\\\"><div class=\\\"panel-body\\\"><p>Hang on a moment, we are just getting your location<span class=\\\"one\\\">.</span><span class=\\\"two\\\">.</span><span class=\\\"three\\\">.</span></p></div></div>\";\n\n},{}],23:[function(require,module,exports){\nmodule.exports = \"<div id=\\\"localisation\\\" class=\\\"panel panel-default select-localisation\\\"><div class=\\\"panel-body\\\"><p>Please select an option</p> <button type=\\\"button\\\" id=\\\"location-option-current\\\" class=\\\"btn btn-success\\\">Use my location</button> <button type=\\\"button\\\" id=\\\"location-option-find\\\" class=\\\"btn btn-info\\\">Find a location</button></div></div>\";\n\n},{}],24:[function(require,module,exports){\nmodule.exports = \"<div id=\\\"map\\\" class=\\\"panel panel-default panel-map\\\"><div class=\\\"panel-body\\\"><div id=\\\"map-header\\\"> <input type=\\\"text\\\" id=\\\"map-search\\\" class=\\\"search controls\\\" name=\\\"search\\\" placeholder=\\\"Enter postcode or place name\\\"/> <button type=\\\"button\\\" class=\\\"select-location btn btn-primary btn-lg\\\">Select Location</button> <input type=\\\"hidden\\\" name=\\\"lat\\\" id=\\\"latBox\\\" disabled/> <input type=\\\"hidden\\\" name=\\\"lng\\\" id=\\\"lngBox\\\" disabled/></div><div id=\\\"map-canvas\\\"></div><div class=\\\"center-marker\\\"></div></div></div>\";\n\n},{}],25:[function(require,module,exports){\nvar Hogan = require('hogan.js');\nmodule.exports = new Hogan.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div id=\\\"result\\\" class=\\\"panel panel-default result\\\">\\r\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"panel-body\\\">\\r\");t.b(\"\\n\" + i);t.b(\"    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\\r\");t.b(\"\\n\" + i);t.b(\"    <h2>\");t.b(t.v(t.f(\"title\",c,p,0)));t.b(\"</h2>\\r\");t.b(\"\\n\" + i);t.b(\"    <p class=\\\"vicinity\\\">\");t.b(t.v(t.f(\"vicinity\",c,p,0)));t.b(\"</p>\\r\");t.b(\"\\n\" + i);t.b(\"    <div class=\\\"rating\\\">\\r\");t.b(\"\\n\" + i);t.b(\"      <div class=\\\"rating-foreground\\\" style=\\\"width:0%;\\\">\\r\");t.b(\"\\n\" + i);t.b(\"        <i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i>\\r\");t.b(\"\\n\" + i);t.b(\"      </div>\\r\");t.b(\"\\n\" + i);t.b(\"      <div class=\\\"rating-background\\\">\\r\");t.b(\"\\n\" + i);t.b(\"        <i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i>\\r\");t.b(\"\\n\" + i);t.b(\"      </div>\\r\");t.b(\"\\n\" + i);t.b(\"    </div>\\r\");t.b(\"\\n\" + i);t.b(\"    <p>\\r\");t.b(\"\\n\" + i);t.b(\"      <a class=\\\"map\\\" target=\\\"_blank\\\" href=\\\"\");t.b(t.v(t.f(\"href\",c,p,0)));t.b(\"\\\">View on map</a>\\r\");t.b(\"\\n\" + i);t.b(\"    </p>\\r\");t.b(\"\\n\" + i);t.b(\"  </div>\\r\");t.b(\"\\n\" + i);t.b(\"</div>\\r\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div id=\\\"result\\\" class=\\\"panel panel-default result\\\">\\r\\n  <div class=\\\"panel-body\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\\r\\n    <h2>{{title}}</h2>\\r\\n    <p class=\\\"vicinity\\\">{{vicinity}}</p>\\r\\n    <div class=\\\"rating\\\">\\r\\n      <div class=\\\"rating-foreground\\\" style=\\\"width:0%;\\\">\\r\\n        <i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i>\\r\\n      </div>\\r\\n      <div class=\\\"rating-background\\\">\\r\\n        <i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i>\\r\\n      </div>\\r\\n    </div>\\r\\n    <p>\\r\\n      <a class=\\\"map\\\" target=\\\"_blank\\\" href=\\\"{{href}}\\\">View on map</a>\\r\\n    </p>\\r\\n  </div>\\r\\n</div>\\r\\n\", Hogan);\n},{\"hogan.js\":2}],26:[function(require,module,exports){\nmodule.exports = \"<div id=\\\"settings\\\"><a class=\\\"btn btn-primary btn-lg blur settings\\\" role=\\\"button\\\"><span class=\\\"glyphicon glyphicon-cog\\\"></span></a><div class=\\\"clickme blur\\\"><p>Click me!</p></div><div class=\\\"panel panel-default settings blur\\\"><div class=\\\"panel-body\\\"><div class=\\\"radio\\\"> <label><input type=\\\"radio\\\" name=\\\"placeType\\\" class=\\\"placetype restaurant\\\" value=\\\"restaurant\\\"> Restaurant</label></div><div class=\\\"radio\\\"> <label><input type=\\\"radio\\\" name=\\\"placeType\\\" class=\\\"placetype food\\\" value=\\\"food\\\"> Food</label></div><div class=\\\"radio\\\"> <label><input type=\\\"radio\\\" name=\\\"placeType\\\" class=\\\"placetype bar\\\" value=\\\"bar\\\"> Bar</label></div><div class=\\\"input-group\\\"><span class=\\\"input-group-addon\\\"><span class=\\\"glyphicon glyphicon-pushpin\\\"></span> Latitude</span> <input type=\\\"number\\\" class=\\\"latitude form-control\\\" placeholder=\\\"Latitude\\\"></div><div class=\\\"input-group\\\"><span class=\\\"input-group-addon\\\"><span class=\\\"glyphicon glyphicon-pushpin\\\"></span> Longitude</span> <input type=\\\"number\\\" class=\\\"longitude form-control\\\" placeholder=\\\"Longitude\\\"></div><div class=\\\"input-group\\\"><span class=\\\"input-group-addon\\\"><span class=\\\"glyphicon glyphicon-record\\\"></span> Radius (m)</span> <input type=\\\"number\\\" min=\\\"1\\\" class=\\\"radius form-control\\\" placeholder=\\\"Radius\\\"></div><div class=\\\"input-group\\\"><span class=\\\"input-group-addon\\\"><span class=\\\"glyphicon glyphicon-stats\\\"></span> # of Places</span> <input type=\\\"number\\\" min=\\\"1\\\" max=\\\"12\\\" class=\\\"maxplaces form-control\\\" placeholder=\\\"# of Places\\\"></div><div class=\\\"input-group\\\"><span class=\\\"input-group-addon\\\"><span class=\\\"glyphicon glyphicon-share\\\"></span> Share link</span> <input type=\\\"text\\\" class=\\\"sharelink form-control\\\" value=\\\"\\\"></div><div class=\\\"checkbox\\\"> <label><input type=\\\"checkbox\\\" class=\\\"dynamic-search\\\"> Dynamic Search</label></div> <button type=\\\"submit\\\" id=\\\"settings-search\\\" class=\\\"btn btn-primary\\\"><span class=\\\"glyphicon glyphicon-search\\\"></span> Search</button></div></div></div>\";\n\n},{}]},{},[7])\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvaG9nYW4uanMvbGliL2NvbXBpbGVyLmpzIiwibm9kZV9tb2R1bGVzL2hvZ2FuLmpzL2xpYi9ob2dhbi5qcyIsIm5vZGVfbW9kdWxlcy9ob2dhbi5qcy9saWIvdGVtcGxhdGUuanMiLCJzb3VyY2UvanMvZGF0YS9jb2xvdXJzLmpzIiwic291cmNlL2pzL2RhdGEvcmVzdGF1cmFudHMuanMiLCJzb3VyY2UvanMvZWxlbWVudHMvc2V0dGluZ3MuanMiLCJzb3VyY2UvanMvaW5pdC5qcyIsInNvdXJjZS9qcy9saWdodGJveGVzL2Vycm9yTG9jYXRpb25MaWdodGJveC5qcyIsInNvdXJjZS9qcy9saWdodGJveGVzL2dlb2xvY2F0aW9uTGlnaHRib3guanMiLCJzb3VyY2UvanMvbGlnaHRib3hlcy9sb2NhbGlzYXRpb25MaWdodGJveC5qcyIsInNvdXJjZS9qcy9saWdodGJveGVzL21hcExpZ2h0Ym94LmpzIiwic291cmNlL2pzL2xpZ2h0Ym94ZXMvcmVzdWx0TGlnaHRib3guanMiLCJzb3VyY2UvanMvbW9kdWxlcy9nZW9sb2NhdGlvbi5qcyIsInNvdXJjZS9qcy9tb2R1bGVzL21hcC5qcyIsInNvdXJjZS9qcy9tb2R1bGVzL3BsYWNlcy5qcyIsInNvdXJjZS9qcy9tb2R1bGVzL3V0aWxpdGllcy5qcyIsInNvdXJjZS9qcy9tb2R1bGVzL3doZWVsLmpzIiwic291cmNlL2pzL3BhZ2VzL2dsb2JhbC5qcyIsInNvdXJjZS9qcy9wYWdlcy9tYWluLmpzIiwic291cmNlL2pzL3doZWVsLW9mLWx1bmNoLmpzIiwic291cmNlL3RlbXBsYXRlcy9sb2NhbGlzYXRpb24tZXJyb3IuaHRtbCIsInNvdXJjZS90ZW1wbGF0ZXMvbG9jYWxpc2F0aW9uLWxvYWRpbmcuaHRtbCIsInNvdXJjZS90ZW1wbGF0ZXMvbG9jYWxpc2F0aW9uLmh0bWwiLCJzb3VyY2UvdGVtcGxhdGVzL21hcC5odG1sIiwic291cmNlL3RlbXBsYXRlcy9yZXN1bHQubXVzdGFjaGUiLCJzb3VyY2UvdGVtcGxhdGVzL3NldHRpbmdzLmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2YUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qXG4gKiAgQ29weXJpZ2h0IDIwMTEgVHdpdHRlciwgSW5jLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuKGZ1bmN0aW9uIChIb2dhbikge1xuICAvLyBTZXR1cCByZWdleCAgYXNzaWdubWVudHNcbiAgLy8gcmVtb3ZlIHdoaXRlc3BhY2UgYWNjb3JkaW5nIHRvIE11c3RhY2hlIHNwZWNcbiAgdmFyIHJJc1doaXRlc3BhY2UgPSAvXFxTLyxcbiAgICAgIHJRdW90ID0gL1xcXCIvZyxcbiAgICAgIHJOZXdsaW5lID0gIC9cXG4vZyxcbiAgICAgIHJDciA9IC9cXHIvZyxcbiAgICAgIHJTbGFzaCA9IC9cXFxcL2csXG4gICAgICByTGluZVNlcCA9IC9cXHUyMDI4LyxcbiAgICAgIHJQYXJhZ3JhcGhTZXAgPSAvXFx1MjAyOS87XG5cbiAgSG9nYW4udGFncyA9IHtcbiAgICAnIyc6IDEsICdeJzogMiwgJzwnOiAzLCAnJCc6IDQsXG4gICAgJy8nOiA1LCAnISc6IDYsICc+JzogNywgJz0nOiA4LCAnX3YnOiA5LFxuICAgICd7JzogMTAsICcmJzogMTEsICdfdCc6IDEyXG4gIH07XG5cbiAgSG9nYW4uc2NhbiA9IGZ1bmN0aW9uIHNjYW4odGV4dCwgZGVsaW1pdGVycykge1xuICAgIHZhciBsZW4gPSB0ZXh0Lmxlbmd0aCxcbiAgICAgICAgSU5fVEVYVCA9IDAsXG4gICAgICAgIElOX1RBR19UWVBFID0gMSxcbiAgICAgICAgSU5fVEFHID0gMixcbiAgICAgICAgc3RhdGUgPSBJTl9URVhULFxuICAgICAgICB0YWdUeXBlID0gbnVsbCxcbiAgICAgICAgdGFnID0gbnVsbCxcbiAgICAgICAgYnVmID0gJycsXG4gICAgICAgIHRva2VucyA9IFtdLFxuICAgICAgICBzZWVuVGFnID0gZmFsc2UsXG4gICAgICAgIGkgPSAwLFxuICAgICAgICBsaW5lU3RhcnQgPSAwLFxuICAgICAgICBvdGFnID0gJ3t7JyxcbiAgICAgICAgY3RhZyA9ICd9fSc7XG5cbiAgICBmdW5jdGlvbiBhZGRCdWYoKSB7XG4gICAgICBpZiAoYnVmLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdG9rZW5zLnB1c2goe3RhZzogJ190JywgdGV4dDogbmV3IFN0cmluZyhidWYpfSk7XG4gICAgICAgIGJ1ZiA9ICcnO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpbmVJc1doaXRlc3BhY2UoKSB7XG4gICAgICB2YXIgaXNBbGxXaGl0ZXNwYWNlID0gdHJ1ZTtcbiAgICAgIGZvciAodmFyIGogPSBsaW5lU3RhcnQ7IGogPCB0b2tlbnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaXNBbGxXaGl0ZXNwYWNlID1cbiAgICAgICAgICAoSG9nYW4udGFnc1t0b2tlbnNbal0udGFnXSA8IEhvZ2FuLnRhZ3NbJ192J10pIHx8XG4gICAgICAgICAgKHRva2Vuc1tqXS50YWcgPT0gJ190JyAmJiB0b2tlbnNbal0udGV4dC5tYXRjaChySXNXaGl0ZXNwYWNlKSA9PT0gbnVsbCk7XG4gICAgICAgIGlmICghaXNBbGxXaGl0ZXNwYWNlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0FsbFdoaXRlc3BhY2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmlsdGVyTGluZShoYXZlU2VlblRhZywgbm9OZXdMaW5lKSB7XG4gICAgICBhZGRCdWYoKTtcblxuICAgICAgaWYgKGhhdmVTZWVuVGFnICYmIGxpbmVJc1doaXRlc3BhY2UoKSkge1xuICAgICAgICBmb3IgKHZhciBqID0gbGluZVN0YXJ0LCBuZXh0OyBqIDwgdG9rZW5zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgaWYgKHRva2Vuc1tqXS50ZXh0KSB7XG4gICAgICAgICAgICBpZiAoKG5leHQgPSB0b2tlbnNbaisxXSkgJiYgbmV4dC50YWcgPT0gJz4nKSB7XG4gICAgICAgICAgICAgIC8vIHNldCBpbmRlbnQgdG8gdG9rZW4gdmFsdWVcbiAgICAgICAgICAgICAgbmV4dC5pbmRlbnQgPSB0b2tlbnNbal0udGV4dC50b1N0cmluZygpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlbnMuc3BsaWNlKGosIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghbm9OZXdMaW5lKSB7XG4gICAgICAgIHRva2Vucy5wdXNoKHt0YWc6J1xcbid9KTtcbiAgICAgIH1cblxuICAgICAgc2VlblRhZyA9IGZhbHNlO1xuICAgICAgbGluZVN0YXJ0ID0gdG9rZW5zLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGFuZ2VEZWxpbWl0ZXJzKHRleHQsIGluZGV4KSB7XG4gICAgICB2YXIgY2xvc2UgPSAnPScgKyBjdGFnLFxuICAgICAgICAgIGNsb3NlSW5kZXggPSB0ZXh0LmluZGV4T2YoY2xvc2UsIGluZGV4KSxcbiAgICAgICAgICBkZWxpbWl0ZXJzID0gdHJpbShcbiAgICAgICAgICAgIHRleHQuc3Vic3RyaW5nKHRleHQuaW5kZXhPZignPScsIGluZGV4KSArIDEsIGNsb3NlSW5kZXgpXG4gICAgICAgICAgKS5zcGxpdCgnICcpO1xuXG4gICAgICBvdGFnID0gZGVsaW1pdGVyc1swXTtcbiAgICAgIGN0YWcgPSBkZWxpbWl0ZXJzW2RlbGltaXRlcnMubGVuZ3RoIC0gMV07XG5cbiAgICAgIHJldHVybiBjbG9zZUluZGV4ICsgY2xvc2UubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBpZiAoZGVsaW1pdGVycykge1xuICAgICAgZGVsaW1pdGVycyA9IGRlbGltaXRlcnMuc3BsaXQoJyAnKTtcbiAgICAgIG90YWcgPSBkZWxpbWl0ZXJzWzBdO1xuICAgICAgY3RhZyA9IGRlbGltaXRlcnNbMV07XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoc3RhdGUgPT0gSU5fVEVYVCkge1xuICAgICAgICBpZiAodGFnQ2hhbmdlKG90YWcsIHRleHQsIGkpKSB7XG4gICAgICAgICAgLS1pO1xuICAgICAgICAgIGFkZEJ1ZigpO1xuICAgICAgICAgIHN0YXRlID0gSU5fVEFHX1RZUEU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRleHQuY2hhckF0KGkpID09ICdcXG4nKSB7XG4gICAgICAgICAgICBmaWx0ZXJMaW5lKHNlZW5UYWcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidWYgKz0gdGV4dC5jaGFyQXQoaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09IElOX1RBR19UWVBFKSB7XG4gICAgICAgIGkgKz0gb3RhZy5sZW5ndGggLSAxO1xuICAgICAgICB0YWcgPSBIb2dhbi50YWdzW3RleHQuY2hhckF0KGkgKyAxKV07XG4gICAgICAgIHRhZ1R5cGUgPSB0YWcgPyB0ZXh0LmNoYXJBdChpICsgMSkgOiAnX3YnO1xuICAgICAgICBpZiAodGFnVHlwZSA9PSAnPScpIHtcbiAgICAgICAgICBpID0gY2hhbmdlRGVsaW1pdGVycyh0ZXh0LCBpKTtcbiAgICAgICAgICBzdGF0ZSA9IElOX1RFWFQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRhZykge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGF0ZSA9IElOX1RBRztcbiAgICAgICAgfVxuICAgICAgICBzZWVuVGFnID0gaTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0YWdDaGFuZ2UoY3RhZywgdGV4dCwgaSkpIHtcbiAgICAgICAgICB0b2tlbnMucHVzaCh7dGFnOiB0YWdUeXBlLCBuOiB0cmltKGJ1ZiksIG90YWc6IG90YWcsIGN0YWc6IGN0YWcsXG4gICAgICAgICAgICAgICAgICAgICAgIGk6ICh0YWdUeXBlID09ICcvJykgPyBzZWVuVGFnIC0gb3RhZy5sZW5ndGggOiBpICsgY3RhZy5sZW5ndGh9KTtcbiAgICAgICAgICBidWYgPSAnJztcbiAgICAgICAgICBpICs9IGN0YWcubGVuZ3RoIC0gMTtcbiAgICAgICAgICBzdGF0ZSA9IElOX1RFWFQ7XG4gICAgICAgICAgaWYgKHRhZ1R5cGUgPT0gJ3snKSB7XG4gICAgICAgICAgICBpZiAoY3RhZyA9PSAnfX0nKSB7XG4gICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNsZWFuVHJpcGxlU3RhY2hlKHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBidWYgKz0gdGV4dC5jaGFyQXQoaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmaWx0ZXJMaW5lKHNlZW5UYWcsIHRydWUpO1xuXG4gICAgcmV0dXJuIHRva2VucztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFuVHJpcGxlU3RhY2hlKHRva2VuKSB7XG4gICAgaWYgKHRva2VuLm4uc3Vic3RyKHRva2VuLm4ubGVuZ3RoIC0gMSkgPT09ICd9Jykge1xuICAgICAgdG9rZW4ubiA9IHRva2VuLm4uc3Vic3RyaW5nKDAsIHRva2VuLm4ubGVuZ3RoIC0gMSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJpbShzKSB7XG4gICAgaWYgKHMudHJpbSkge1xuICAgICAgcmV0dXJuIHMudHJpbSgpO1xuICAgIH1cblxuICAgIHJldHVybiBzLnJlcGxhY2UoL15cXHMqfFxccyokL2csICcnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRhZ0NoYW5nZSh0YWcsIHRleHQsIGluZGV4KSB7XG4gICAgaWYgKHRleHQuY2hhckF0KGluZGV4KSAhPSB0YWcuY2hhckF0KDApKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDEsIGwgPSB0YWcubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAodGV4dC5jaGFyQXQoaW5kZXggKyBpKSAhPSB0YWcuY2hhckF0KGkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIHRoZSB0YWdzIGFsbG93ZWQgaW5zaWRlIHN1cGVyIHRlbXBsYXRlc1xuICB2YXIgYWxsb3dlZEluU3VwZXIgPSB7J190JzogdHJ1ZSwgJ1xcbic6IHRydWUsICckJzogdHJ1ZSwgJy8nOiB0cnVlfTtcblxuICBmdW5jdGlvbiBidWlsZFRyZWUodG9rZW5zLCBraW5kLCBzdGFjaywgY3VzdG9tVGFncykge1xuICAgIHZhciBpbnN0cnVjdGlvbnMgPSBbXSxcbiAgICAgICAgb3BlbmVyID0gbnVsbCxcbiAgICAgICAgdGFpbCA9IG51bGwsXG4gICAgICAgIHRva2VuID0gbnVsbDtcblxuICAgIHRhaWwgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcblxuICAgIHdoaWxlICh0b2tlbnMubGVuZ3RoID4gMCkge1xuICAgICAgdG9rZW4gPSB0b2tlbnMuc2hpZnQoKTtcblxuICAgICAgaWYgKHRhaWwgJiYgdGFpbC50YWcgPT0gJzwnICYmICEodG9rZW4udGFnIGluIGFsbG93ZWRJblN1cGVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgY29udGVudCBpbiA8IHN1cGVyIHRhZy4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKEhvZ2FuLnRhZ3NbdG9rZW4udGFnXSA8PSBIb2dhbi50YWdzWyckJ10gfHwgaXNPcGVuZXIodG9rZW4sIGN1c3RvbVRhZ3MpKSB7XG4gICAgICAgIHN0YWNrLnB1c2godG9rZW4pO1xuICAgICAgICB0b2tlbi5ub2RlcyA9IGJ1aWxkVHJlZSh0b2tlbnMsIHRva2VuLnRhZywgc3RhY2ssIGN1c3RvbVRhZ3MpO1xuICAgICAgfSBlbHNlIGlmICh0b2tlbi50YWcgPT0gJy8nKSB7XG4gICAgICAgIGlmIChzdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nsb3NpbmcgdGFnIHdpdGhvdXQgb3BlbmVyOiAvJyArIHRva2VuLm4pO1xuICAgICAgICB9XG4gICAgICAgIG9wZW5lciA9IHN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAodG9rZW4ubiAhPSBvcGVuZXIubiAmJiAhaXNDbG9zZXIodG9rZW4ubiwgb3BlbmVyLm4sIGN1c3RvbVRhZ3MpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXN0aW5nIGVycm9yOiAnICsgb3BlbmVyLm4gKyAnIHZzLiAnICsgdG9rZW4ubik7XG4gICAgICAgIH1cbiAgICAgICAgb3BlbmVyLmVuZCA9IHRva2VuLmk7XG4gICAgICAgIHJldHVybiBpbnN0cnVjdGlvbnM7XG4gICAgICB9IGVsc2UgaWYgKHRva2VuLnRhZyA9PSAnXFxuJykge1xuICAgICAgICB0b2tlbi5sYXN0ID0gKHRva2Vucy5sZW5ndGggPT0gMCkgfHwgKHRva2Vuc1swXS50YWcgPT0gJ1xcbicpO1xuICAgICAgfVxuXG4gICAgICBpbnN0cnVjdGlvbnMucHVzaCh0b2tlbik7XG4gICAgfVxuXG4gICAgaWYgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbWlzc2luZyBjbG9zaW5nIHRhZzogJyArIHN0YWNrLnBvcCgpLm4pO1xuICAgIH1cblxuICAgIHJldHVybiBpbnN0cnVjdGlvbnM7XG4gIH1cblxuICBmdW5jdGlvbiBpc09wZW5lcih0b2tlbiwgdGFncykge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGFncy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmICh0YWdzW2ldLm8gPT0gdG9rZW4ubikge1xuICAgICAgICB0b2tlbi50YWcgPSAnIyc7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQ2xvc2VyKGNsb3NlLCBvcGVuLCB0YWdzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0YWdzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKHRhZ3NbaV0uYyA9PSBjbG9zZSAmJiB0YWdzW2ldLm8gPT0gb3Blbikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdHJpbmdpZnlTdWJzdGl0dXRpb25zKG9iaikge1xuICAgIHZhciBpdGVtcyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGl0ZW1zLnB1c2goJ1wiJyArIGVzYyhrZXkpICsgJ1wiOiBmdW5jdGlvbihjLHAsdCxpKSB7JyArIG9ialtrZXldICsgJ30nKTtcbiAgICB9XG4gICAgcmV0dXJuIFwieyBcIiArIGl0ZW1zLmpvaW4oXCIsXCIpICsgXCIgfVwiO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RyaW5naWZ5UGFydGlhbHMoY29kZU9iaikge1xuICAgIHZhciBwYXJ0aWFscyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBjb2RlT2JqLnBhcnRpYWxzKSB7XG4gICAgICBwYXJ0aWFscy5wdXNoKCdcIicgKyBlc2Moa2V5KSArICdcIjp7bmFtZTpcIicgKyBlc2MoY29kZU9iai5wYXJ0aWFsc1trZXldLm5hbWUpICsgJ1wiLCAnICsgc3RyaW5naWZ5UGFydGlhbHMoY29kZU9iai5wYXJ0aWFsc1trZXldKSArIFwifVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIFwicGFydGlhbHM6IHtcIiArIHBhcnRpYWxzLmpvaW4oXCIsXCIpICsgXCJ9LCBzdWJzOiBcIiArIHN0cmluZ2lmeVN1YnN0aXR1dGlvbnMoY29kZU9iai5zdWJzKTtcbiAgfVxuXG4gIEhvZ2FuLnN0cmluZ2lmeSA9IGZ1bmN0aW9uKGNvZGVPYmosIHRleHQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gXCJ7Y29kZTogZnVuY3Rpb24gKGMscCxpKSB7IFwiICsgSG9nYW4ud3JhcE1haW4oY29kZU9iai5jb2RlKSArIFwiIH0sXCIgKyBzdHJpbmdpZnlQYXJ0aWFscyhjb2RlT2JqKSArICBcIn1cIjtcbiAgfVxuXG4gIHZhciBzZXJpYWxObyA9IDA7XG4gIEhvZ2FuLmdlbmVyYXRlID0gZnVuY3Rpb24odHJlZSwgdGV4dCwgb3B0aW9ucykge1xuICAgIHNlcmlhbE5vID0gMDtcbiAgICB2YXIgY29udGV4dCA9IHsgY29kZTogJycsIHN1YnM6IHt9LCBwYXJ0aWFsczoge30gfTtcbiAgICBIb2dhbi53YWxrKHRyZWUsIGNvbnRleHQpO1xuXG4gICAgaWYgKG9wdGlvbnMuYXNTdHJpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmluZ2lmeShjb250ZXh0LCB0ZXh0LCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5tYWtlVGVtcGxhdGUoY29udGV4dCwgdGV4dCwgb3B0aW9ucyk7XG4gIH1cblxuICBIb2dhbi53cmFwTWFpbiA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICByZXR1cm4gJ3ZhciB0PXRoaXM7dC5iKGk9aXx8XCJcIik7JyArIGNvZGUgKyAncmV0dXJuIHQuZmwoKTsnO1xuICB9XG5cbiAgSG9nYW4udGVtcGxhdGUgPSBIb2dhbi5UZW1wbGF0ZTtcblxuICBIb2dhbi5tYWtlVGVtcGxhdGUgPSBmdW5jdGlvbihjb2RlT2JqLCB0ZXh0LCBvcHRpb25zKSB7XG4gICAgdmFyIHRlbXBsYXRlID0gdGhpcy5tYWtlUGFydGlhbHMoY29kZU9iaik7XG4gICAgdGVtcGxhdGUuY29kZSA9IG5ldyBGdW5jdGlvbignYycsICdwJywgJ2knLCB0aGlzLndyYXBNYWluKGNvZGVPYmouY29kZSkpO1xuICAgIHJldHVybiBuZXcgdGhpcy50ZW1wbGF0ZSh0ZW1wbGF0ZSwgdGV4dCwgdGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICBIb2dhbi5tYWtlUGFydGlhbHMgPSBmdW5jdGlvbihjb2RlT2JqKSB7XG4gICAgdmFyIGtleSwgdGVtcGxhdGUgPSB7c3Viczoge30sIHBhcnRpYWxzOiBjb2RlT2JqLnBhcnRpYWxzLCBuYW1lOiBjb2RlT2JqLm5hbWV9O1xuICAgIGZvciAoa2V5IGluIHRlbXBsYXRlLnBhcnRpYWxzKSB7XG4gICAgICB0ZW1wbGF0ZS5wYXJ0aWFsc1trZXldID0gdGhpcy5tYWtlUGFydGlhbHModGVtcGxhdGUucGFydGlhbHNba2V5XSk7XG4gICAgfVxuICAgIGZvciAoa2V5IGluIGNvZGVPYmouc3Vicykge1xuICAgICAgdGVtcGxhdGUuc3Vic1trZXldID0gbmV3IEZ1bmN0aW9uKCdjJywgJ3AnLCAndCcsICdpJywgY29kZU9iai5zdWJzW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBlc2Mocykge1xuICAgIHJldHVybiBzLnJlcGxhY2UoclNsYXNoLCAnXFxcXFxcXFwnKVxuICAgICAgICAgICAgLnJlcGxhY2UoclF1b3QsICdcXFxcXFxcIicpXG4gICAgICAgICAgICAucmVwbGFjZShyTmV3bGluZSwgJ1xcXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKHJDciwgJ1xcXFxyJylcbiAgICAgICAgICAgIC5yZXBsYWNlKHJMaW5lU2VwLCAnXFxcXHUyMDI4JylcbiAgICAgICAgICAgIC5yZXBsYWNlKHJQYXJhZ3JhcGhTZXAsICdcXFxcdTIwMjknKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNob29zZU1ldGhvZChzKSB7XG4gICAgcmV0dXJuICh+cy5pbmRleE9mKCcuJykpID8gJ2QnIDogJ2YnO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUGFydGlhbChub2RlLCBjb250ZXh0KSB7XG4gICAgdmFyIHByZWZpeCA9IFwiPFwiICsgKGNvbnRleHQucHJlZml4IHx8IFwiXCIpO1xuICAgIHZhciBzeW0gPSBwcmVmaXggKyBub2RlLm4gKyBzZXJpYWxObysrO1xuICAgIGNvbnRleHQucGFydGlhbHNbc3ltXSA9IHtuYW1lOiBub2RlLm4sIHBhcnRpYWxzOiB7fX07XG4gICAgY29udGV4dC5jb2RlICs9ICd0LmIodC5ycChcIicgKyAgZXNjKHN5bSkgKyAnXCIsYyxwLFwiJyArIChub2RlLmluZGVudCB8fCAnJykgKyAnXCIpKTsnO1xuICAgIHJldHVybiBzeW07XG4gIH1cblxuICBIb2dhbi5jb2RlZ2VuID0ge1xuICAgICcjJzogZnVuY3Rpb24obm9kZSwgY29udGV4dCkge1xuICAgICAgY29udGV4dC5jb2RlICs9ICdpZih0LnModC4nICsgY2hvb3NlTWV0aG9kKG5vZGUubikgKyAnKFwiJyArIGVzYyhub2RlLm4pICsgJ1wiLGMscCwxKSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAnYyxwLDAsJyArIG5vZGUuaSArICcsJyArIG5vZGUuZW5kICsgJyxcIicgKyBub2RlLm90YWcgKyBcIiBcIiArIG5vZGUuY3RhZyArICdcIikpeycgK1xuICAgICAgICAgICAgICAgICAgICAgICd0LnJzKGMscCwnICsgJ2Z1bmN0aW9uKGMscCx0KXsnO1xuICAgICAgSG9nYW4ud2Fsayhub2RlLm5vZGVzLCBjb250ZXh0KTtcbiAgICAgIGNvbnRleHQuY29kZSArPSAnfSk7Yy5wb3AoKTt9JztcbiAgICB9LFxuXG4gICAgJ14nOiBmdW5jdGlvbihub2RlLCBjb250ZXh0KSB7XG4gICAgICBjb250ZXh0LmNvZGUgKz0gJ2lmKCF0LnModC4nICsgY2hvb3NlTWV0aG9kKG5vZGUubikgKyAnKFwiJyArIGVzYyhub2RlLm4pICsgJ1wiLGMscCwxKSxjLHAsMSwwLDAsXCJcIikpeyc7XG4gICAgICBIb2dhbi53YWxrKG5vZGUubm9kZXMsIGNvbnRleHQpO1xuICAgICAgY29udGV4dC5jb2RlICs9ICd9Oyc7XG4gICAgfSxcblxuICAgICc+JzogY3JlYXRlUGFydGlhbCxcbiAgICAnPCc6IGZ1bmN0aW9uKG5vZGUsIGNvbnRleHQpIHtcbiAgICAgIHZhciBjdHggPSB7cGFydGlhbHM6IHt9LCBjb2RlOiAnJywgc3Viczoge30sIGluUGFydGlhbDogdHJ1ZX07XG4gICAgICBIb2dhbi53YWxrKG5vZGUubm9kZXMsIGN0eCk7XG4gICAgICB2YXIgdGVtcGxhdGUgPSBjb250ZXh0LnBhcnRpYWxzW2NyZWF0ZVBhcnRpYWwobm9kZSwgY29udGV4dCldO1xuICAgICAgdGVtcGxhdGUuc3VicyA9IGN0eC5zdWJzO1xuICAgICAgdGVtcGxhdGUucGFydGlhbHMgPSBjdHgucGFydGlhbHM7XG4gICAgfSxcblxuICAgICckJzogZnVuY3Rpb24obm9kZSwgY29udGV4dCkge1xuICAgICAgdmFyIGN0eCA9IHtzdWJzOiB7fSwgY29kZTogJycsIHBhcnRpYWxzOiBjb250ZXh0LnBhcnRpYWxzLCBwcmVmaXg6IG5vZGUubn07XG4gICAgICBIb2dhbi53YWxrKG5vZGUubm9kZXMsIGN0eCk7XG4gICAgICBjb250ZXh0LnN1YnNbbm9kZS5uXSA9IGN0eC5jb2RlO1xuICAgICAgaWYgKCFjb250ZXh0LmluUGFydGlhbCkge1xuICAgICAgICBjb250ZXh0LmNvZGUgKz0gJ3Quc3ViKFwiJyArIGVzYyhub2RlLm4pICsgJ1wiLGMscCxpKTsnO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAnXFxuJzogZnVuY3Rpb24obm9kZSwgY29udGV4dCkge1xuICAgICAgY29udGV4dC5jb2RlICs9IHdyaXRlKCdcIlxcXFxuXCInICsgKG5vZGUubGFzdCA/ICcnIDogJyArIGknKSk7XG4gICAgfSxcblxuICAgICdfdic6IGZ1bmN0aW9uKG5vZGUsIGNvbnRleHQpIHtcbiAgICAgIGNvbnRleHQuY29kZSArPSAndC5iKHQudih0LicgKyBjaG9vc2VNZXRob2Qobm9kZS5uKSArICcoXCInICsgZXNjKG5vZGUubikgKyAnXCIsYyxwLDApKSk7JztcbiAgICB9LFxuXG4gICAgJ190JzogZnVuY3Rpb24obm9kZSwgY29udGV4dCkge1xuICAgICAgY29udGV4dC5jb2RlICs9IHdyaXRlKCdcIicgKyBlc2Mobm9kZS50ZXh0KSArICdcIicpO1xuICAgIH0sXG5cbiAgICAneyc6IHRyaXBsZVN0YWNoZSxcblxuICAgICcmJzogdHJpcGxlU3RhY2hlXG4gIH1cblxuICBmdW5jdGlvbiB0cmlwbGVTdGFjaGUobm9kZSwgY29udGV4dCkge1xuICAgIGNvbnRleHQuY29kZSArPSAndC5iKHQudCh0LicgKyBjaG9vc2VNZXRob2Qobm9kZS5uKSArICcoXCInICsgZXNjKG5vZGUubikgKyAnXCIsYyxwLDApKSk7JztcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlKHMpIHtcbiAgICByZXR1cm4gJ3QuYignICsgcyArICcpOyc7XG4gIH1cblxuICBIb2dhbi53YWxrID0gZnVuY3Rpb24obm9kZWxpc3QsIGNvbnRleHQpIHtcbiAgICB2YXIgZnVuYztcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG5vZGVsaXN0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZnVuYyA9IEhvZ2FuLmNvZGVnZW5bbm9kZWxpc3RbaV0udGFnXTtcbiAgICAgIGZ1bmMgJiYgZnVuYyhub2RlbGlzdFtpXSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0O1xuICB9XG5cbiAgSG9nYW4ucGFyc2UgPSBmdW5jdGlvbih0b2tlbnMsIHRleHQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICByZXR1cm4gYnVpbGRUcmVlKHRva2VucywgJycsIFtdLCBvcHRpb25zLnNlY3Rpb25UYWdzIHx8IFtdKTtcbiAgfVxuXG4gIEhvZ2FuLmNhY2hlID0ge307XG5cbiAgSG9nYW4uY2FjaGVLZXkgPSBmdW5jdGlvbih0ZXh0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIFt0ZXh0LCAhIW9wdGlvbnMuYXNTdHJpbmcsICEhb3B0aW9ucy5kaXNhYmxlTGFtYmRhLCBvcHRpb25zLmRlbGltaXRlcnMsICEhb3B0aW9ucy5tb2RlbEdldF0uam9pbignfHwnKTtcbiAgfVxuXG4gIEhvZ2FuLmNvbXBpbGUgPSBmdW5jdGlvbih0ZXh0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIGtleSA9IEhvZ2FuLmNhY2hlS2V5KHRleHQsIG9wdGlvbnMpO1xuICAgIHZhciB0ZW1wbGF0ZSA9IHRoaXMuY2FjaGVba2V5XTtcblxuICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgdmFyIHBhcnRpYWxzID0gdGVtcGxhdGUucGFydGlhbHM7XG4gICAgICBmb3IgKHZhciBuYW1lIGluIHBhcnRpYWxzKSB7XG4gICAgICAgIGRlbGV0ZSBwYXJ0aWFsc1tuYW1lXS5pbnN0YW5jZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG5cbiAgICB0ZW1wbGF0ZSA9IHRoaXMuZ2VuZXJhdGUodGhpcy5wYXJzZSh0aGlzLnNjYW4odGV4dCwgb3B0aW9ucy5kZWxpbWl0ZXJzKSwgdGV4dCwgb3B0aW9ucyksIHRleHQsIG9wdGlvbnMpO1xuICAgIHJldHVybiB0aGlzLmNhY2hlW2tleV0gPSB0ZW1wbGF0ZTtcbiAgfVxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IEhvZ2FuKTtcbiIsIi8qXG4gKiAgQ29weXJpZ2h0IDIwMTEgVHdpdHRlciwgSW5jLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gVGhpcyBmaWxlIGlzIGZvciB1c2Ugd2l0aCBOb2RlLmpzLiBTZWUgZGlzdC8gZm9yIGJyb3dzZXIgZmlsZXMuXG5cbnZhciBIb2dhbiA9IHJlcXVpcmUoJy4vY29tcGlsZXInKTtcbkhvZ2FuLlRlbXBsYXRlID0gcmVxdWlyZSgnLi90ZW1wbGF0ZScpLlRlbXBsYXRlO1xuSG9nYW4udGVtcGxhdGUgPSBIb2dhbi5UZW1wbGF0ZTtcbm1vZHVsZS5leHBvcnRzID0gSG9nYW47XG4iLCIvKlxuICogIENvcHlyaWdodCAyMDExIFR3aXR0ZXIsIEluYy5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbnZhciBIb2dhbiA9IHt9O1xuXG4oZnVuY3Rpb24gKEhvZ2FuKSB7XG4gIEhvZ2FuLlRlbXBsYXRlID0gZnVuY3Rpb24gKGNvZGVPYmosIHRleHQsIGNvbXBpbGVyLCBvcHRpb25zKSB7XG4gICAgY29kZU9iaiA9IGNvZGVPYmogfHwge307XG4gICAgdGhpcy5yID0gY29kZU9iai5jb2RlIHx8IHRoaXMucjtcbiAgICB0aGlzLmMgPSBjb21waWxlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHRoaXMudGV4dCA9IHRleHQgfHwgJyc7XG4gICAgdGhpcy5wYXJ0aWFscyA9IGNvZGVPYmoucGFydGlhbHMgfHwge307XG4gICAgdGhpcy5zdWJzID0gY29kZU9iai5zdWJzIHx8IHt9O1xuICAgIHRoaXMuYnVmID0gJyc7XG4gIH1cblxuICBIb2dhbi5UZW1wbGF0ZS5wcm90b3R5cGUgPSB7XG4gICAgLy8gcmVuZGVyOiByZXBsYWNlZCBieSBnZW5lcmF0ZWQgY29kZS5cbiAgICByOiBmdW5jdGlvbiAoY29udGV4dCwgcGFydGlhbHMsIGluZGVudCkgeyByZXR1cm4gJyc7IH0sXG5cbiAgICAvLyB2YXJpYWJsZSBlc2NhcGluZ1xuICAgIHY6IGhvZ2FuRXNjYXBlLFxuXG4gICAgLy8gdHJpcGxlIHN0YWNoZVxuICAgIHQ6IGNvZXJjZVRvU3RyaW5nLFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoY29udGV4dCwgcGFydGlhbHMsIGluZGVudCkge1xuICAgICAgcmV0dXJuIHRoaXMucmkoW2NvbnRleHRdLCBwYXJ0aWFscyB8fCB7fSwgaW5kZW50KTtcbiAgICB9LFxuXG4gICAgLy8gcmVuZGVyIGludGVybmFsIC0tIGEgaG9vayBmb3Igb3ZlcnJpZGVzIHRoYXQgY2F0Y2hlcyBwYXJ0aWFscyB0b29cbiAgICByaTogZnVuY3Rpb24gKGNvbnRleHQsIHBhcnRpYWxzLCBpbmRlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnIoY29udGV4dCwgcGFydGlhbHMsIGluZGVudCk7XG4gICAgfSxcblxuICAgIC8vIGVuc3VyZVBhcnRpYWxcbiAgICBlcDogZnVuY3Rpb24oc3ltYm9sLCBwYXJ0aWFscykge1xuICAgICAgdmFyIHBhcnRpYWwgPSB0aGlzLnBhcnRpYWxzW3N5bWJvbF07XG5cbiAgICAgIC8vIGNoZWNrIHRvIHNlZSB0aGF0IGlmIHdlJ3ZlIGluc3RhbnRpYXRlZCB0aGlzIHBhcnRpYWwgYmVmb3JlXG4gICAgICB2YXIgdGVtcGxhdGUgPSBwYXJ0aWFsc1twYXJ0aWFsLm5hbWVdO1xuICAgICAgaWYgKHBhcnRpYWwuaW5zdGFuY2UgJiYgcGFydGlhbC5iYXNlID09IHRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiBwYXJ0aWFsLmluc3RhbmNlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHRlbXBsYXRlID09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICghdGhpcy5jKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gY29tcGlsZXIgYXZhaWxhYmxlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0ZW1wbGF0ZSA9IHRoaXMuYy5jb21waWxlKHRlbXBsYXRlLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSB1c2UgdGhpcyB0byBjaGVjayB3aGV0aGVyIHRoZSBwYXJ0aWFscyBkaWN0aW9uYXJ5IGhhcyBjaGFuZ2VkXG4gICAgICB0aGlzLnBhcnRpYWxzW3N5bWJvbF0uYmFzZSA9IHRlbXBsYXRlO1xuXG4gICAgICBpZiAocGFydGlhbC5zdWJzKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBjb25zaWRlciBwYXJlbnQgdGVtcGxhdGUgbm93XG4gICAgICAgIGlmICghcGFydGlhbHMuc3RhY2tUZXh0KSBwYXJ0aWFscy5zdGFja1RleHQgPSB7fTtcbiAgICAgICAgZm9yIChrZXkgaW4gcGFydGlhbC5zdWJzKSB7XG4gICAgICAgICAgaWYgKCFwYXJ0aWFscy5zdGFja1RleHRba2V5XSkge1xuICAgICAgICAgICAgcGFydGlhbHMuc3RhY2tUZXh0W2tleV0gPSAodGhpcy5hY3RpdmVTdWIgIT09IHVuZGVmaW5lZCAmJiBwYXJ0aWFscy5zdGFja1RleHRbdGhpcy5hY3RpdmVTdWJdKSA/IHBhcnRpYWxzLnN0YWNrVGV4dFt0aGlzLmFjdGl2ZVN1Yl0gOiB0aGlzLnRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlID0gY3JlYXRlU3BlY2lhbGl6ZWRQYXJ0aWFsKHRlbXBsYXRlLCBwYXJ0aWFsLnN1YnMsIHBhcnRpYWwucGFydGlhbHMsXG4gICAgICAgICAgdGhpcy5zdGFja1N1YnMsIHRoaXMuc3RhY2tQYXJ0aWFscywgcGFydGlhbHMuc3RhY2tUZXh0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGFydGlhbHNbc3ltYm9sXS5pbnN0YW5jZSA9IHRlbXBsYXRlO1xuXG4gICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfSxcblxuICAgIC8vIHRyaWVzIHRvIGZpbmQgYSBwYXJ0aWFsIGluIHRoZSBjdXJyZW50IHNjb3BlIGFuZCByZW5kZXIgaXRcbiAgICBycDogZnVuY3Rpb24oc3ltYm9sLCBjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50KSB7XG4gICAgICB2YXIgcGFydGlhbCA9IHRoaXMuZXAoc3ltYm9sLCBwYXJ0aWFscyk7XG4gICAgICBpZiAoIXBhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFydGlhbC5yaShjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50KTtcbiAgICB9LFxuXG4gICAgLy8gcmVuZGVyIGEgc2VjdGlvblxuICAgIHJzOiBmdW5jdGlvbihjb250ZXh0LCBwYXJ0aWFscywgc2VjdGlvbikge1xuICAgICAgdmFyIHRhaWwgPSBjb250ZXh0W2NvbnRleHQubGVuZ3RoIC0gMV07XG5cbiAgICAgIGlmICghaXNBcnJheSh0YWlsKSkge1xuICAgICAgICBzZWN0aW9uKGNvbnRleHQsIHBhcnRpYWxzLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhaWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29udGV4dC5wdXNoKHRhaWxbaV0pO1xuICAgICAgICBzZWN0aW9uKGNvbnRleHQsIHBhcnRpYWxzLCB0aGlzKTtcbiAgICAgICAgY29udGV4dC5wb3AoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gbWF5YmUgc3RhcnQgYSBzZWN0aW9uXG4gICAgczogZnVuY3Rpb24odmFsLCBjdHgsIHBhcnRpYWxzLCBpbnZlcnRlZCwgc3RhcnQsIGVuZCwgdGFncykge1xuICAgICAgdmFyIHBhc3M7XG5cbiAgICAgIGlmIChpc0FycmF5KHZhbCkgJiYgdmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdmFsID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsID0gdGhpcy5tcyh2YWwsIGN0eCwgcGFydGlhbHMsIGludmVydGVkLCBzdGFydCwgZW5kLCB0YWdzKTtcbiAgICAgIH1cblxuICAgICAgcGFzcyA9ICEhdmFsO1xuXG4gICAgICBpZiAoIWludmVydGVkICYmIHBhc3MgJiYgY3R4KSB7XG4gICAgICAgIGN0eC5wdXNoKCh0eXBlb2YgdmFsID09ICdvYmplY3QnKSA/IHZhbCA6IGN0eFtjdHgubGVuZ3RoIC0gMV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFzcztcbiAgICB9LFxuXG4gICAgLy8gZmluZCB2YWx1ZXMgd2l0aCBkb3R0ZWQgbmFtZXNcbiAgICBkOiBmdW5jdGlvbihrZXksIGN0eCwgcGFydGlhbHMsIHJldHVybkZvdW5kKSB7XG4gICAgICB2YXIgZm91bmQsXG4gICAgICAgICAgbmFtZXMgPSBrZXkuc3BsaXQoJy4nKSxcbiAgICAgICAgICB2YWwgPSB0aGlzLmYobmFtZXNbMF0sIGN0eCwgcGFydGlhbHMsIHJldHVybkZvdW5kKSxcbiAgICAgICAgICBkb01vZGVsR2V0ID0gdGhpcy5vcHRpb25zLm1vZGVsR2V0LFxuICAgICAgICAgIGN4ID0gbnVsbDtcblxuICAgICAgaWYgKGtleSA9PT0gJy4nICYmIGlzQXJyYXkoY3R4W2N0eC5sZW5ndGggLSAyXSkpIHtcbiAgICAgICAgdmFsID0gY3R4W2N0eC5sZW5ndGggLSAxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBmb3VuZCA9IGZpbmRJblNjb3BlKG5hbWVzW2ldLCB2YWwsIGRvTW9kZWxHZXQpO1xuICAgICAgICAgIGlmIChmb3VuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjeCA9IHZhbDtcbiAgICAgICAgICAgIHZhbCA9IGZvdW5kO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWwgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHJldHVybkZvdW5kICYmICF2YWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXJldHVybkZvdW5kICYmIHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjdHgucHVzaChjeCk7XG4gICAgICAgIHZhbCA9IHRoaXMubXYodmFsLCBjdHgsIHBhcnRpYWxzKTtcbiAgICAgICAgY3R4LnBvcCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICAvLyBmaW5kIHZhbHVlcyB3aXRoIG5vcm1hbCBuYW1lc1xuICAgIGY6IGZ1bmN0aW9uKGtleSwgY3R4LCBwYXJ0aWFscywgcmV0dXJuRm91bmQpIHtcbiAgICAgIHZhciB2YWwgPSBmYWxzZSxcbiAgICAgICAgICB2ID0gbnVsbCxcbiAgICAgICAgICBmb3VuZCA9IGZhbHNlLFxuICAgICAgICAgIGRvTW9kZWxHZXQgPSB0aGlzLm9wdGlvbnMubW9kZWxHZXQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSBjdHgubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdiA9IGN0eFtpXTtcbiAgICAgICAgdmFsID0gZmluZEluU2NvcGUoa2V5LCB2LCBkb01vZGVsR2V0KTtcbiAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgcmV0dXJuIChyZXR1cm5Gb3VuZCkgPyBmYWxzZSA6IFwiXCI7XG4gICAgICB9XG5cbiAgICAgIGlmICghcmV0dXJuRm91bmQgJiYgdHlwZW9mIHZhbCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbCA9IHRoaXMubXYodmFsLCBjdHgsIHBhcnRpYWxzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuXG4gICAgLy8gaGlnaGVyIG9yZGVyIHRlbXBsYXRlc1xuICAgIGxzOiBmdW5jdGlvbihmdW5jLCBjeCwgcGFydGlhbHMsIHRleHQsIHRhZ3MpIHtcbiAgICAgIHZhciBvbGRUYWdzID0gdGhpcy5vcHRpb25zLmRlbGltaXRlcnM7XG5cbiAgICAgIHRoaXMub3B0aW9ucy5kZWxpbWl0ZXJzID0gdGFncztcbiAgICAgIHRoaXMuYih0aGlzLmN0KGNvZXJjZVRvU3RyaW5nKGZ1bmMuY2FsbChjeCwgdGV4dCkpLCBjeCwgcGFydGlhbHMpKTtcbiAgICAgIHRoaXMub3B0aW9ucy5kZWxpbWl0ZXJzID0gb2xkVGFncztcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvLyBjb21waWxlIHRleHRcbiAgICBjdDogZnVuY3Rpb24odGV4dCwgY3gsIHBhcnRpYWxzKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmRpc2FibGVMYW1iZGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMYW1iZGEgZmVhdHVyZXMgZGlzYWJsZWQuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5jLmNvbXBpbGUodGV4dCwgdGhpcy5vcHRpb25zKS5yZW5kZXIoY3gsIHBhcnRpYWxzKTtcbiAgICB9LFxuXG4gICAgLy8gdGVtcGxhdGUgcmVzdWx0IGJ1ZmZlcmluZ1xuICAgIGI6IGZ1bmN0aW9uKHMpIHsgdGhpcy5idWYgKz0gczsgfSxcblxuICAgIGZsOiBmdW5jdGlvbigpIHsgdmFyIHIgPSB0aGlzLmJ1ZjsgdGhpcy5idWYgPSAnJzsgcmV0dXJuIHI7IH0sXG5cbiAgICAvLyBtZXRob2QgcmVwbGFjZSBzZWN0aW9uXG4gICAgbXM6IGZ1bmN0aW9uKGZ1bmMsIGN0eCwgcGFydGlhbHMsIGludmVydGVkLCBzdGFydCwgZW5kLCB0YWdzKSB7XG4gICAgICB2YXIgdGV4dFNvdXJjZSxcbiAgICAgICAgICBjeCA9IGN0eFtjdHgubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5jYWxsKGN4KTtcblxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAoaW52ZXJ0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZXh0U291cmNlID0gKHRoaXMuYWN0aXZlU3ViICYmIHRoaXMuc3Vic1RleHQgJiYgdGhpcy5zdWJzVGV4dFt0aGlzLmFjdGl2ZVN1Yl0pID8gdGhpcy5zdWJzVGV4dFt0aGlzLmFjdGl2ZVN1Yl0gOiB0aGlzLnRleHQ7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubHMocmVzdWx0LCBjeCwgcGFydGlhbHMsIHRleHRTb3VyY2Uuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpLCB0YWdzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICAvLyBtZXRob2QgcmVwbGFjZSB2YXJpYWJsZVxuICAgIG12OiBmdW5jdGlvbihmdW5jLCBjdHgsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgY3ggPSBjdHhbY3R4Lmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuY2FsbChjeCk7XG5cbiAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3QoY29lcmNlVG9TdHJpbmcocmVzdWx0LmNhbGwoY3gpKSwgY3gsIHBhcnRpYWxzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgc3ViOiBmdW5jdGlvbihuYW1lLCBjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50KSB7XG4gICAgICB2YXIgZiA9IHRoaXMuc3Vic1tuYW1lXTtcbiAgICAgIGlmIChmKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlU3ViID0gbmFtZTtcbiAgICAgICAgZihjb250ZXh0LCBwYXJ0aWFscywgdGhpcywgaW5kZW50KTtcbiAgICAgICAgdGhpcy5hY3RpdmVTdWIgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfTtcblxuICAvL0ZpbmQgYSBrZXkgaW4gYW4gb2JqZWN0XG4gIGZ1bmN0aW9uIGZpbmRJblNjb3BlKGtleSwgc2NvcGUsIGRvTW9kZWxHZXQpIHtcbiAgICB2YXIgdmFsO1xuXG4gICAgaWYgKHNjb3BlICYmIHR5cGVvZiBzY29wZSA9PSAnb2JqZWN0Jykge1xuXG4gICAgICBpZiAoc2NvcGVba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbCA9IHNjb3BlW2tleV07XG5cbiAgICAgIC8vIHRyeSBsb29rdXAgd2l0aCBnZXQgZm9yIGJhY2tib25lIG9yIHNpbWlsYXIgbW9kZWwgZGF0YVxuICAgICAgfSBlbHNlIGlmIChkb01vZGVsR2V0ICYmIHNjb3BlLmdldCAmJiB0eXBlb2Ygc2NvcGUuZ2V0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsID0gc2NvcGUuZ2V0KGtleSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVNwZWNpYWxpemVkUGFydGlhbChpbnN0YW5jZSwgc3VicywgcGFydGlhbHMsIHN0YWNrU3Vicywgc3RhY2tQYXJ0aWFscywgc3RhY2tUZXh0KSB7XG4gICAgZnVuY3Rpb24gUGFydGlhbFRlbXBsYXRlKCkge307XG4gICAgUGFydGlhbFRlbXBsYXRlLnByb3RvdHlwZSA9IGluc3RhbmNlO1xuICAgIGZ1bmN0aW9uIFN1YnN0aXR1dGlvbnMoKSB7fTtcbiAgICBTdWJzdGl0dXRpb25zLnByb3RvdHlwZSA9IGluc3RhbmNlLnN1YnM7XG4gICAgdmFyIGtleTtcbiAgICB2YXIgcGFydGlhbCA9IG5ldyBQYXJ0aWFsVGVtcGxhdGUoKTtcbiAgICBwYXJ0aWFsLnN1YnMgPSBuZXcgU3Vic3RpdHV0aW9ucygpO1xuICAgIHBhcnRpYWwuc3Vic1RleHQgPSB7fTsgIC8vaGVoZS4gc3Vic3RleHQuXG4gICAgcGFydGlhbC5idWYgPSAnJztcblxuICAgIHN0YWNrU3VicyA9IHN0YWNrU3VicyB8fCB7fTtcbiAgICBwYXJ0aWFsLnN0YWNrU3VicyA9IHN0YWNrU3VicztcbiAgICBwYXJ0aWFsLnN1YnNUZXh0ID0gc3RhY2tUZXh0O1xuICAgIGZvciAoa2V5IGluIHN1YnMpIHtcbiAgICAgIGlmICghc3RhY2tTdWJzW2tleV0pIHN0YWNrU3Vic1trZXldID0gc3Vic1trZXldO1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBzdGFja1N1YnMpIHtcbiAgICAgIHBhcnRpYWwuc3Vic1trZXldID0gc3RhY2tTdWJzW2tleV07XG4gICAgfVxuXG4gICAgc3RhY2tQYXJ0aWFscyA9IHN0YWNrUGFydGlhbHMgfHwge307XG4gICAgcGFydGlhbC5zdGFja1BhcnRpYWxzID0gc3RhY2tQYXJ0aWFscztcbiAgICBmb3IgKGtleSBpbiBwYXJ0aWFscykge1xuICAgICAgaWYgKCFzdGFja1BhcnRpYWxzW2tleV0pIHN0YWNrUGFydGlhbHNba2V5XSA9IHBhcnRpYWxzW2tleV07XG4gICAgfVxuICAgIGZvciAoa2V5IGluIHN0YWNrUGFydGlhbHMpIHtcbiAgICAgIHBhcnRpYWwucGFydGlhbHNba2V5XSA9IHN0YWNrUGFydGlhbHNba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFydGlhbDtcbiAgfVxuXG4gIHZhciByQW1wID0gLyYvZyxcbiAgICAgIHJMdCA9IC88L2csXG4gICAgICByR3QgPSAvPi9nLFxuICAgICAgckFwb3MgPSAvXFwnL2csXG4gICAgICByUXVvdCA9IC9cXFwiL2csXG4gICAgICBoQ2hhcnMgPSAvWyY8PlxcXCJcXCddLztcblxuICBmdW5jdGlvbiBjb2VyY2VUb1N0cmluZyh2YWwpIHtcbiAgICByZXR1cm4gU3RyaW5nKCh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpID8gJycgOiB2YWwpO1xuICB9XG5cbiAgZnVuY3Rpb24gaG9nYW5Fc2NhcGUoc3RyKSB7XG4gICAgc3RyID0gY29lcmNlVG9TdHJpbmcoc3RyKTtcbiAgICByZXR1cm4gaENoYXJzLnRlc3Qoc3RyKSA/XG4gICAgICBzdHJcbiAgICAgICAgLnJlcGxhY2UockFtcCwgJyZhbXA7JylcbiAgICAgICAgLnJlcGxhY2Uockx0LCAnJmx0OycpXG4gICAgICAgIC5yZXBsYWNlKHJHdCwgJyZndDsnKVxuICAgICAgICAucmVwbGFjZShyQXBvcywgJyYjMzk7JylcbiAgICAgICAgLnJlcGxhY2UoclF1b3QsICcmcXVvdDsnKSA6XG4gICAgICBzdHI7XG4gIH1cblxuICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24oYSkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiBIb2dhbik7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgcmV0dXJuIHtcclxuICAgICAgYmdDb2xvdXI6IFtcclxuICAgICAgXCIjRjgwMTIwXCIsXHJcbiAgICBcdFwiI0YzNUIyMFwiLFxyXG4gICAgXHRcIiNGQjlBMDBcIixcclxuICAgIFx0XCIjRkZDQzAwXCIsXHJcbiAgICBcdFwiI0ZFRjIwMFwiLFxyXG4gICAgICBcIiNCOEQ0MzBcIixcclxuICAgIFx0XCIjM0FCNzQ1XCIsXHJcbiAgICBcdFwiIzAyOTk5MFwiLFxyXG4gICAgXHRcIiMzNTAxQ0JcIixcclxuICAgIFx0XCIjMkUyQzc1XCIsXHJcbiAgICBcdFwiIzY3M0E3RVwiLFxyXG4gICAgXHRcIiNDQzAwNzFcIlxyXG4gICAgXSxcclxuICAgIGZvbnRDb2xvdXI6IFtcclxuICAgIFx0XCIjRkZGXCIsXHJcbiAgICBcdFwiI0ZGRlwiLFxyXG4gICAgXHRcIiMzMzNcIixcclxuICAgIFx0XCIjMzMzXCIsXHJcbiAgICBcdFwiIzMzM1wiLFxyXG4gICAgXHRcIiMzMzNcIixcclxuICAgIFx0XCIjRkZGXCIsXHJcbiAgICBcdFwiI0ZGRlwiLFxyXG4gICAgICBcIiNGRkZcIixcclxuICAgIFx0XCIjRkZGXCIsXHJcbiAgICBcdFwiI0ZGRlwiLFxyXG4gICAgXHRcIiNGRkZcIixcclxuICAgIF1cclxuICB9O1xyXG59KCkpO1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgcmV0dXJuIFtcclxuICAgICAge25hbWU6XCJXZW5keSdzXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sIHtuYW1lOlwiTWNEb25hbGRzXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sXHJcbiAgICAgIHtuYW1lOlwiQ2hpY2stZmlsLWFcIiwgbGF0OlwiXCIsIGxuZzpcIlwiLCB2aWNpbml0eTpcIlwifSwge25hbWU6XCJGaXZlIEd1eXNcIiwgbGF0OlwiXCIsIGxuZzpcIlwiLCB2aWNpbml0eTpcIlwifSxcclxuICAgICAge25hbWU6XCJHb2xkIFN0YXJcIiwgbGF0OlwiXCIsIGxuZzpcIlwiLCB2aWNpbml0eTpcIlwifSwge25hbWU6XCJMYSBNZXhpY2FuYVwiLCBsYXQ6XCJcIiwgbG5nOlwiXCIsIHZpY2luaXR5OlwiXCJ9LFxyXG4gICAgICB7bmFtZTpcIkNoaXBvdGxlXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sIHtuYW1lOlwiVGF6emEgTWlhXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sXHJcbiAgICAgIHtuYW1lOlwiUGFuZXJhXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sIHtuYW1lOlwiSnVzdCBDcmVwZXNcIiwgbGF0OlwiXCIsIGxuZzpcIlwiLCB2aWNpbml0eTpcIlwifSxcclxuICAgICAge25hbWU6XCJBcmJ5J3NcIiwgbGF0OlwiXCIsIGxuZzpcIlwiLCB2aWNpbml0eTpcIlwifSwge25hbWU6XCJJbmRpYW5cIiwgbGF0OlwiXCIsIGxuZzpcIlwiLCB2aWNpbml0eTpcIlwifVxyXG4gICAgXTtcclxuXHJcbn0oKSk7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCQpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICB2YXIgUGxhY2VzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9wbGFjZXMuanMnKTtcclxuXHJcbiAgLyogQ29uc3RhbnRzICovXHJcbiAgdmFyIEhUTUxfT1VUUFVUID0gcmVxdWlyZSgnLi4vLi4vdGVtcGxhdGVzL3NldHRpbmdzLmh0bWwnKTtcclxuICB2YXIgSUQgPSAnI3NldHRpbmdzJztcclxuXHJcbiAgLyogQnV0dG9ucyAmIElucHV0cyAqL1xyXG4gIHZhciBPUEVOX0NMT1NFX0JVVFRPTiA9ICcjc2V0dGluZ3MgYS5zZXR0aW5ncyc7XHJcbiAgdmFyIENMSUNLX01FX1RFWFQgPSAnI3NldHRpbmdzIC5jbGlja21lJztcclxuICB2YXIgUExBQ0VfVFlQRV9SQURJTyA9ICcjc2V0dGluZ3MgLnBsYWNldHlwZSc7XHJcbiAgdmFyIExBVF9JTlBVVCA9ICcjc2V0dGluZ3MgaW5wdXQubGF0aXR1ZGUnO1xyXG4gIHZhciBMTkdfSU5QVVQgPSAnI3NldHRpbmdzIGlucHV0LmxvbmdpdHVkZSc7XHJcbiAgdmFyIFJBRF9JTlBVVCA9ICcjc2V0dGluZ3MgaW5wdXQucmFkaXVzJztcclxuICB2YXIgTUFYX1BMQUNFU19JTlBVVCA9ICcjc2V0dGluZ3MgaW5wdXQubWF4cGxhY2VzJztcclxuICB2YXIgU0hBUkVfTElOS19JTlBVVCA9ICcjc2V0dGluZ3MgaW5wdXQuc2hhcmVsaW5rJztcclxuICB2YXIgU0VBUkNIX0JVVFRPTiA9ICcjc2V0dGluZ3Mtc2VhcmNoJztcclxuICB2YXIgRFlOQU1JQ19TRUFSQ0hfSU5QVVQgPSAnI3NldHRpbmdzIGlucHV0LmR5bmFtaWMtc2VhcmNoJztcclxuXHJcbiAgZnVuY3Rpb24gU2V0dGluZ3MoKSB7XHJcblxyXG4gICAgdGhpcy5lbGVtcyA9IHtcclxuICAgICAgaWQ6IElELFxyXG4gICAgICByb290OiBudWxsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2V0dGluZ3MgPSB7XHJcbiAgICAgIHBsYWNlVHlwZTogJ3Jlc3RhdXJhbnQnLFxyXG4gICAgICBsYXRpdHVkZTogJycsXHJcbiAgICAgIGxvbmdpdHVkZTogJycsXHJcbiAgICAgIHJhZGl1czogMzAwLFxyXG4gICAgICBtYXhQbGFjZXM6IDEyLFxyXG4gICAgICBzaGFyZUxpbms6ICcnLFxyXG4gICAgICBkeW5hbWljU2VhcmNoOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLlVSTHBhcmFtcyA9IFdPTC5hcHAudXRpbGl0aWVzLmdldFVSTFBhcmFtcygpO1xyXG5cclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgU2V0dGluZ3MucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmKHR5cGVvZiB0aGlzLlVSTHBhcmFtcy5sYXQgIT09ICd1bmRlZmluZWQnKSB7IHRoaXMuc2V0dGluZ3MubGF0aXR1ZGUgPSB0aGlzLlVSTHBhcmFtcy5sYXQ7IH1cclxuICAgIGlmKHR5cGVvZiB0aGlzLlVSTHBhcmFtcy5sb25nICE9PSAndW5kZWZpbmVkJykgeyB0aGlzLnNldHRpbmdzLmxvbmdpdHVkZSA9IHRoaXMuVVJMcGFyYW1zLmxvbmc7IH1cclxuICAgIGlmKHR5cGVvZiB0aGlzLlVSTHBhcmFtcy5yYWRpdXMgIT09ICd1bmRlZmluZWQnKSB7IHRoaXMuc2V0dGluZ3MucmFkaXVzID0gdGhpcy5VUkxwYXJhbXMucmFkaXVzOyB9XHJcbiAgICBpZih0eXBlb2YgdGhpcy5VUkxwYXJhbXMudHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy5zZXR0aW5ncy5wbGFjZVR5cGUgPSB0aGlzLlVSTHBhcmFtcy50eXBlOyB9XHJcbiAgICBpZih0eXBlb2YgdGhpcy5VUkxwYXJhbXMubWF4cGxhY2VzICE9PSAndW5kZWZpbmVkJykgeyB0aGlzLnNldHRpbmdzLm1heFBsYWNlcyA9IHRoaXMuVVJMcGFyYW1zLm1heHBsYWNlczsgfVxyXG5cclxuICAgIHRoaXMuZWxlbXMucm9vdCA9ICQoSUQpO1xyXG4gICAgdGhpcy5hZGRXaW5kb3coKTtcclxuICAgIHRoaXMucG9wdWxhdGUoKTtcclxuICAgIHRoaXMuYWRkRXZlbnRzKCk7XHJcbiAgfTtcclxuXHJcbiAgU2V0dGluZ3MucHJvdG90eXBlLmFkZFdpbmRvdyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJCgnYm9keScpLnByZXBlbmQoSFRNTF9PVVRQVVQpO1xyXG4gIH07XHJcblxyXG4gIFNldHRpbmdzLnByb3RvdHlwZS5hZGRFdmVudHMgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAkKE9QRU5fQ0xPU0VfQlVUVE9OKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgJCgnLmNsaWNrbWUnKS5yZW1vdmUoKTtcclxuICAgICAgJCgnLnNldHRpbmdzJykudG9nZ2xlQ2xhc3MoJ3NldHRpbmdzLW9wZW4nKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoU0VBUkNIX0JVVFRPTikub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNlbGYuc2F2ZSgpO1xyXG4gICAgICBXT0wuYXBwLnBsYWNlcyA9IG5ldyBQbGFjZXMoc2VsZi5zZXR0aW5ncyk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBTZXR0aW5ncy5wcm90b3R5cGUucG9wdWxhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICQoUExBQ0VfVFlQRV9SQURJTyArICcuJyArIHRoaXMuc2V0dGluZ3MucGxhY2VUeXBlKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XHJcbiAgICAkKExBVF9JTlBVVCkudmFsKHRoaXMuc2V0dGluZ3MubGF0aXR1ZGUpO1xyXG4gICAgJChMTkdfSU5QVVQpLnZhbCh0aGlzLnNldHRpbmdzLmxvbmdpdHVkZSk7XHJcbiAgICAkKFJBRF9JTlBVVCkudmFsKHRoaXMuc2V0dGluZ3MucmFkaXVzKTtcclxuICAgICQoTUFYX1BMQUNFU19JTlBVVCkudmFsKHRoaXMuc2V0dGluZ3MubWF4UGxhY2VzKTtcclxuICAgIHRoaXMuc2V0dGluZ3Muc2hhcmVMaW5rID0gdGhpcy5nZXRTaGFyZUxpbmsoKTtcclxuICAgICQoU0hBUkVfTElOS19JTlBVVCkudmFsKHRoaXMuc2V0dGluZ3Muc2hhcmVMaW5rKTtcclxuICB9O1xyXG5cclxuICBTZXR0aW5ncy5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5zZXR0aW5ncy5wbGFjZVR5cGUgPSAkKFBMQUNFX1RZUEVfUkFESU8gKyAnOmNoZWNrZWQnKS52YWwoKTtcclxuICAgIHRoaXMuc2V0dGluZ3MubGF0aXR1ZGUgPSAkKExBVF9JTlBVVCkudmFsKCk7XHJcbiAgICB0aGlzLnNldHRpbmdzLmxvbmdpdHVkZSA9ICQoTE5HX0lOUFVUKS52YWwoKTtcclxuICAgIHRoaXMuc2V0dGluZ3MucmFkaXVzID0gJChSQURfSU5QVVQpLnZhbCgpO1xyXG4gICAgdGhpcy5zZXR0aW5ncy5tYXhQbGFjZXMgPSAkKE1BWF9QTEFDRVNfSU5QVVQpLnZhbCgpO1xyXG4gICAgdGhpcy5zZXR0aW5ncy5zaGFyZUxpbmsgPSB0aGlzLmdldFNoYXJlTGluaygpO1xyXG4gICAgdGhpcy5zZXR0aW5ncy5keW5hbWljU2VhcmNoID0gJChEWU5BTUlDX1NFQVJDSF9JTlBVVCkuaXMoJzpjaGVja2VkJyk7XHJcbiAgICB0aGlzLnBvcHVsYXRlKCk7XHJcbiAgfTtcclxuXHJcbiAgU2V0dGluZ3MucHJvdG90eXBlLnNldExhdExvbmcgPSBmdW5jdGlvbihwb3NpdGlvbikge1xyXG4gICAgdGhpcy5zZXR0aW5ncy5sYXRpdHVkZSA9IHBvc2l0aW9uLmxhdGl0dWRlO1xyXG4gICAgdGhpcy5zZXR0aW5ncy5sb25naXR1ZGUgPSBwb3NpdGlvbi5sb25naXR1ZGU7XHJcbiAgICB0aGlzLnBvcHVsYXRlKCk7XHJcbiAgfTtcclxuXHJcbiAgU2V0dGluZ3MucHJvdG90eXBlLnNldFJhZGl1cyA9IGZ1bmN0aW9uKHJhZGl1cykge1xyXG4gICAgdGhpcy5zZXR0aW5ncy5yYWRpdXMgPSByYWRpdXM7XHJcbiAgICB0aGlzLnBvcHVsYXRlKCk7XHJcbiAgfTtcclxuXHJcbiAgU2V0dGluZ3MucHJvdG90eXBlLmdldFNoYXJlTGluayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XHJcbiAgXHR2YXIgcGFyYW1zID0ge1xyXG4gICAgXHRcdFx0bGF0OiB0aGlzLnNldHRpbmdzLmxhdGl0dWRlLFxyXG4gICAgXHRcdFx0bG9uZzogdGhpcy5zZXR0aW5ncy5sb25naXR1ZGUsXHJcbiAgICBcdFx0XHRyYWRpdXM6IHRoaXMuc2V0dGluZ3MucmFkaXVzLFxyXG4gICAgXHRcdFx0dHlwZTogdGhpcy5zZXR0aW5ncy5wbGFjZVR5cGUsXHJcbiAgICBcdFx0XHRtYXhwbGFjZXM6IHRoaXMuc2V0dGluZ3MubWF4UGxhY2VzXHJcbiAgXHRcdH07XHJcblxyXG4gIFx0cmV0dXJuIHVybCArICc/JyArICQucGFyYW0ocGFyYW1zKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gU2V0dGluZ3M7XHJcbn0oalF1ZXJ5KSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICB2YXIgV09MID0gd2luZG93LldPTCA9IHJlcXVpcmUoJy4vd2hlZWwtb2YtbHVuY2guanMnKTtcclxuXHJcbiAgcmVxdWlyZSgnLi9wYWdlcy9nbG9iYWwuanMnKTtcclxuICByZXF1aXJlKCcuL3BhZ2VzL21haW4uanMnKTtcclxuXHJcbn0pKCk7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCQpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAvKiBDb25zdGFudHMgKi9cclxuICB2YXIgSFRNTF9PVVRQVVQgPSByZXF1aXJlKCcuLi8uLi90ZW1wbGF0ZXMvbG9jYWxpc2F0aW9uLWVycm9yLmh0bWwnKTtcclxuICB2YXIgSUQgPSAnI2xvY2FsaXNhdGlvbi1lcnJvcic7XHJcblxyXG4gIC8qIEJ1dHRvbnMgKi9cclxuICB2YXIgQ09OVElOVUVfQlVUVE9OID0gJyNsb2NhbGlzYXRpb24tY29udGludWUtYnV0dG9uJztcclxuXHJcbiAgZnVuY3Rpb24gRXJyb3JMb2NhdGlvbkxpZ2h0Ym94KCkge1xyXG5cclxuICAgIHRoaXMuZWxlbXMgPSB7XHJcbiAgICAgIGlkOiBJRCxcclxuICAgICAgcm9vdDogbnVsbFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9XHJcblxyXG4gIEVycm9yTG9jYXRpb25MaWdodGJveC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5hZGRXaW5kb3coKTtcclxuICB9O1xyXG5cclxuICBFcnJvckxvY2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmFkZFdpbmRvdyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJCgnYm9keScpLnByZXBlbmQoSFRNTF9PVVRQVVQpO1xyXG4gICAgdGhpcy5lbGVtcy5yb290ID0gJChJRCk7XHJcbiAgICB0aGlzLmFkZEV2ZW50cygpO1xyXG4gIH07XHJcblxyXG4gIEVycm9yTG9jYXRpb25MaWdodGJveC5wcm90b3R5cGUuY2xvc2VXaW5kb3cgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuZWxlbXMucm9vdC5yZW1vdmUoKTtcclxuICB9O1xyXG5cclxuICBFcnJvckxvY2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICQoQ09OVElOVUVfQlVUVE9OKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgc2VsZi5jbG9zZVdpbmRvdygpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIEVycm9yTG9jYXRpb25MaWdodGJveDtcclxufShqUXVlcnkpKTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oJCkge1xyXG5cclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIHZhciBHZW9sb2NhdGlvbiA9IHJlcXVpcmUoJy4uL21vZHVsZXMvZ2VvbG9jYXRpb24uanMnKTtcclxuXHJcbiAgLyogQ29uc3RhbnRzICovXHJcbiAgdmFyIEhUTUxfT1VUUFVUID0gcmVxdWlyZSgnLi4vLi4vdGVtcGxhdGVzL2xvY2FsaXNhdGlvbi1sb2FkaW5nLmh0bWwnKTtcclxuICB2YXIgSUQgPSAnI2dlb2xvY2F0aW9uJztcclxuXHJcbiAgZnVuY3Rpb24gR2VvbG9jYXRpb25MaWdodGJveCgpIHtcclxuXHJcbiAgICB0aGlzLmVsZW1zID0ge1xyXG4gICAgICBpZDogSUQsXHJcbiAgICAgIHJvb3Q6IG51bGxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBHZW9sb2NhdGlvbkxpZ2h0Ym94LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmFkZFdpbmRvdygpO1xyXG4gIH07XHJcblxyXG4gIEdlb2xvY2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmFkZFdpbmRvdyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJCgnYm9keScpLnByZXBlbmQoSFRNTF9PVVRQVVQpO1xyXG4gICAgdGhpcy5lbGVtcy5yb290ID0gJChJRCk7XHJcbiAgICB0aGlzLmdldExvY2F0aW9uKCk7XHJcbiAgfTtcclxuXHJcbiAgR2VvbG9jYXRpb25MaWdodGJveC5wcm90b3R5cGUuY2xvc2VXaW5kb3cgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuZWxlbXMucm9vdC5yZW1vdmUoKTtcclxuICAgIFdPTC5hcHAudXRpbGl0aWVzLnVuYmx1ckJhY2tncm91bmQoKTtcclxuICB9O1xyXG5cclxuICBHZW9sb2NhdGlvbkxpZ2h0Ym94LnByb3RvdHlwZS5nZXRMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgV09MLmFwcC5nZW9sb2NhdGlvbiA9IG5ldyBHZW9sb2NhdGlvbihmdW5jdGlvbigpIHtcclxuICAgICAgc2VsZi5jbG9zZVdpbmRvdygpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIEdlb2xvY2F0aW9uTGlnaHRib3g7XHJcbn0oalF1ZXJ5KSk7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCQpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICB2YXIgR2VvbG9jYXRpb25MaWdodGJveCA9IHJlcXVpcmUoJy4vZ2VvbG9jYXRpb25MaWdodGJveC5qcycpO1xyXG4gIHZhciBNYXBMaWdodGJveCA9IHJlcXVpcmUoJy4vbWFwTGlnaHRib3guanMnKTtcclxuXHJcbiAgLyogQ29uc3RhbnRzICovXHJcbiAgdmFyIEhUTUxfT1VUUFVUID0gcmVxdWlyZSgnLi4vLi4vdGVtcGxhdGVzL2xvY2FsaXNhdGlvbi5odG1sJyk7XHJcbiAgdmFyIElEID0gJyNsb2NhbGlzYXRpb24nO1xyXG5cclxuICAvKiBCdXR0b25zICovXHJcbiAgdmFyIENVUlJFTlRfTE9DQVRJT05fQlVUVE9OID0gJyNsb2NhdGlvbi1vcHRpb24tY3VycmVudCc7XHJcbiAgdmFyIEZJTkRfTE9DQVRJT05fQlVUVE9OID0gJyNsb2NhdGlvbi1vcHRpb24tZmluZCc7XHJcblxyXG4gIGZ1bmN0aW9uIExvY2FsaXNhdGlvbkxpZ2h0Ym94KCkge1xyXG5cclxuICAgIHRoaXMuZWxlbXMgPSB7XHJcbiAgICAgIGlkOiBJRCxcclxuICAgICAgcm9vdDogbnVsbFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmlzQ3VycmVudGx5T3BlbiA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgTG9jYWxpc2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuYWRkV2luZG93KCk7XHJcbiAgfTtcclxuXHJcbiAgTG9jYWxpc2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmFkZFdpbmRvdyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgV09MLmFwcC51dGlsaXRpZXMuYmx1ckJhY2tncm91bmQoKTtcclxuICAgICQoJ2JvZHknKS5wcmVwZW5kKEhUTUxfT1VUUFVUKTtcclxuICAgIHRoaXMuZWxlbXMucm9vdCA9ICQoSUQpO1xyXG4gICAgdGhpcy5pc0N1cnJlbnRseU9wZW4gPSB0cnVlO1xyXG4gICAgdGhpcy5hZGRFdmVudHMoKTtcclxuICB9O1xyXG5cclxuICBMb2NhbGlzYXRpb25MaWdodGJveC5wcm90b3R5cGUuY2xvc2VXaW5kb3cgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuaXNDdXJyZW50bHlPcGVuID0gZmFsc2U7XHJcbiAgICB0aGlzLmVsZW1zLnJvb3QucmVtb3ZlKCk7XHJcbiAgfTtcclxuXHJcbiAgTG9jYWxpc2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICQoQ1VSUkVOVF9MT0NBVElPTl9CVVRUT04pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBzZWxmLnNob3dDdXJyZW50TG9jYXRpb25MaWdodGJveCgpO1xyXG4gICAgICBzZWxmLmNsb3NlV2luZG93KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKEZJTkRfTE9DQVRJT05fQlVUVE9OKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgc2VsZi5zaG93RmluZExvY2F0aW9uTGlnaHRib3goKTtcclxuICAgICAgc2VsZi5jbG9zZVdpbmRvdygpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgTG9jYWxpc2F0aW9uTGlnaHRib3gucHJvdG90eXBlLnNob3dDdXJyZW50TG9jYXRpb25MaWdodGJveCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgV09MLmFwcC5saWdodGJveC5HZW9sb2NhdGlvbiA9IG5ldyBHZW9sb2NhdGlvbkxpZ2h0Ym94KCk7XHJcbiAgfTtcclxuXHJcbiAgTG9jYWxpc2F0aW9uTGlnaHRib3gucHJvdG90eXBlLnNob3dGaW5kTG9jYXRpb25MaWdodGJveCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgV09MLmFwcC5saWdodGJveC5NYXAgPSBuZXcgTWFwTGlnaHRib3goKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gTG9jYWxpc2F0aW9uTGlnaHRib3g7XHJcbn0oalF1ZXJ5KSk7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCQpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICB2YXIgTWFwID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9tYXAuanMnKTtcclxuICB2YXIgUGxhY2VzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9wbGFjZXMuanMnKTtcclxuXHJcbiAgLyogQ29uc3RhbnRzICovXHJcbiAgdmFyIEhUTUxfT1VUUFVUID0gcmVxdWlyZSgnLi4vLi4vdGVtcGxhdGVzL21hcC5odG1sJyk7XHJcbiAgdmFyIElEID0gJyNtYXAnO1xyXG5cclxuICAvKiBJbnB1dHMgYW5kIEJ1dHRvbnMgKi9cclxuICB2YXIgTUFQX0NBTlZBUyA9ICdtYXAtY2FudmFzJztcclxuICB2YXIgU0VBUkNIX0JPWF9JTlBVVCA9ICdtYXAtc2VhcmNoJztcclxuICB2YXIgU0VMRUNUX0xPQ0FUSU9OX0JVVFRPTiA9ICcjbWFwIC5zZWxlY3QtbG9jYXRpb24nO1xyXG5cclxuICBmdW5jdGlvbiBNYXBMaWdodGJveCgpIHtcclxuXHJcbiAgICB0aGlzLmVsZW1zID0ge1xyXG4gICAgICBpZDogSUQsXHJcbiAgICAgIHJvb3Q6IG51bGxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBNYXBMaWdodGJveC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5hZGRXaW5kb3coKTtcclxuICAgIFdPTC5hcHAuTWFwID0gbmV3IE1hcChNQVBfQ0FOVkFTLCBTRUFSQ0hfQk9YX0lOUFVUKTtcclxuICB9O1xyXG5cclxuICBNYXBMaWdodGJveC5wcm90b3R5cGUuYWRkV2luZG93ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkKCdib2R5JykucHJlcGVuZChIVE1MX09VVFBVVCk7XHJcbiAgICB0aGlzLmVsZW1zLnJvb3QgPSAkKElEKTtcclxuICAgIHRoaXMuYWRkRXZlbnRzKCk7XHJcbiAgfTtcclxuXHJcbiAgTWFwTGlnaHRib3gucHJvdG90eXBlLmNsb3NlV2luZG93ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmVsZW1zLnJvb3QucmVtb3ZlKCk7XHJcbiAgICBXT0wuYXBwLnV0aWxpdGllcy51bmJsdXJCYWNrZ3JvdW5kKCk7XHJcbiAgfTtcclxuXHJcbiAgTWFwTGlnaHRib3gucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICQoU0VMRUNUX0xPQ0FUSU9OX0JVVFRPTikub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIFdPTC5hcHAuc2V0dGluZ3Muc2V0TGF0TG9uZyhXT0wuYXBwLk1hcC5wb3NpdGlvbik7XHJcbiAgICAgIFdPTC5hcHAucGxhY2VzID0gbmV3IFBsYWNlcyhcclxuICAgICAgICB7XHJcbiAgICAgICAgICBsYXRpdHVkZTogV09MLmFwcC5NYXAucG9zaXRpb24ubGF0aXR1ZGUsXHJcbiAgICAgICAgICBsb25naXR1ZGU6IFdPTC5hcHAuTWFwLnBvc2l0aW9uLmxvbmdpdHVkZSxcclxuICAgICAgICAgIGR5bmFtaWNTZWFyY2g6IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIHNlbGYuY2xvc2VXaW5kb3coKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBNYXBMaWdodGJveDtcclxufShqUXVlcnkpKTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oJCkge1xyXG5cclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIC8qIENvbnN0YW50cyAqL1xyXG4gIHZhciBIVE1MX09VVFBVVCA9IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9yZXN1bHQubXVzdGFjaGUnKTtcclxuICB2YXIgSUQgPSAnI3Jlc3VsdCc7XHJcblxyXG4gIC8qIEJ1dHRvbnMgKi9cclxuICB2YXIgUkFUSU5HID0gJyNyZXN1bHQgLnJhdGluZyc7XHJcbiAgdmFyIFJBVElOR19GRyA9ICcjcmVzdWx0IC5yYXRpbmctZm9yZWdyb3VuZCc7XHJcbiAgdmFyIENMT1NFX0JVVFRPTiA9ICcjcmVzdWx0IC5jbG9zZSc7XHJcblxyXG4gIGZ1bmN0aW9uIFJlc3VsdExpZ2h0Ym94KHJlc3RhdXJhbnQpIHtcclxuXHJcbiAgICB0aGlzLmVsZW1zID0ge1xyXG4gICAgICBpZDogSUQsXHJcbiAgICAgIHJvb3Q6IG51bGxcclxuICAgIH07XHJcbiAgICB0aGlzLnJlc3RhdXJhbnQgPSByZXN0YXVyYW50O1xyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBSZXN1bHRMaWdodGJveC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5yZXN0YXVyYW50LmhyZWYgPSB0aGlzLmJ1aWxkSHJlZigpO1xyXG4gICAgdGhpcy5hZGRXaW5kb3coKTtcclxuICB9O1xyXG5cclxuICBSZXN1bHRMaWdodGJveC5wcm90b3R5cGUuYWRkV2luZG93ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBXT0wuYXBwLnV0aWxpdGllcy5ibHVyQmFja2dyb3VuZCgpO1xyXG4gICAgJCgnYm9keScpLnByZXBlbmQoSFRNTF9PVVRQVVQucmVuZGVyKCB7XHJcbiAgICAgIHRpdGxlOiB0aGlzLnJlc3RhdXJhbnQubmFtZSxcclxuICAgICAgdmljaW5pdHk6IHRoaXMucmVzdGF1cmFudC52aWNpbml0eSxcclxuICAgICAgcmF0aW5nOiB0aGlzLnJlc3RhdXJhbnQucmF0aW5nLFxyXG4gICAgICBocmVmOiB0aGlzLnJlc3RhdXJhbnQuaHJlZlxyXG4gICAgfSkpO1xyXG4gICAgdGhpcy5lbGVtcy5yb290ID0gJChJRCk7XHJcbiAgICB0aGlzLmRpc3BsYXlSYXRpbmdzKCk7XHJcbiAgICB0aGlzLmFkZEV2ZW50cygpO1xyXG4gIH07XHJcblxyXG4gIFJlc3VsdExpZ2h0Ym94LnByb3RvdHlwZS5jbG9zZVdpbmRvdyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5lbGVtcy5yb290LnJlbW92ZSgpO1xyXG4gICAgV09MLmFwcC51dGlsaXRpZXMudW5ibHVyQmFja2dyb3VuZCgpO1xyXG4gIH07XHJcblxyXG4gIFJlc3VsdExpZ2h0Ym94LnByb3RvdHlwZS5kaXNwbGF5UmF0aW5ncyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYodHlwZW9mIHRoaXMucmVzdGF1cmFudC5yYXRpbmcgPT09ICd1bmRlZmluZWQnIHx8IHRoaXMucmVzdGF1cmFudC5yYXRpbmcgPT09IG51bGwpIHtcclxuICAgICAgJChSQVRJTkcpLnJlbW92ZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJChSQVRJTkdfRkcpLmNzcygnd2lkdGgnLCAodGhpcy5yZXN0YXVyYW50LnJhdGluZyAvIDUpICogMTAwICsgJyUnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBSZXN1bHRMaWdodGJveC5wcm90b3R5cGUuYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgJChDTE9TRV9CVVRUT04pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBzZWxmLmNsb3NlV2luZG93KCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBSZXN1bHRMaWdodGJveC5wcm90b3R5cGUuYnVpbGRIcmVmID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgcmVzdWx0TmFtZSA9IHRoaXMucmVzdGF1cmFudC5uYW1lLnNwbGl0KCcgJykuam9pbignKycpO1xyXG4gICAgdmFyIG1hcFVSTCA9IFwiaHR0cDovL21hcHMuZ29vZ2xlLmNvbS9tYXBzL2Rpci9cIjtcclxuXHRcdHZhciBvcmlnaW5Db29yZHMgPSBXT0wuYXBwLnNldHRpbmdzLnNldHRpbmdzLmxhdGl0dWRlICsgXCIsXCIgKyBXT0wuYXBwLnNldHRpbmdzLnNldHRpbmdzLmxvbmdpdHVkZTtcclxuXHJcbiAgICByZXR1cm4gbWFwVVJMICsgb3JpZ2luQ29vcmRzICsgJy8nICsgcmVzdWx0TmFtZSArICcsJyArIHRoaXMucmVzdGF1cmFudC52aWNpbml0eSArICcvQCcgKyB0aGlzLnJlc3RhdXJhbnQubGF0ICsgJywnICsgdGhpcy5yZXN0YXVyYW50LmxuZztcclxuICB9O1xyXG5cclxuICByZXR1cm4gUmVzdWx0TGlnaHRib3g7XHJcbn0oalF1ZXJ5KSk7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCkge1xyXG5cclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIHZhciBQbGFjZXMgPSByZXF1aXJlKCcuL3BsYWNlcy5qcycpO1xyXG4gIHZhciBFcnJvckxvY2F0aW9uTGlnaHRib3ggPSByZXF1aXJlKCcuLi9saWdodGJveGVzL2Vycm9yTG9jYXRpb25MaWdodGJveC5qcycpO1xyXG5cclxuICBmdW5jdGlvbiBHZW9sb2NhdGlvbihjYWxsYmFjaykge1xyXG5cclxuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIHRoaXMucG9zaXRpb24gPSB7fTtcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMgPSB7XHJcbiAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcclxuICAgICAgbWF4aW11bUFnZTogMFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldExvY2F0aW9uKCk7XHJcbiAgfVxyXG5cclxuICBHZW9sb2NhdGlvbi5wcm90b3R5cGUuZ2V0TG9jYXRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24odGhpcy5zdWNjZXNzLCB0aGlzLmVycm9yLCB0aGlzLm9wdGlvbnMpO1xyXG4gIH07XHJcblxyXG4gIEdlb2xvY2F0aW9uLnByb3RvdHlwZS5zdWNjZXNzID0gZnVuY3Rpb24ocG9zKSB7XHJcbiAgICBXT0wuYXBwLmdlb2xvY2F0aW9uLnBvc2l0aW9uID0gcG9zLmNvb3JkcztcclxuICAgIFdPTC5hcHAuc2V0dGluZ3Muc2V0TGF0TG9uZyhXT0wuYXBwLmdlb2xvY2F0aW9uLnBvc2l0aW9uKTtcclxuICAgIFdPTC5hcHAucGxhY2VzID0gbmV3IFBsYWNlcyhcclxuICAgICAge1xyXG4gICAgICAgIGxhdGl0dWRlOiBXT0wuYXBwLmdlb2xvY2F0aW9uLnBvc2l0aW9uLmxhdGl0dWRlLFxyXG4gICAgICAgIGxvbmdpdHVkZTogV09MLmFwcC5nZW9sb2NhdGlvbi5wb3NpdGlvbi5sb25naXR1ZGUsXHJcbiAgICAgICAgZHluYW1pY1NlYXJjaDogdHJ1ZVxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgV09MLmFwcC5nZW9sb2NhdGlvbi5jYWxsYmFjaygpO1xyXG4gIH07XHJcblxyXG4gIEdlb2xvY2F0aW9uLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uKGVycikge1xyXG4gICAgV09MLmFwcC5nZW9sb2NhdGlvbi5jYWxsYmFjaygpO1xyXG4gICAgV09MLmFwcC5saWdodGJveC5FcnJvckxvY2F0aW9uTGlnaHRib3ggPSBuZXcgRXJyb3JMb2NhdGlvbkxpZ2h0Ym94KCk7XHJcbiAgfTtcclxuXHJcbiAgR2VvbG9jYXRpb24ucHJvdG90eXBlLmNsb3NlUGFyZW50V2luZG93ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmVsZW1zLnBhcmVudFJvb3QucmVtb3ZlKCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIEdlb2xvY2F0aW9uO1xyXG59KCkpO1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBmdW5jdGlvbiBNYXAoY2FudmFzSUQsIHNlYXJjaEJ1dHRvbklEKSB7XHJcbiAgICB0aGlzLnBvc2l0aW9uID0ge1xyXG4gICAgICBsYXRpdHVkZTogMCxcclxuICAgICAgbG9uZ2l0dWRlOiAwXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMubWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYW52YXNJRCksIHtcclxuICAgICAgbWFwVHlwZUlkOiBnb29nbGUubWFwcy5NYXBUeXBlSWQuUk9BRE1BUFxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5kZWZhdWx0Qm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcyhcclxuICAgICAgICBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKDQ5LjM4MzYzOTQ1MjY4OTY2NCwgLTE3LjM5ODY2NDA2MjQ5OTk2KSxcclxuICAgICAgICBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKDU5LjUzNTMwNDUxMjMyNDkxLCA4Ljk2ODUyMzQzNzUwMDAzOSkpO1xyXG4gICAgdGhpcy5tYXAuZml0Qm91bmRzKHRoaXMuZGVmYXVsdEJvdW5kcyk7XHJcblxyXG4gICAgdGhpcy5pbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlYXJjaEJ1dHRvbklEKTtcclxuXHJcbiAgICB0aGlzLnNlYXJjaEJveCA9IG5ldyBnb29nbGUubWFwcy5wbGFjZXMuU2VhcmNoQm94KCh0aGlzLmlucHV0KSk7XHJcblxyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBNYXAucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuYWRkRXZlbnRzKCk7XHJcbiAgfTtcclxuXHJcbiAgTWFwLnByb3RvdHlwZS5hZGRFdmVudHMgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMucGxhY2VzQ2hhbmdlZCgpO1xyXG4gICAgdGhpcy5ib3VuZHNDaGFuZ2VkKCk7XHJcbiAgICB0aGlzLmNlbnRlckNoYW5nZWQoKTtcclxuICB9O1xyXG5cclxuICAvLyBMaXN0ZW4gZm9yIHRoZSBldmVudCBmaXJlZCB3aGVuIHRoZSB1c2VyIHNlbGVjdHMgYW4gaXRlbSBmcm9tIHRoZVxyXG4gIC8vIHBpY2sgbGlzdC4gUmV0cmlldmUgdGhlIG1hdGNoaW5nIHBsYWNlcyBmb3IgdGhhdCBpdGVtLlxyXG4gIE1hcC5wcm90b3R5cGUucGxhY2VzQ2hhbmdlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIodGhpcy5zZWFyY2hCb3gsICdwbGFjZXNfY2hhbmdlZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgcGxhY2VzID0gc2VsZi5zZWFyY2hCb3guZ2V0UGxhY2VzKCk7XHJcblxyXG4gICAgICBpZiAocGxhY2VzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRm9yIGVhY2ggcGxhY2UsIGdldCB0aGUgaWNvbiwgcGxhY2UgbmFtZSwgYW5kIGxvY2F0aW9uLlxyXG4gICAgICB2YXIgYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xyXG4gICAgICBmb3IgKHZhciBqID0gMCwgcGxhY2U7IGogPCBwbGFjZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBwbGFjZSA9IHBsYWNlc1tqXTtcclxuICAgICAgICB2YXIgaW1hZ2UgPSB7XHJcbiAgICAgICAgICB1cmw6IHBsYWNlLmljb24sXHJcbiAgICAgICAgICBzaXplOiBuZXcgZ29vZ2xlLm1hcHMuU2l6ZSg3MSwgNzEpLFxyXG4gICAgICAgICAgb3JpZ2luOiBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoMCwgMCksXHJcbiAgICAgICAgICBhbmNob3I6IG5ldyBnb29nbGUubWFwcy5Qb2ludCgxNywgMzQpLFxyXG4gICAgICAgICAgc2NhbGVkU2l6ZTogbmV3IGdvb2dsZS5tYXBzLlNpemUoMjUsIDI1KVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGJvdW5kcy5leHRlbmQocGxhY2UuZ2VvbWV0cnkubG9jYXRpb24pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxmLm1hcC5maXRCb3VuZHMoYm91bmRzKTtcclxuICAgICAgaWYocGxhY2VzLmxlbmd0aCA9PSAxKXtcclxuICAgICAgICBzZWxmLm1hcC5zZXRab29tKDE2KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgTWFwLnByb3RvdHlwZS5ib3VuZHNDaGFuZ2VkID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gQmlhcyB0aGUgU2VhcmNoQm94IHJlc3VsdHMgdG93YXJkcyBwbGFjZXMgdGhhdCBhcmUgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlXHJcbiAgICAvLyBjdXJyZW50IG1hcCdzIHZpZXdwb3J0LlxyXG4gICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIodGhpcy5tYXAsICdib3VuZHNfY2hhbmdlZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgYm91bmRzID0gc2VsZi5tYXAuZ2V0Qm91bmRzKCk7XHJcbiAgICAgIHNlbGYuc2VhcmNoQm94LnNldEJvdW5kcyhib3VuZHMpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgTWFwLnByb3RvdHlwZS5jZW50ZXJDaGFuZ2VkID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIodGhpcy5tYXAsICdjZW50ZXJfY2hhbmdlZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBzZWxmLnBvc2l0aW9uLmxhdGl0dWRlID0gc2VsZi5tYXAuZ2V0Q2VudGVyKCkubGF0KCk7XHJcbiAgICAgIHNlbGYucG9zaXRpb24ubG9uZ2l0dWRlID0gc2VsZi5tYXAuZ2V0Q2VudGVyKCkubG5nKCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gTWFwO1xyXG59KCkpO1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICB2YXIgRXJyb3JMb2NhdGlvbkxpZ2h0Ym94ID0gcmVxdWlyZSgnLi4vbGlnaHRib3hlcy9lcnJvckxvY2F0aW9uTGlnaHRib3guanMnKTtcclxuXHJcbiAgdmFyIEFQSV9VUkwgPSAnaHR0cDovL3d3dy5qYWNrLXBhbG1lci5jby51ay93aGVlbC9hcGkvZ2V0UGxhY2VzLyc7XHJcblxyXG4gIGZ1bmN0aW9uIFBsYWNlcyh1c2VyT3B0aW9ucykge1xyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgICByYWRpdXM6IDMwMCxcclxuICAgICAgICByYWRpdXNJbmNyZW1lbnQ6IDUwLFxyXG4gICAgICAgIHBsYWNlVHlwZTogJ3Jlc3RhdXJhbnQnLFxyXG4gICAgICAgIG1heFBsYWNlczogMTIsXHJcbiAgICAgICAgZHluYW1pY1NlYXJjaDogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5VUkxwYXJhbXMgPSBXT0wuYXBwLnV0aWxpdGllcy5nZXRVUkxQYXJhbXMoKTtcclxuXHJcbiAgICBpZih0eXBlb2YgdXNlck9wdGlvbnMgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIHRoaXMudXNlck9wdGlvbnMgPSB7IH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnVzZXJPcHRpb25zID0gdXNlck9wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yZXN0YXVyYW50cyA9IHt9O1xyXG5cclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgdGhpcy5nZXRQbGFjZXModGhpcy5vcHRpb25zKTtcclxuICB9XHJcblxyXG4gIFBsYWNlcy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYodHlwZW9mIHRoaXMuVVJMcGFyYW1zLmxhdCAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy5vcHRpb25zLmxhdGl0dWRlID0gdGhpcy5VUkxwYXJhbXMubGF0OyB9XHJcbiAgICBpZih0eXBlb2YgdGhpcy5VUkxwYXJhbXMubG9uZyAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy5vcHRpb25zLmxvbmdpdHVkZSA9IHRoaXMuVVJMcGFyYW1zLmxvbmc7IH1cclxuICAgIGlmKHR5cGVvZiB0aGlzLlVSTHBhcmFtcy5yYWRpdXMgIT09ICd1bmRlZmluZWQnKSB7IHRoaXMub3B0aW9ucy5yYWRpdXMgPSB0aGlzLlVSTHBhcmFtcy5yYWRpdXM7IH1cclxuICAgIGlmKHR5cGVvZiB0aGlzLlVSTHBhcmFtcy50eXBlICE9PSAndW5kZWZpbmVkJykgeyB0aGlzLm9wdGlvbnMucGxhY2VUeXBlID0gdGhpcy5VUkxwYXJhbXMudHlwZTsgfVxyXG4gICAgaWYodHlwZW9mIHRoaXMuVVJMcGFyYW1zLm1heHBsYWNlcyAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy5vcHRpb25zLm1heFBsYWNlcyA9IHRoaXMuVVJMcGFyYW1zLm1heHBsYWNlczsgfVxyXG5cclxuICAgIGlmKHR5cGVvZiB0aGlzLnVzZXJPcHRpb25zLmxhdGl0dWRlICE9PSAndW5kZWZpbmVkJykgeyB0aGlzLm9wdGlvbnMubGF0aXR1ZGUgPSB0aGlzLnVzZXJPcHRpb25zLmxhdGl0dWRlOyB9XHJcbiAgICBpZih0eXBlb2YgdGhpcy51c2VyT3B0aW9ucy5sb25naXR1ZGUgIT09ICd1bmRlZmluZWQnKSB7IHRoaXMub3B0aW9ucy5sb25naXR1ZGUgPSB0aGlzLnVzZXJPcHRpb25zLmxvbmdpdHVkZTsgfVxyXG4gICAgaWYodHlwZW9mIHRoaXMudXNlck9wdGlvbnMucmFkaXVzICE9PSAndW5kZWZpbmVkJykgeyB0aGlzLm9wdGlvbnMucmFkaXVzID0gdGhpcy51c2VyT3B0aW9ucy5yYWRpdXM7IH1cclxuICAgIGlmKHR5cGVvZiB0aGlzLnVzZXJPcHRpb25zLnBsYWNlVHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy5vcHRpb25zLnBsYWNlVHlwZSA9IHRoaXMudXNlck9wdGlvbnMucGxhY2VUeXBlOyB9XHJcbiAgICBpZih0eXBlb2YgdGhpcy51c2VyT3B0aW9ucy5tYXhQbGFjZXMgIT09ICd1bmRlZmluZWQnKSB7IHRoaXMub3B0aW9ucy5tYXhQbGFjZXMgPSB0aGlzLnVzZXJPcHRpb25zLm1heFBsYWNlczsgfVxyXG5cclxuICAgIGlmKHR5cGVvZiB0aGlzLnVzZXJPcHRpb25zLmR5bmFtaWNTZWFyY2ggIT09ICd1bmRlZmluZWQnKSB7IHRoaXMub3B0aW9ucy5keW5hbWljU2VhcmNoID0gdGhpcy51c2VyT3B0aW9ucy5keW5hbWljU2VhcmNoOyB9XHJcbiAgfTtcclxuXHJcbiAgUGxhY2VzLnByb3RvdHlwZS5nZXRQbGFjZXMgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgJC5nZXRKU09OKCBBUElfVVJMICsgdGhpcy5idWlsZFF1ZXJ5UGFyYW1zKG9wdGlvbnMpLFxyXG4gICAgZnVuY3Rpb24oIGRhdGEgKSB7XHJcblxyXG4gICAgICBpZihkYXRhLmxlbmd0aCA8IG9wdGlvbnMubWF4UGxhY2VzICYmIG9wdGlvbnMucmFkaXVzIDwgMzAwMCAmJiBvcHRpb25zLmR5bmFtaWNTZWFyY2gpIHtcclxuICAgICAgICBzZWxmLmV4cGFuZFNlYXJjaFJhZGl1cyhkYXRhLCBvcHRpb25zKTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgaWYoZGF0YS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIHNlbGYuZXJyb3IoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VsZi5zdWNjZXNzKGRhdGEsIG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBQbGFjZXMucHJvdG90eXBlLmJ1aWxkUXVlcnlQYXJhbXMgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gJz8nICtcclxuICAgICAgICAgICAnbGF0aXR1ZGU9JyArIG9wdGlvbnMubGF0aXR1ZGUgKyAnJicgK1xyXG4gICAgICAgICAgICdsb25naXR1ZGU9JyArIG9wdGlvbnMubG9uZ2l0dWRlICsgJyYnICtcclxuICAgICAgICAgICAncmFkaXVzPScgKyBvcHRpb25zLnJhZGl1cyArICcmJyArXHJcbiAgICAgICAgICAgJ3R5cGU9JyArIG9wdGlvbnMucGxhY2VUeXBlICsgJyYnICtcclxuICAgICAgICAgICAnbWF4cGxhY2VzPScgKyBvcHRpb25zLm1heFBsYWNlcyArICcmJyArXHJcbiAgICAgICAgICAgJ21pblByaWNlPScgKyAnMCcgKyAnJicgK1xyXG4gICAgICAgICAgICdtYXhQcmljZT0nICsgJzQnO1xyXG4gIH07XHJcblxyXG4gIFBsYWNlcy5wcm90b3R5cGUuZXhwYW5kU2VhcmNoUmFkaXVzID0gZnVuY3Rpb24oZGF0YSwgb3B0aW9ucykge1xyXG4gICAgaWYob3B0aW9ucy5yYWRpdXMgPj0gMzAwKSB7XHJcbiAgICAgIG9wdGlvbnMucmFkaXVzSW5jcmVtZW50ID0gMTAwO1xyXG4gICAgfVxyXG4gICAgaWYob3B0aW9ucy5yYWRpdXMgPj0gMTAwMCkge1xyXG4gICAgICBvcHRpb25zLnJhZGl1c0luY3JlbWVudCA9IDUwMDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmdldFBsYWNlcyhcclxuICAgICAge1xyXG4gICAgICAgIGxhdGl0dWRlOiBvcHRpb25zLmxhdGl0dWRlLFxyXG4gICAgICAgIGxvbmdpdHVkZTogb3B0aW9ucy5sb25naXR1ZGUsXHJcbiAgICAgICAgcmFkaXVzOiBwYXJzZUludChvcHRpb25zLnJhZGl1cykgKyBvcHRpb25zLnJhZGl1c0luY3JlbWVudCxcclxuICAgICAgICByYWRpdXNJbmNyZW1lbnQ6IHBhcnNlSW50KG9wdGlvbnMucmFkaXVzSW5jcmVtZW50KSxcclxuICAgICAgICBwbGFjZVR5cGU6IG9wdGlvbnMucGxhY2VUeXBlLFxyXG4gICAgICAgIG1heFBsYWNlczogcGFyc2VJbnQob3B0aW9ucy5tYXhQbGFjZXMpLFxyXG4gICAgICAgIGR5bmFtaWNTZWFyY2g6IG9wdGlvbnMuZHluYW1pY1NlYXJjaFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIFBsYWNlcy5wcm90b3R5cGUuc3VjY2VzcyA9IGZ1bmN0aW9uKGRhdGEsIG9wdGlvbnMpIHtcclxuICAgIHRoaXMucmVzdGF1cmFudHMgPSBkYXRhO1xyXG4gICAgdGhpcy5vcHRpb25zLmR5bmFtaWNTZWFyY2ggPSBmYWxzZTtcclxuXHJcbiAgICBpZihvcHRpb25zLmR5bmFtaWNTZWFyY2gpIHtcclxuICAgICAgV09MLmFwcC5zZXR0aW5ncy5zZXRSYWRpdXMob3B0aW9ucy5yYWRpdXMpO1xyXG4gICAgfVxyXG5cclxuICAgIFdPTC5hcHAud2hlZWwuc2V0UmVzdGF1cmFudHMoZGF0YSk7XHJcbiAgICBXT0wuYXBwLndoZWVsLmRyYXcoKTtcclxuICB9O1xyXG5cclxuICBQbGFjZXMucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgV09MLmFwcC5saWdodGJveC5FcnJvckxvY2F0aW9uTGlnaHRib3ggPSBuZXcgRXJyb3JMb2NhdGlvbkxpZ2h0Ym94KCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIFBsYWNlcztcclxufSgpKTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oJCkge1xyXG5cclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGZ1bmN0aW9uIFV0aWxpdGllcygpIHtcclxuXHJcbiAgfVxyXG5cclxuICBVdGlsaXRpZXMucHJvdG90eXBlLmdldFVSTFBhcmFtcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgdmFycyA9IFtdLCBoYXNoO1xyXG4gICAgICB2YXIgaGFzaGVzID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc2xpY2Uod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignPycpICsgMSkuc3BsaXQoJyYnKTtcclxuICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGhhc2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaGFzaCA9IGhhc2hlc1tpXS5zcGxpdCgnPScpO1xyXG4gICAgICAgICAgaWYoaGFzaC5sZW5ndGggPT0gMikge1xyXG4gIFx0ICAgICAgICB2YXJzLnB1c2goaGFzaFswXSk7XHJcbiAgXHQgICAgICAgIHZhcnNbaGFzaFswXV0gPSBoYXNoWzFdO1xyXG4gIFx0ICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdmFycztcclxuICB9O1xyXG5cclxuICBVdGlsaXRpZXMucHJvdG90eXBlLmJsdXJCYWNrZ3JvdW5kID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkKCcudW5ibHVyJykucmVtb3ZlQ2xhc3MoJ3VuYmx1cicpLmFkZENsYXNzKCdibHVyJyk7XHJcbiAgfTtcclxuICBVdGlsaXRpZXMucHJvdG90eXBlLnVuYmx1ckJhY2tncm91bmQgPSBmdW5jdGlvbigpIHtcclxuICAgICQoJy5ibHVyJykucmVtb3ZlQ2xhc3MoJ2JsdXInKS5hZGRDbGFzcygndW5ibHVyJyk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIFV0aWxpdGllcztcclxufShqUXVlcnkpKTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKSB7XHJcblxyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgdmFyIGNvbG91cnMgPSByZXF1aXJlKCcuLi9kYXRhL2NvbG91cnMuanMnKTtcclxuICB2YXIgZGVmYXVsdFJlc3RhdXJhbnRzID0gcmVxdWlyZSgnLi4vZGF0YS9yZXN0YXVyYW50cy5qcycpO1xyXG4gIHZhciBSZXN1bHRMaWdodGJveCA9IHJlcXVpcmUoJy4uL2xpZ2h0Ym94ZXMvcmVzdWx0TGlnaHRib3guanMnKTtcclxuXHJcbiAgLyogQnV0dG9ucyAqL1xyXG4gIHZhciBTUElOX0JVVFRPTiA9ICcjc3Bpbic7XHJcblxyXG4gIGZ1bmN0aW9uIFdoZWVsKHNlbGVjdG9yKSB7XHJcblxyXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGVjdG9yKTtcclxuICAgIHZhciAkY2FudmFzID0gJCgnIycgKyBzZWxlY3Rvcik7XHJcblxyXG4gICAgdGhpcy5lbGVtcyA9IHtcclxuICAgICAgc2VsZWN0b3I6ICcjJyArIHNlbGVjdG9yLFxyXG4gICAgICBjYW52YXM6IGNhbnZhcyxcclxuICAgICAgJGNhbnZhczogJGNhbnZhc1xyXG4gICAgfTtcclxuXHJcbiAgICBpZighY2FudmFzLmdldENvbnRleHQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZGF0YSA9IHtcclxuICAgICAgY2FudmFzOiBjYW52YXMsXHJcbiAgICAgIHJlc3RhdXJhbnRzOiBkZWZhdWx0UmVzdGF1cmFudHMsXHJcbiAgICAgIHdpZHRoOiA2MDAsXHJcbiAgICAgIGhlaWdodDogNjAwLFxyXG4gICAgICBzdGFydEFuZ2xlOiAwLFxyXG4gICAgICBzcGluVGltZW91dDogbnVsbCxcclxuICAgICAgaXNTcGlubmluZzogZmFsc2UsXHJcbiAgICAgIHNwaW5BcmNTdGFydDogMTAsXHJcbiAgICAgIHNwaW5UaW1lOiAwLFxyXG4gICAgICBzcGluVGltZVRvdGFsOiAwLFxyXG4gICAgICBzcGluVmVsb2NpdHk6IDIwMDAsXHJcbiAgICAgIGN0eDogbnVsbCxcclxuICAgICAgcm91bGV0dGVXaGVlbDoge30sXHJcbiAgICAgIG91dHNpZGVSYWRpdXM6IDI1MCxcclxuICAgICAgdGV4dFJhZGl1czogMTk0LFxyXG4gICAgICBpbnNpZGVSYWRpdXM6IDE1MCxcclxuICAgICAgYW5nbGU6IG51bGwsXHJcbiAgICAgIHRleHQ6IG51bGwsXHJcbiAgICAgIGRyYWc6IHtcclxuICAgICAgICBjbGlja2VkWDogbnVsbCxcclxuICAgICAgICBjbGlja2VkWTogbnVsbCxcclxuICAgICAgICBjdXJyZW50RHJhZ1g6IG51bGwsXHJcbiAgICAgICAgY3VycmVudERyYWdZOiBudWxsLFxyXG4gICAgICAgIHByZXZpb3VzRHJhZ1g6IG51bGwsXHJcbiAgICAgICAgcHJldmlvdXNEcmFnWTogbnVsbCxcclxuICAgICAgICBpc0RyYWdnaW5nOiBudWxsLFxyXG4gICAgICAgIGNoYW5nZWRBbmdsZTogbnVsbCxcclxuICAgICAgICBhcmNBbmdsZTogbnVsbFxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgV2hlZWwucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuZGF0YS5jdHggPSB0aGlzLmRhdGEuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIHRoaXMuZGF0YS5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuZGF0YS53aWR0aCwgdGhpcy5kYXRhLmhlaWdodCk7XHJcbiAgICB0aGlzLmRhdGEuY3R4LnN0cm9rZVN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgdGhpcy5kYXRhLmN0eC5mb250ID0gXCIxMnB4IEhlbHZldGljYSwgQXJpYWxcIjtcclxuICAgIHRoaXMuZGF0YS5hcmMgPSBNYXRoLlBJIC8gKHRoaXMuZGF0YS5yZXN0YXVyYW50cy5sZW5ndGggLyAyKTtcclxuXHJcbiAgICB0aGlzLmRyYXcoKTtcclxuICAgIHRoaXMuYWRkRXZlbnRzKCk7XHJcbiAgfTtcclxuXHJcbiAgV2hlZWwucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICQoU1BJTl9CVVRUT04pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZighc2VsZi5yZXRJc1NwaW5uaW5nKCkpIHtcclxuICBcdFx0XHRzZWxmLnNwaW4odHJ1ZSk7XHJcbiAgXHRcdH1cclxuICAgIH0pO1xyXG5cclxuICAgICQodGhpcy5lbGVtcy5zZWxlY3RvcikubW91c2Vkb3duKGZ1bmN0aW9uKGUpIHtcclxuICBcdFx0c2VsZi5kYXRhLmRyYWcuY2xpY2tlZFggPSBlLnBhZ2VYO1xyXG4gIFx0XHRzZWxmLmRhdGEuZHJhZy5jbGlja2VkWSA9IGUucGFnZVk7XHJcbiAgXHRcdC8vc2V0IHVwIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBwcmV2aW91cyBkcmFnXHJcbiAgXHRcdHNlbGYuZGF0YS5kcmFnLnByZXZpb3VzRHJhZ1ggPSBlLnBhZ2VYO1xyXG4gIFx0XHRzZWxmLmRhdGEuZHJhZy5wcmV2aW91c0RyYWdZID0gZS5wYWdlWTtcclxuICBcdFx0c2VsZi5kYXRhLmRyYWcuaXNEcmFnZ2luZyA9IHRydWU7XHJcbiAgXHR9KTtcclxuXHJcbiAgICAkKHRoaXMuZWxlbXMuc2VsZWN0b3IpLm1vdXNlbW92ZShmdW5jdGlvbihlKSB7XHJcbiAgXHRcdGlmKHNlbGYuZGF0YS5kcmFnLmlzRHJhZ2dpbmcgJiYgIXNlbGYucmV0SXNTcGlubmluZygpKSB7XHJcbiAgXHRcdFx0c2VsZi5kYXRhLmRyYWcuY3VycmVudERyYWdYID0gZS5wYWdlWDtcclxuICBcdFx0XHRzZWxmLmRhdGEuZHJhZy5jdXJyZW50RHJhZ1kgPSBlLnBhZ2VZO1xyXG5cclxuICBcdFx0XHQvL2ZpbmRpbmcgdGhlIG1vdmVtZW50IGZyb20gdGhlIGxhc3QgZHJhZ1xyXG4gIFx0XHRcdHNlbGYuZGF0YS5kcmFnLmNoYW5nZWRBbmdsZSA9IE1hdGguYXRhbjIoc2VsZi5kYXRhLmRyYWcuY3VycmVudERyYWdZIC0gJChTUElOX0JVVFRPTikucG9zaXRpb24oKS50b3AsIHNlbGYuZGF0YS5kcmFnLmN1cnJlbnREcmFnWCAtICQoU1BJTl9CVVRUT04pLnBvc2l0aW9uKCkubGVmdCk7XHJcbiAgXHRcdFx0c2VsZi5kYXRhLmRyYWcuY2hhbmdlZEFuZ2xlIC09IE1hdGguYXRhbjIoc2VsZi5kYXRhLmRyYWcucHJldmlvdXNEcmFnWSAtICQoU1BJTl9CVVRUT04pLnBvc2l0aW9uKCkudG9wLCBzZWxmLmRhdGEuZHJhZy5wcmV2aW91c0RyYWdYIC0gJChTUElOX0JVVFRPTikucG9zaXRpb24oKS5sZWZ0KTtcclxuXHJcbiAgXHRcdFx0Ly9yZWNhbGN1bGF0aW5nIHRoZSBhcmMgZnJvbSB3aGVuIHRoZSBtb3VzZSB3YXMgZmlyc3RlZCBjbGljayAtLSB1c2VkIHRvIGluZGljYXRlIGEgJ3NwaW4nXHJcbiAgXHRcdFx0c2VsZi5kYXRhLmRyYWcuYXJjQW5nbGUgPSBNYXRoLmF0YW4yKHNlbGYuZGF0YS5kcmFnLmN1cnJlbnREcmFnWSAtICQoU1BJTl9CVVRUT04pLnBvc2l0aW9uKCkudG9wLCBzZWxmLmRhdGEuZHJhZy5jdXJyZW50RHJhZ1ggLSAkKFNQSU5fQlVUVE9OKS5wb3NpdGlvbigpLmxlZnQpO1xyXG4gIFx0XHRcdHNlbGYuZGF0YS5kcmFnLmFyY0FuZ2xlIC09IE1hdGguYXRhbjIoc2VsZi5kYXRhLmRyYWcuY2xpY2tlZFkgLSAkKFNQSU5fQlVUVE9OKS5wb3NpdGlvbigpLnRvcCwgc2VsZi5kYXRhLmRyYWcuY2xpY2tlZFggLSAkKFNQSU5fQlVUVE9OKS5wb3NpdGlvbigpLmxlZnQpO1xyXG5cclxuXHJcbiAgXHRcdFx0Ly9hZGQgd2hhdGV2ZXIgdGhlIGFuZ2xlIGhhcyBjaGFuZ2VkIGJ5IGZyb20gdGhlIGxhc3QgbW92ZW1lbnQgb2YgdGhlIG1vdXNlXHJcbiAgXHRcdFx0c2VsZi5hZGRUb1N0YXJ0QW5nbGUoc2VsZi5kYXRhLmRyYWcuY2hhbmdlZEFuZ2xlKTtcclxuICBcdFx0XHRzZWxmLmRyYXcodHJ1ZSk7XHJcblxyXG4gIFx0XHRcdC8vdXBkYXRlIHRoZSBwcmV2aW91cyB3aXRoIHRoZSBjdXJyZW50IGNvb3JkaW5hdGUgb2YgdGhlIG1vdXNlXHJcbiAgXHRcdFx0c2VsZi5kYXRhLmRyYWcucHJldmlvdXNEcmFnWSA9IHNlbGYuZGF0YS5kcmFnLmN1cnJlbnREcmFnWTtcclxuICBcdFx0XHRzZWxmLmRhdGEuZHJhZy5wcmV2aW91c0RyYWdYID0gc2VsZi5kYXRhLmRyYWcuY3VycmVudERyYWdYO1xyXG4gIFx0XHR9XHJcbiAgXHR9KTtcclxuXHJcbiAgXHQkKHRoaXMuZWxlbXMuc2VsZWN0b3IpLm1vdXNldXAoZnVuY3Rpb24oZSkge1xyXG4gIFx0XHRpZigoc2VsZi5kYXRhLmRyYWcuYXJjQW5nbGUgPj0gMC41KSAmJiAhc2VsZi5yZXRJc1NwaW5uaW5nKCkgJiYgc2VsZi5kYXRhLmRyYWcuY2hhbmdlZEFuZ2xlID4gMCkgeyAvLyBhIG1pbmltdW0gZGVsdGEgb2YgcmFkID0gMC41IHJlcXVpcmVkIHRvIGRyYWcgYXJvdW5kIHRoZSB3aGVlbCB0byBjb3VudCBhcyBhICdzcGluJ1xyXG4gIFx0XHRcdHNlbGYuc3Bpbih0cnVlKTtcclxuICBcdFx0fSBlbHNlIGlmKChzZWxmLmRhdGEuZHJhZy5hcmNBbmdsZSA8IC00KSAmJiAhc2VsZi5yZXRJc1NwaW5uaW5nKCkgJiYgc2VsZi5kYXRhLmRyYWcuY2hhbmdlZEFuZ2xlID4gMCkge1xyXG4gIFx0XHRcdHNlbGYuc3Bpbih0cnVlKTtcclxuICBcdFx0fSBlbHNlIGlmKChzZWxmLmRhdGEuZHJhZy5hcmNBbmdsZSA8PSAtMC41KSAmJiAhc2VsZi5yZXRJc1NwaW5uaW5nKCkgJiYgc2VsZi5kYXRhLmRyYWcuY2hhbmdlZEFuZ2xlIDwgMCkge1xyXG4gIFx0XHRcdHNlbGYuc3BpbihmYWxzZSk7XHJcbiAgXHRcdH0gZWxzZSBpZigoc2VsZi5kYXRhLmRyYWcuYXJjQW5nbGUgPiA0KSAmJiAhc2VsZi5yZXRJc1NwaW5uaW5nKCkgJiYgc2VsZi5kYXRhLmRyYWcuY2hhbmdlZEFuZ2xlIDwgMCkge1xyXG4gIFx0XHRcdHNlbGYuc3BpbihmYWxzZSk7XHJcbiAgXHRcdH1cclxuICBcdFx0c2VsZi5kYXRhLmRyYWcuaXNEcmFnZ2luZyA9IGZhbHNlO1xyXG4gIFx0fSk7XHJcblxyXG4gIFx0JCh0aGlzLmVsZW1zLnNlbGVjdG9yKS5tb3VzZW91dChmdW5jdGlvbihlKSB7XHJcbiAgXHRcdHNlbGYuZGF0YS5kcmFnLmlzRHJhZ2dpbmcgPSBmYWxzZTtcclxuICBcdH0pO1xyXG5cclxuICB9O1xyXG5cclxuICBXaGVlbC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5kYXRhLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5kYXRhLndpZHRoLCB0aGlzLmRhdGEuaGVpZ2h0KTtcclxuICAgIHRoaXMuZGF0YS5yZXN0YXVyYW50cy5mb3JFYWNoKGZ1bmN0aW9uKHJlc3RhdXJhbnQsIGkpIHtcclxuICAgICAgLyogUmVuZGVyIFNlZ21lbnQgKi9cclxuICAgICAgc2VsZi5kYXRhLmFuZ2xlID0gc2VsZi5kYXRhLnN0YXJ0QW5nbGUgKyBpICogc2VsZi5kYXRhLmFyYztcclxuICAgICAgc2VsZi5kYXRhLmN0eC5maWxsU3R5bGUgPSBjb2xvdXJzLmJnQ29sb3VyW2ldO1xyXG5cclxuICAgICAgc2VsZi5kYXRhLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgc2VsZi5kYXRhLmN0eC5hcmMoc2VsZi5kYXRhLndpZHRoIC8gMiwgc2VsZi5kYXRhLmhlaWdodCAvIDIsIHNlbGYuZGF0YS5vdXRzaWRlUmFkaXVzLCBzZWxmLmRhdGEuYW5nbGUsIHNlbGYuZGF0YS5hbmdsZSArIHNlbGYuZGF0YS5hcmMsIGZhbHNlKTtcclxuICAgICAgc2VsZi5kYXRhLmN0eC5hcmMoc2VsZi5kYXRhLndpZHRoIC8gMiwgc2VsZi5kYXRhLmhlaWdodCAvIDIsIHNlbGYuZGF0YS5pbnNpZGVSYWRpdXMsIHNlbGYuZGF0YS5hbmdsZSArIHNlbGYuZGF0YS5hcmMsIHNlbGYuZGF0YS5hbmdsZSwgdHJ1ZSk7XHJcbiAgICAgIHNlbGYuZGF0YS5jdHguZmlsbCgpO1xyXG5cclxuICAgICAgc2VsZi5kYXRhLmN0eC5zYXZlKCk7XHJcblxyXG4gICAgICAvKiBSZW5kZXIgVGV4dCAqL1xyXG4gICAgICBzZWxmLmRhdGEuY3R4LmZpbGxTdHlsZSA9IGNvbG91cnMuZm9udENvbG91cltpXTtcclxuICAgICAgc2VsZi5kYXRhLmN0eC50cmFuc2xhdGUoc2VsZi5kYXRhLndpZHRoIC8gMiArIE1hdGguY29zKHNlbGYuZGF0YS5hbmdsZSArIHNlbGYuZGF0YS5hcmMgLzIpICogc2VsZi5kYXRhLnRleHRSYWRpdXMsXHJcbiAgICAgICAgICBzZWxmLmRhdGEuaGVpZ2h0IC8gMiArIE1hdGguc2luKHNlbGYuZGF0YS5hbmdsZSArIHNlbGYuZGF0YS5hcmMgLyAyKSAqIHNlbGYuZGF0YS50ZXh0UmFkaXVzKTtcclxuICAgICAgc2VsZi5kYXRhLmN0eC5yb3RhdGUoc2VsZi5kYXRhLmFuZ2xlICsgc2VsZi5kYXRhLmFyYyAvIDIgKyBNYXRoLlBJIC8gMik7XHJcbiAgICAgIHNlbGYucHJpbnROYW1lKHJlc3RhdXJhbnQubmFtZSwgLXNlbGYuZGF0YS5jdHgubWVhc3VyZVRleHQocmVzdGF1cmFudC5uYW1lKS53aWR0aCAvIDIsIDAsIDE0LCAoKDIgKiBNYXRoLlBJICogc2VsZi5kYXRhLnRleHRSYWRpdXMpIC8gc2VsZi5kYXRhLnJlc3RhdXJhbnRzLmxlbmd0aCkgLSAxMCk7XHJcbiAgICAgIHNlbGYuZGF0YS5jdHgucmVzdG9yZSgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmRyYXdBcnJvdygpO1xyXG4gIH07XHJcblxyXG4gIFdoZWVsLnByb3RvdHlwZS5kcmF3QXJyb3cgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuZGF0YS5jdHguZmlsbFN0eWxlID0gXCIjMzMzXCI7XHJcbiAgICB0aGlzLmRhdGEuY3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0dGhpcy5kYXRhLmN0eC5tb3ZlVG8odGhpcy5kYXRhLndpZHRoIC8gMiAgLSA0LCB0aGlzLmRhdGEuaGVpZ2h0IC8gMiAgLSAodGhpcy5kYXRhLm91dHNpZGVSYWRpdXMgKyAyNSkpO1xyXG5cdFx0dGhpcy5kYXRhLmN0eC5saW5lVG8odGhpcy5kYXRhLndpZHRoIC8gMiArIDQsIHRoaXMuZGF0YS5oZWlnaHQgLyAyICAtICh0aGlzLmRhdGEub3V0c2lkZVJhZGl1cyArIDI1KSk7XHJcblx0XHR0aGlzLmRhdGEuY3R4LmxpbmVUbyh0aGlzLmRhdGEud2lkdGggLyAyICsgNCwgdGhpcy5kYXRhLmhlaWdodCAvIDIgIC0gKHRoaXMuZGF0YS5vdXRzaWRlUmFkaXVzICsgMTUpKTtcclxuXHRcdHRoaXMuZGF0YS5jdHgubGluZVRvKHRoaXMuZGF0YS53aWR0aCAvIDIgKyA5LCB0aGlzLmRhdGEuaGVpZ2h0IC8gMiAgLSAodGhpcy5kYXRhLm91dHNpZGVSYWRpdXMgKyAxNSkpO1xyXG5cdFx0dGhpcy5kYXRhLmN0eC5saW5lVG8odGhpcy5kYXRhLndpZHRoIC8gMiArIDAsIHRoaXMuZGF0YS5oZWlnaHQgLyAyICAtICh0aGlzLmRhdGEub3V0c2lkZVJhZGl1cyAtIDApKTtcclxuXHRcdHRoaXMuZGF0YS5jdHgubGluZVRvKHRoaXMuZGF0YS53aWR0aCAvIDIgLSA5LCB0aGlzLmRhdGEuaGVpZ2h0IC8gMiAgLSAodGhpcy5kYXRhLm91dHNpZGVSYWRpdXMgKyAxNSkpO1xyXG5cdFx0dGhpcy5kYXRhLmN0eC5saW5lVG8odGhpcy5kYXRhLndpZHRoIC8gMiAtIDQsIHRoaXMuZGF0YS5oZWlnaHQgLyAyICAtICh0aGlzLmRhdGEub3V0c2lkZVJhZGl1cyArIDE1KSk7XHJcblx0XHR0aGlzLmRhdGEuY3R4LmxpbmVUbyh0aGlzLmRhdGEud2lkdGggLyAyIC0gNCwgdGhpcy5kYXRhLmhlaWdodCAvIDIgLSAodGhpcy5kYXRhLm91dHNpZGVSYWRpdXMgKyAyNSkpO1xyXG5cdFx0dGhpcy5kYXRhLmN0eC5maWxsKCk7XHJcbiAgfTtcclxuXHJcbiAgV2hlZWwucHJvdG90eXBlLnNwaW4gPSBmdW5jdGlvbihpc0ZvcndhcmQpIHtcclxuICAgIHRoaXMuZGF0YS5zcGluQW5nbGVTdGFydCA9IE1hdGgucmFuZG9tKCkgKiAxMCArIDEwO1xyXG4gICAgdGhpcy5kYXRhLnNwaW5UaW1lID0gMDtcclxuICAgIHRoaXMuZGF0YS5zcGluVGltZVRvdGFsID0gTWF0aC5yYW5kb20oKSAqIDMgKyA0ICogdGhpcy5kYXRhLnNwaW5WZWxvY2l0eTtcclxuXHJcbiAgICBpZighdGhpcy5kYXRhLmlzU3Bpbm5pbmcgJiYgaXNGb3J3YXJkKSB7XHJcbiAgICAgIHRoaXMuZGF0YS5pc1NwaW5uaW5nID0gdHJ1ZTtcclxuICAgICAgdGhpcy5yb3RhdGUodHJ1ZSk7XHJcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmRhdGEuaXNTcGlubmluZyAmJiAhaXNGb3J3YXJkKSB7XHJcbiAgICAgIHRoaXMuZGF0YS5pc1NwaW5uaW5nID0gdHJ1ZTtcclxuICAgICAgdGhpcy5yb3RhdGUoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIFdoZWVsLnByb3RvdHlwZS5yZXRJc1NwaW5uaW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhLmlzU3Bpbm5pbmc7XHJcbiAgfTtcclxuXHJcbiAgV2hlZWwucHJvdG90eXBlLmFkZFRvU3RhcnRBbmdsZSA9IGZ1bmN0aW9uKGFuZ2xlKSB7XHJcbiAgICB0aGlzLmRhdGEuc3RhcnRBbmdsZSArPSBhbmdsZTtcclxuICB9O1xyXG5cclxuICBXaGVlbC5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24oaXNGb3J3YXJkKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLmRhdGEuc3BpblRpbWUgKz0gMzA7XHJcbiAgICBpZih0aGlzLmRhdGEuc3BpblRpbWUgPj0gdGhpcy5kYXRhLnNwaW5UaW1lVG90YWwpIHtcclxuICAgICAgdGhpcy5zdG9wUm90YXRlKCk7XHJcbiAgICAgIHRoaXMuZGF0YS5pc1NwaW5uaW5nID0gZmFsc2U7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBzcGluQW5nbGUgPSB0aGlzLmRhdGEuc3BpbkFuZ2xlU3RhcnQgLSB0aGlzLmVhc2VPdXQodGhpcy5kYXRhLnNwaW5UaW1lLCAwLCB0aGlzLmRhdGEuc3BpbkFuZ2xlU3RhcnQsIHRoaXMuZGF0YS5zcGluVGltZVRvdGFsKTtcclxuICAgIGlmKGlzRm9yd2FyZCkge1xyXG4gICAgICB0aGlzLmRhdGEuc3RhcnRBbmdsZSArPSAoc3BpbkFuZ2xlICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmRhdGEuc3RhcnRBbmdsZSAtPSAoc3BpbkFuZ2xlICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmRyYXcoKTtcclxuICAgIHRoaXMuZGF0YS5zcGluVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNlbGYucm90YXRlKGlzRm9yd2FyZCk7XHJcbiAgICB9LCAzMCk7XHJcbiAgfTtcclxuXHJcbiAgV2hlZWwucHJvdG90eXBlLnN0b3BSb3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgIGNsZWFyVGltZW91dCh0aGlzLmRhdGEuc3BpblRpbWVvdXQpO1xyXG4gICAgdmFyIGRlZ3JlZXMgPSB0aGlzLmRhdGEuc3RhcnRBbmdsZSAqIDE4MCAvIE1hdGguUEkgKyA5MCxcclxuICAgICAgYXJjZCA9IHRoaXMuZGF0YS5hcmMgKiAxODAgLyBNYXRoLlBJLFxyXG4gICAgICBpbmRleCA9IE1hdGguZmxvb3IoKDM2MCAtIGRlZ3JlZXMgJSAzNjApIC8gYXJjZCk7XHJcbiAgICB0aGlzLmRhdGEuY3R4LnNhdmUoKTtcclxuXHJcbiAgICBpZihkZWdyZWVzIDwgMCkge1xyXG4gICAgICBkZWdyZWVzID0gTWF0aC5hYnMoZGVncmVlcyk7XHJcbiAgICAgIGluZGV4ID0gTWF0aC5mbG9vcigoZGVncmVlcyAlIDM2MCkgLyBhcmNkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiBEaXNwbGF5IFJlc3VsdCAqL1xyXG4gICAgV09MLmFwcC5saWdodGJveC5SZXN1bHQgPSBuZXcgUmVzdWx0TGlnaHRib3godGhpcy5kYXRhLnJlc3RhdXJhbnRzW2luZGV4XSk7XHJcblxyXG4gICAgdGhpcy5kYXRhLmN0eC5yZXN0b3JlKCk7XHJcbiAgfTtcclxuXHJcbiAgV2hlZWwucHJvdG90eXBlLnByaW50TmFtZSA9IGZ1bmN0aW9uKHRleHQsIHgsIHksIGxpbmVIZWlnaHQsIGZpdFdpZHRoKSB7XHJcbiAgICB2YXIgc3RyLCBzcGxpdERhc2gsIGhlYWRUZXh0LCB0YWlsVGV4dCwgaWR4O1xyXG4gICAgZml0V2lkdGggPSBmaXRXaWR0aCB8fCAwO1xyXG5cclxuICAgIGlmKGZpdFdpZHRoIDw9IDApIHtcclxuICAgICAgdGhpcy5kYXRhLmN0eC5maWxsVGV4dCh0ZXh0LCB4LCB5KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGZvcihpZHggPSAxOyBpZHggPD0gdGV4dC5sZW5ndGg7IGlkeCsrKSB7XHJcbiAgICAgIHN0ciA9IHRleHQuc3Vic3RyKDAsIGlkeCk7XHJcblxyXG4gICAgICBpZih0aGlzLmRhdGEuY3R4Lm1lYXN1cmVUZXh0KHN0cikud2lkdGggPiBmaXRXaWR0aCkge1xyXG4gICAgICAgIHNwbGl0RGFzaCA9ICh0ZXh0LmNoYXJBdChpZHggLSAyKSAhPSBcIiBcIikgPyBcIi1cIiA6IFwiXCI7XHJcbiAgICAgICAgaGVhZFRleHQgPSB0ZXh0LnN1YnN0cigwLCBpZHggLSAxKSArIHNwbGl0RGFzaDtcclxuICAgICAgICB0YWlsVGV4dCA9IHRleHQuc3Vic3RyKGlkeCAtIDEpO1xyXG4gICAgICAgIHRoaXMuZGF0YS5jdHguZmlsbFRleHQoaGVhZFRleHQsIC10aGlzLmRhdGEuY3R4Lm1lYXN1cmVUZXh0KGhlYWRUZXh0KS53aWR0aCAvIDIsIHkgLSBsaW5lSGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnByaW50TmFtZSh0YWlsVGV4dCwgLXRoaXMuZGF0YS5jdHgubWVhc3VyZVRleHQodGFpbFRleHQpLndpZHRoIC8gMiwgeSArIGxpbmVIZWlnaHQsIGxpbmVIZWlnaHQsIGZpdFdpZHRoIC0gMTApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZGF0YS5jdHguZmlsbFRleHQodGV4dCwgeCwgKHkgPyB5IC0gbGluZUhlaWdodCA6IHkpKTtcclxuICB9O1xyXG5cclxuICBXaGVlbC5wcm90b3R5cGUuZWFzZU91dCA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcclxuICAgIHZhciB0cyA9ICh0IC89IGQpICogdDtcclxuICAgIHZhciB0YyA9IHRzICogdDtcclxuXHJcbiAgICByZXR1cm4gYiArIGMgKiAodGMgKyAtMyAqIHRzICsgMyAqIHQpO1xyXG4gIH07XHJcblxyXG4gIFdoZWVsLnByb3RvdHlwZS5zZXRSZXN0YXVyYW50cyA9IGZ1bmN0aW9uKHJlc3RhdXJhbnRzKSB7XHJcbiAgICB0aGlzLmRhdGEucmVzdGF1cmFudHMgPSByZXN0YXVyYW50cztcclxuICAgIHRoaXMuZGF0YS5hcmMgPSBNYXRoLlBJIC8gKHRoaXMuZGF0YS5yZXN0YXVyYW50cy5sZW5ndGggLyAyKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gV2hlZWw7XHJcbn0oKSk7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCQpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxufSgpKTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKSB7XHJcblxyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgdmFyIFV0aWxpdGllcyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvdXRpbGl0aWVzJyk7XHJcbiAgdmFyIFdoZWVsID0gcmVxdWlyZSgnLi4vbW9kdWxlcy93aGVlbC5qcycpO1xyXG4gIHZhciBTZXR0aW5ncyA9IHJlcXVpcmUoJy4uL2VsZW1lbnRzL3NldHRpbmdzLmpzJyk7XHJcbiAgdmFyIExvY2FsaXNhdGlvbkxpZ2h0Ym94ID0gcmVxdWlyZSgnLi4vbGlnaHRib3hlcy9sb2NhbGlzYXRpb25MaWdodGJveC5qcycpO1xyXG4gIHZhciBQbGFjZXMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL3BsYWNlcy5qcycpO1xyXG5cclxuICBXT0wuYXBwLnV0aWxpdGllcyA9IG5ldyBVdGlsaXRpZXMoKTtcclxuICBXT0wuYXBwLndoZWVsID0gbmV3IFdoZWVsKCd3aGVlbCcpO1xyXG4gIFdPTC5hcHAuc2V0dGluZ3MgPSBuZXcgU2V0dGluZ3MoKTtcclxuXHJcbiAgdmFyIHNob3dMb2NhbGlzYXRpb25PcHRpb25zID0gdHlwZW9mIFdPTC5hcHAuc2V0dGluZ3MuVVJMcGFyYW1zLmxhdCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIFdPTC5hcHAuc2V0dGluZ3MuVVJMcGFyYW1zLmxvbmcgPT09ICd1bmRlZmluZWQnO1xyXG5cclxuICBpZihzaG93TG9jYWxpc2F0aW9uT3B0aW9ucykge1xyXG4gICAgV09MLmFwcC5saWdodGJveC5Mb2NhbGlzYXRpb24gPSBuZXcgTG9jYWxpc2F0aW9uTGlnaHRib3goKTtcclxuICB9IGVsc2Uge1xyXG4gICAgV09MLmFwcC5wbGFjZXMgPSBuZXcgUGxhY2VzKCk7XHJcbiAgfVxyXG5cclxuICAkKCcjbmV3LWxvY2F0aW9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcclxuICAgIGlmKHR5cGVvZiBXT0wuYXBwLmxpZ2h0Ym94LkxvY2FsaXNhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgIVdPTC5hcHAubGlnaHRib3guTG9jYWxpc2F0aW9uLmlzQ3VycmVudGx5T3Blbikge1xyXG4gICAgICBmb3IodmFyIGtleSBpbiBXT0wuYXBwLmxpZ2h0Ym94KSB7XHJcbiAgICAgICAgV09MLmFwcC5saWdodGJveFtrZXldLmNsb3NlV2luZG93KCk7XHJcbiAgICAgIH1cclxuICAgICAgV09MLmFwcC5saWdodGJveC5Mb2NhbGlzYXRpb24gPSBuZXcgTG9jYWxpc2F0aW9uTGlnaHRib3goKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbn0oKSk7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGFwcDogeyBsaWdodGJveDoge30gfSxcclxuICBtb2R1bGVzOiB7fSxcclxuICBnbG9iYWw6IHt9LFxyXG4gIHBhZ2U6IHt9LFxyXG4gIHV0aWxzOiB7fSxcclxuICBkYXRhOiB7fVxyXG59O1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBpZD1cXFwibG9jYWxpc2F0aW9uLWVycm9yXFxcIiBjbGFzcz1cXFwiYWxlcnQgYWxlcnQtZGFuZ2VyIGxvY2FsaXNhdGlvblxcXCIgcm9sZT1cXFwiYWxlcnRcXFwiPjxwPk9vcHMhIE5vIHBsYWNlcyBmb3VuZC4gPGJ1dHRvbiBpZD1cXFwibG9jYWxpc2F0aW9uLWNvbnRpbnVlLWJ1dHRvblxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXIgYnRuLXNtXFxcIj4gQ29udGludWUgYW55d2F5PC9idXR0b24+PC9wPjwvZGl2PlwiO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgaWQ9XFxcImdlb2xvY2F0aW9uXFxcIiBjbGFzcz1cXFwicGFuZWwgcGFuZWwtZGVmYXVsdCBsb2NhbGlzYXRpb24gc2VhcmNoLWxvY2FsaXNhdGlvblxcXCI+PGRpdiBjbGFzcz1cXFwicGFuZWwtYm9keVxcXCI+PHA+SGFuZyBvbiBhIG1vbWVudCwgd2UgYXJlIGp1c3QgZ2V0dGluZyB5b3VyIGxvY2F0aW9uPHNwYW4gY2xhc3M9XFxcIm9uZVxcXCI+Ljwvc3Bhbj48c3BhbiBjbGFzcz1cXFwidHdvXFxcIj4uPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJ0aHJlZVxcXCI+Ljwvc3Bhbj48L3A+PC9kaXY+PC9kaXY+XCI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBpZD1cXFwibG9jYWxpc2F0aW9uXFxcIiBjbGFzcz1cXFwicGFuZWwgcGFuZWwtZGVmYXVsdCBzZWxlY3QtbG9jYWxpc2F0aW9uXFxcIj48ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIj48cD5QbGVhc2Ugc2VsZWN0IGFuIG9wdGlvbjwvcD4gPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGlkPVxcXCJsb2NhdGlvbi1vcHRpb24tY3VycmVudFxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCI+VXNlIG15IGxvY2F0aW9uPC9idXR0b24+IDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBpZD1cXFwibG9jYXRpb24tb3B0aW9uLWZpbmRcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWluZm9cXFwiPkZpbmQgYSBsb2NhdGlvbjwvYnV0dG9uPjwvZGl2PjwvZGl2PlwiO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgaWQ9XFxcIm1hcFxcXCIgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtbWFwXFxcIj48ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIj48ZGl2IGlkPVxcXCJtYXAtaGVhZGVyXFxcIj4gPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGlkPVxcXCJtYXAtc2VhcmNoXFxcIiBjbGFzcz1cXFwic2VhcmNoIGNvbnRyb2xzXFxcIiBuYW1lPVxcXCJzZWFyY2hcXFwiIHBsYWNlaG9sZGVyPVxcXCJFbnRlciBwb3N0Y29kZSBvciBwbGFjZSBuYW1lXFxcIi8+IDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwic2VsZWN0LWxvY2F0aW9uIGJ0biBidG4tcHJpbWFyeSBidG4tbGdcXFwiPlNlbGVjdCBMb2NhdGlvbjwvYnV0dG9uPiA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJsYXRcXFwiIGlkPVxcXCJsYXRCb3hcXFwiIGRpc2FibGVkLz4gPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwibG5nXFxcIiBpZD1cXFwibG5nQm94XFxcIiBkaXNhYmxlZC8+PC9kaXY+PGRpdiBpZD1cXFwibWFwLWNhbnZhc1xcXCI+PC9kaXY+PGRpdiBjbGFzcz1cXFwiY2VudGVyLW1hcmtlclxcXCI+PC9kaXY+PC9kaXY+PC9kaXY+XCI7XG4iLCJ2YXIgSG9nYW4gPSByZXF1aXJlKCdob2dhbi5qcycpO1xubW9kdWxlLmV4cG9ydHMgPSBuZXcgSG9nYW4uVGVtcGxhdGUoe2NvZGU6IGZ1bmN0aW9uIChjLHAsaSkgeyB2YXIgdD10aGlzO3QuYihpPWl8fFwiXCIpO3QuYihcIjxkaXYgaWQ9XFxcInJlc3VsdFxcXCIgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgcmVzdWx0XFxcIj5cXHJcIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgIDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiPlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCI+PHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+PC9idXR0b24+XFxyXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgIDxoMj5cIik7dC5iKHQudih0LmYoXCJ0aXRsZVwiLGMscCwwKSkpO3QuYihcIjwvaDI+XFxyXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgIDxwIGNsYXNzPVxcXCJ2aWNpbml0eVxcXCI+XCIpO3QuYih0LnYodC5mKFwidmljaW5pdHlcIixjLHAsMCkpKTt0LmIoXCI8L3A+XFxyXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgIDxkaXYgY2xhc3M9XFxcInJhdGluZ1xcXCI+XFxyXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgICAgPGRpdiBjbGFzcz1cXFwicmF0aW5nLWZvcmVncm91bmRcXFwiIHN0eWxlPVxcXCJ3aWR0aDowJTtcXFwiPlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXN0YXJcXFwiPjwvaT48aSBjbGFzcz1cXFwiZmEgZmEtc3RhclxcXCI+PC9pPjxpIGNsYXNzPVxcXCJmYSBmYS1zdGFyXFxcIj48L2k+PGkgY2xhc3M9XFxcImZhIGZhLXN0YXJcXFwiPjwvaT48aSBjbGFzcz1cXFwiZmEgZmEtc3RhclxcXCI+PC9pPlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICAgIDwvZGl2PlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICAgIDxkaXYgY2xhc3M9XFxcInJhdGluZy1iYWNrZ3JvdW5kXFxcIj5cXHJcIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1zdGFyXFxcIj48L2k+PGkgY2xhc3M9XFxcImZhIGZhLXN0YXJcXFwiPjwvaT48aSBjbGFzcz1cXFwiZmEgZmEtc3RhclxcXCI+PC9pPjxpIGNsYXNzPVxcXCJmYSBmYS1zdGFyXFxcIj48L2k+PGkgY2xhc3M9XFxcImZhIGZhLXN0YXJcXFwiPjwvaT5cXHJcIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgICA8L2Rpdj5cXHJcIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgPC9kaXY+XFxyXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgIDxwPlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICAgIDxhIGNsYXNzPVxcXCJtYXBcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBocmVmPVxcXCJcIik7dC5iKHQudih0LmYoXCJocmVmXCIsYyxwLDApKSk7dC5iKFwiXFxcIj5WaWV3IG9uIG1hcDwvYT5cXHJcIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgPC9wPlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgPC9kaXY+XFxyXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiPC9kaXY+XFxyXCIpO3QuYihcIlxcblwiKTtyZXR1cm4gdC5mbCgpOyB9LHBhcnRpYWxzOiB7fSwgc3ViczogeyAgfX0sIFwiPGRpdiBpZD1cXFwicmVzdWx0XFxcIiBjbGFzcz1cXFwicGFuZWwgcGFuZWwtZGVmYXVsdCByZXN1bHRcXFwiPlxcclxcbiAgPGRpdiBjbGFzcz1cXFwicGFuZWwtYm9keVxcXCI+XFxyXFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiIGFyaWEtbGFiZWw9XFxcIkNsb3NlXFxcIj48c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+JnRpbWVzOzwvc3Bhbj48L2J1dHRvbj5cXHJcXG4gICAgPGgyPnt7dGl0bGV9fTwvaDI+XFxyXFxuICAgIDxwIGNsYXNzPVxcXCJ2aWNpbml0eVxcXCI+e3t2aWNpbml0eX19PC9wPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJyYXRpbmdcXFwiPlxcclxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInJhdGluZy1mb3JlZ3JvdW5kXFxcIiBzdHlsZT1cXFwid2lkdGg6MCU7XFxcIj5cXHJcXG4gICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1zdGFyXFxcIj48L2k+PGkgY2xhc3M9XFxcImZhIGZhLXN0YXJcXFwiPjwvaT48aSBjbGFzcz1cXFwiZmEgZmEtc3RhclxcXCI+PC9pPjxpIGNsYXNzPVxcXCJmYSBmYS1zdGFyXFxcIj48L2k+PGkgY2xhc3M9XFxcImZhIGZhLXN0YXJcXFwiPjwvaT5cXHJcXG4gICAgICA8L2Rpdj5cXHJcXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJyYXRpbmctYmFja2dyb3VuZFxcXCI+XFxyXFxuICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtc3RhclxcXCI+PC9pPjxpIGNsYXNzPVxcXCJmYSBmYS1zdGFyXFxcIj48L2k+PGkgY2xhc3M9XFxcImZhIGZhLXN0YXJcXFwiPjwvaT48aSBjbGFzcz1cXFwiZmEgZmEtc3RhclxcXCI+PC9pPjxpIGNsYXNzPVxcXCJmYSBmYS1zdGFyXFxcIj48L2k+XFxyXFxuICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8cD5cXHJcXG4gICAgICA8YSBjbGFzcz1cXFwibWFwXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgaHJlZj1cXFwie3tocmVmfX1cXFwiPlZpZXcgb24gbWFwPC9hPlxcclxcbiAgICA8L3A+XFxyXFxuICA8L2Rpdj5cXHJcXG48L2Rpdj5cXHJcXG5cIiwgSG9nYW4pOyIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGlkPVxcXCJzZXR0aW5nc1xcXCI+PGEgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeSBidG4tbGcgYmx1ciBzZXR0aW5nc1xcXCIgcm9sZT1cXFwiYnV0dG9uXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jb2dcXFwiPjwvc3Bhbj48L2E+PGRpdiBjbGFzcz1cXFwiY2xpY2ttZSBibHVyXFxcIj48cD5DbGljayBtZSE8L3A+PC9kaXY+PGRpdiBjbGFzcz1cXFwicGFuZWwgcGFuZWwtZGVmYXVsdCBzZXR0aW5ncyBibHVyXFxcIj48ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIj48ZGl2IGNsYXNzPVxcXCJyYWRpb1xcXCI+IDxsYWJlbD48aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiIG5hbWU9XFxcInBsYWNlVHlwZVxcXCIgY2xhc3M9XFxcInBsYWNldHlwZSByZXN0YXVyYW50XFxcIiB2YWx1ZT1cXFwicmVzdGF1cmFudFxcXCI+IFJlc3RhdXJhbnQ8L2xhYmVsPjwvZGl2PjxkaXYgY2xhc3M9XFxcInJhZGlvXFxcIj4gPGxhYmVsPjxpbnB1dCB0eXBlPVxcXCJyYWRpb1xcXCIgbmFtZT1cXFwicGxhY2VUeXBlXFxcIiBjbGFzcz1cXFwicGxhY2V0eXBlIGZvb2RcXFwiIHZhbHVlPVxcXCJmb29kXFxcIj4gRm9vZDwvbGFiZWw+PC9kaXY+PGRpdiBjbGFzcz1cXFwicmFkaW9cXFwiPiA8bGFiZWw+PGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiBuYW1lPVxcXCJwbGFjZVR5cGVcXFwiIGNsYXNzPVxcXCJwbGFjZXR5cGUgYmFyXFxcIiB2YWx1ZT1cXFwiYmFyXFxcIj4gQmFyPC9sYWJlbD48L2Rpdj48ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+PHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWFkZG9uXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1wdXNocGluXFxcIj48L3NwYW4+IExhdGl0dWRlPC9zcGFuPiA8aW5wdXQgdHlwZT1cXFwibnVtYmVyXFxcIiBjbGFzcz1cXFwibGF0aXR1ZGUgZm9ybS1jb250cm9sXFxcIiBwbGFjZWhvbGRlcj1cXFwiTGF0aXR1ZGVcXFwiPjwvZGl2PjxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwXFxcIj48c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLXB1c2hwaW5cXFwiPjwvc3Bhbj4gTG9uZ2l0dWRlPC9zcGFuPiA8aW5wdXQgdHlwZT1cXFwibnVtYmVyXFxcIiBjbGFzcz1cXFwibG9uZ2l0dWRlIGZvcm0tY29udHJvbFxcXCIgcGxhY2Vob2xkZXI9XFxcIkxvbmdpdHVkZVxcXCI+PC9kaXY+PGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPjxzcGFuIGNsYXNzPVxcXCJpbnB1dC1ncm91cC1hZGRvblxcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tcmVjb3JkXFxcIj48L3NwYW4+IFJhZGl1cyAobSk8L3NwYW4+IDxpbnB1dCB0eXBlPVxcXCJudW1iZXJcXFwiIG1pbj1cXFwiMVxcXCIgY2xhc3M9XFxcInJhZGl1cyBmb3JtLWNvbnRyb2xcXFwiIHBsYWNlaG9sZGVyPVxcXCJSYWRpdXNcXFwiPjwvZGl2PjxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwXFxcIj48c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLXN0YXRzXFxcIj48L3NwYW4+ICMgb2YgUGxhY2VzPC9zcGFuPiA8aW5wdXQgdHlwZT1cXFwibnVtYmVyXFxcIiBtaW49XFxcIjFcXFwiIG1heD1cXFwiMTJcXFwiIGNsYXNzPVxcXCJtYXhwbGFjZXMgZm9ybS1jb250cm9sXFxcIiBwbGFjZWhvbGRlcj1cXFwiIyBvZiBQbGFjZXNcXFwiPjwvZGl2PjxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwXFxcIj48c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLXNoYXJlXFxcIj48L3NwYW4+IFNoYXJlIGxpbms8L3NwYW4+IDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwic2hhcmVsaW5rIGZvcm0tY29udHJvbFxcXCIgdmFsdWU9XFxcIlxcXCI+PC9kaXY+PGRpdiBjbGFzcz1cXFwiY2hlY2tib3hcXFwiPiA8bGFiZWw+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBjbGFzcz1cXFwiZHluYW1pYy1zZWFyY2hcXFwiPiBEeW5hbWljIFNlYXJjaDwvbGFiZWw+PC9kaXY+IDxidXR0b24gdHlwZT1cXFwic3VibWl0XFxcIiBpZD1cXFwic2V0dGluZ3Mtc2VhcmNoXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1wcmltYXJ5XFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1zZWFyY2hcXFwiPjwvc3Bhbj4gU2VhcmNoPC9idXR0b24+PC9kaXY+PC9kaXY+PC9kaXY+XCI7XG4iXX0=\n"],"sourceRoot":"/source/"}