{"version":3,"sources":["all.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","bgColour","fontColour",2,"name","lat","lng","vicinity",3,"window","WOL","./pages/global.js","./pages/main.js","./wheel-of-lunch.js",4,"$","ErrorLocationLightbox","this","elems","id","ID","root","init","HTML_OUTPUT","CONTINUE_BUTTON","prototype","addWindow","prepend","addEvents","closeWindow","remove","self","on","jQuery","../../templates/localisation-error.html",5,"GeolocationLightbox","Geolocation","getLocation","app","geolocation","../../templates/localisation-loading.html","../modules/geolocation.js",6,"LocalisationLightbox","MapLightbox","CURRENT_LOCATION_BUTTON","FIND_LOCATION_BUTTON","showCurrentLocationLightbox","showFindLocationLightbox","lightbox","Map","../../templates/localisation.html","./geolocationLightbox.js","./mapLightbox.js",7,8,"ResultLightbox",9,10,"callback","position","options","enableHighAccuracy","maximumAge","Places","navigator","getCurrentPosition","success","error","pos","coords","places","latitude","longitude","err","NoLocationLightbox","closeParentWindow","parentRoot","../lightboxes/errorLocationLightbox.js","./places.js",11,"arguments","apply","dup",12,"userOptions","radius","radiusIncrement","placeType","maxPlaces","initialPlaces","restaurants","getPlaces","API_URL","getJSON","buildQueryParams","data","expandSearchRadius","parseInt","wheel","setRestaurants","draw",13,"Wheel","selector","canvas","document","getElementById","$canvas","getContext","defaultRestaurants","width","height","startAngle","spinTimeout","isSpinning","spinArcStart","spinTime","spinTimeTotal","spinVelocity","ctx","rouletteWheel","outsideRadius","textRadius","insideRadius","angle","text","drag","clickedX","clickedY","currentDragX","currentDragY","previousDragX","previousDragY","isDragging","changedAngle","arcAngle","colours","SPIN_BUTTON","clearRect","strokeStyle","font","arc","Math","PI","retIsSpinning","spin","mousedown","pageX","pageY","mousemove","atan2","top","left","addToStartAngle","mouseup","mouseout","forEach","restaurant","fillStyle","beginPath","fill","save","translate","cos","sin","rotate","printName","measureText","restore","drawArrow","moveTo","lineTo","isForward","spinAngleStart","random","stopRotate","spinAngle","easeOut","setTimeout","clearTimeout","degrees","arcd","index","floor","abs","split","join","x","y","lineHeight","fitWidth","str","splitDash","headText","tailText","idx","fillText","substr","charAt","b","c","d","ts","tc","../data/colours.js","../data/restaurants.js","../lightboxes/resultLightbox.js","./confetti.js",14,15,"localisation","../lightboxes/localisationLightbox.js","../modules/confetti.js","../modules/map.js","../modules/wheel.js",16,"modules","global","page","utils",17,18,19],"mappings":"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","file":"all.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = (function() {\r\n  'use strict';\r\n  return {\r\n      bgColour: [\r\n    \t\"#B8D430\",\r\n    \t\"#3AB745\",\r\n    \t\"#029990\",\r\n    \t\"#3501CB\",\r\n    \t\"#2E2C75\",\r\n    \t\"#673A7E\",\r\n    \t\"#CC0071\",\r\n    \t\"#F80120\",\r\n    \t\"#F35B20\",\r\n    \t\"#FB9A00\",\r\n    \t\"#FFCC00\",\r\n    \t\"#FEF200\"\r\n    ],\r\n    fontColour: [\r\n    \t\"#333\",\r\n    \t\"#333\",\r\n    \t\"#333\",\r\n    \t\"#FFF\",\r\n    \t\"#FFF\",\r\n    \t\"#FFF\",\r\n    \t\"#FFF\",\r\n    \t\"#333\",\r\n    \t\"#333\",\r\n    \t\"#333\",\r\n    \t\"#333\",\r\n    \t\"#333\"\r\n    ]\r\n  };\r\n}());\r\n\n},{}],2:[function(require,module,exports){\nmodule.exports = (function() {\r\n  'use strict';\r\n  return [\r\n      {name:\"Wendy's\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"McDonalds\", lat:\"\", lng:\"\", vicinity:\"\"},\r\n      {name:\"Chick-fil-a\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"Five Guys\", lat:\"\", lng:\"\", vicinity:\"\"},\r\n      {name:\"Gold Star\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"La Mexicana\", lat:\"\", lng:\"\", vicinity:\"\"},\r\n      {name:\"Chipotle\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"Tazza Mia\", lat:\"\", lng:\"\", vicinity:\"\"},\r\n      {name:\"Panera\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"Just Crepes\", lat:\"\", lng:\"\", vicinity:\"\"},\r\n      {name:\"Arby's\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"Indian\", lat:\"\", lng:\"\", vicinity:\"\"}\r\n    ];\r\n\r\n}());\r\n\n},{}],3:[function(require,module,exports){\n(function() {\r\n\r\n  'use strict';\r\n\r\n  var WOL = window.WOL = require('./wheel-of-lunch.js');\r\n\r\n  require('./pages/global.js');\r\n  require('./pages/main.js');\r\n\r\n})();\r\n\n},{\"./pages/global.js\":14,\"./pages/main.js\":15,\"./wheel-of-lunch.js\":16}],4:[function(require,module,exports){\nmodule.exports = (function($) {\r\n\r\n  'use strict';\r\n\r\n  /* Constants */\r\n  var HTML_OUTPUT = require('../../templates/localisation-error.html');\r\n  var ID = '#localisation-error';\r\n\r\n  /* Buttons */\r\n  var CONTINUE_BUTTON = '#localisation-continue-button';\r\n\r\n  function ErrorLocationLightbox() {\r\n\r\n    this.elems = {\r\n      id: ID,\r\n      root: null\r\n    };\r\n\r\n    this.init();\r\n  }\r\n\r\n  ErrorLocationLightbox.prototype.init = function() {\r\n    this.addWindow();\r\n  };\r\n\r\n  ErrorLocationLightbox.prototype.addWindow = function() {\r\n    $('body').prepend(HTML_OUTPUT);\r\n    this.elems.root = $(ID);\r\n    this.addEvents();\r\n  };\r\n\r\n  ErrorLocationLightbox.prototype.closeWindow = function() {\r\n    this.elems.root.remove();\r\n  };\r\n\r\n  ErrorLocationLightbox.prototype.addEvents = function() {\r\n    var self = this;\r\n\r\n    $(CONTINUE_BUTTON).on('click', function() {\r\n      self.closeWindow();\r\n    });\r\n  };\r\n\r\n  return ErrorLocationLightbox;\r\n}(jQuery));\r\n\n},{\"../../templates/localisation-error.html\":17}],5:[function(require,module,exports){\nmodule.exports = (function($) {\r\n\r\n  'use strict';\r\n\r\n  var Geolocation = require('../modules/geolocation.js');\r\n\r\n  /* Constants */\r\n  var HTML_OUTPUT = require('../../templates/localisation-loading.html');\r\n  var ID = '#geolocation';\r\n\r\n  function GeolocationLightbox() {\r\n\r\n    this.elems = {\r\n      id: ID,\r\n      root: null\r\n    };\r\n\r\n    this.init();\r\n  }\r\n\r\n  GeolocationLightbox.prototype.init = function() {\r\n    this.addWindow();\r\n  };\r\n\r\n  GeolocationLightbox.prototype.addWindow = function() {\r\n    $('body').prepend(HTML_OUTPUT);\r\n    this.elems.root = $(ID);\r\n    this.getLocation();\r\n  };\r\n\r\n  GeolocationLightbox.prototype.closeWindow = function() {\r\n    this.elems.root.remove();\r\n  };\r\n\r\n  GeolocationLightbox.prototype.getLocation = function() {\r\n    var self = this;\r\n    WOL.app.geolocation = new Geolocation(function() {\r\n      self.closeWindow();\r\n    });\r\n  };\r\n\r\n  return GeolocationLightbox;\r\n}(jQuery));\r\n\n},{\"../../templates/localisation-loading.html\":18,\"../modules/geolocation.js\":10}],6:[function(require,module,exports){\nmodule.exports = (function($) {\r\n\r\n  'use strict';\r\n\r\n  var GeolocationLightbox = require('./geolocationLightbox.js');\r\n  var MapLightbox = require('./mapLightbox.js');\r\n\r\n  /* Constants */\r\n  var HTML_OUTPUT = require('../../templates/localisation.html');\r\n  var ID = '#localisation';\r\n\r\n  /* Buttons */\r\n  var CURRENT_LOCATION_BUTTON = '#location-option-current';\r\n  var FIND_LOCATION_BUTTON = '#location-option-find';\r\n\r\n  function LocalisationLightbox() {\r\n\r\n    this.elems = {\r\n      id: ID,\r\n      root: null\r\n    };\r\n\r\n    this.init();\r\n  }\r\n\r\n  LocalisationLightbox.prototype.init = function() {\r\n    this.addWindow();\r\n  };\r\n\r\n  LocalisationLightbox.prototype.addWindow = function() {\r\n    $('body').prepend(HTML_OUTPUT);\r\n    this.elems.root = $(ID);\r\n    this.addEvents();\r\n  };\r\n\r\n  LocalisationLightbox.prototype.closeWindow = function() {\r\n    this.elems.root.remove();\r\n  };\r\n\r\n  LocalisationLightbox.prototype.addEvents = function() {\r\n    var self = this;\r\n\r\n    $(CURRENT_LOCATION_BUTTON).on('click', function() {\r\n      self.showCurrentLocationLightbox();\r\n      self.closeWindow();\r\n    });\r\n\r\n    $(FIND_LOCATION_BUTTON).on('click', function() {\r\n      self.showFindLocationLightbox();\r\n      self.closeWindow();\r\n    });\r\n  };\r\n\r\n  LocalisationLightbox.prototype.showCurrentLocationLightbox = function() {\r\n    WOL.app.lightbox.Geolocation = new GeolocationLightbox();\r\n  };\r\n\r\n  LocalisationLightbox.prototype.showFindLocationLightbox = function() {\r\n    WOL.app.lightbox.Map = new MapLightbox();\r\n  };\r\n\r\n  return LocalisationLightbox;\r\n}(jQuery));\r\n\n},{\"../../templates/localisation.html\":19,\"./geolocationLightbox.js\":5,\"./mapLightbox.js\":7}],7:[function(require,module,exports){\nmodule.exports = (function() {\r\n\r\n  'use strict';\r\n\r\n  function MapLightbox() {\r\n\r\n  }\r\n\r\n  return MapLightbox;\r\n}());\r\n\n},{}],8:[function(require,module,exports){\nmodule.exports = (function() {\r\n\r\n  'use strict';\r\n\r\n  function ResultLightbox() {\r\n\r\n  }\r\n\r\n  return ResultLightbox;\r\n}());\r\n\n},{}],9:[function(require,module,exports){\nmodule.exports = (function() {\r\n\r\n  'use strict';\r\n\r\n}());\r\n\n},{}],10:[function(require,module,exports){\nmodule.exports = (function() {\r\n\r\n  'use strict';\r\n\r\n  var Places = require('./places.js');\r\n  var ErrorLocationLightbox = require('../lightboxes/errorLocationLightbox.js');\r\n\r\n  function Geolocation(callback) {\r\n\r\n    this.callback = callback;\r\n    this.position = {};\r\n\r\n    this.options = {\r\n      enableHighAccuracy: true,\r\n      maximumAge: 0\r\n    };\r\n\r\n    this.getLocation();\r\n  }\r\n\r\n  Geolocation.prototype.getLocation = function() {\r\n    navigator.geolocation.getCurrentPosition(this.success, this.error, this.options);\r\n  };\r\n\r\n  Geolocation.prototype.success = function(pos) {\r\n    WOL.app.geolocation.position = pos.coords;\r\n    WOL.app.places = new Places(\r\n      {\r\n        latitude: WOL.app.geolocation.position.latitude,\r\n        longitude: WOL.app.geolocation.position.longitude\r\n      }\r\n    );\r\n    WOL.app.geolocation.callback();\r\n  };\r\n\r\n  Geolocation.prototype.error = function(err) {\r\n    WOL.app.geolocation.callback();\r\n    WOL.app.lightbox.NoLocationLightbox = new ErrorLocationLightbox();\r\n  };\r\n\r\n  Geolocation.prototype.closeParentWindow = function() {\r\n    this.elems.parentRoot.remove();\r\n  };\r\n\r\n  return Geolocation;\r\n}());\r\n\n},{\"../lightboxes/errorLocationLightbox.js\":4,\"./places.js\":12}],11:[function(require,module,exports){\narguments[4][9][0].apply(exports,arguments)\n},{\"dup\":9}],12:[function(require,module,exports){\nmodule.exports = (function() {\r\n\r\n  'use strict';\r\n\r\n  var API_URL = 'http://www.jack-palmer.co.uk/wheel/api/getPlaces/';\r\n\r\n  function Places(userOptions) {\r\n\r\n    this.options = {\r\n        radius: 300,\r\n        radiusIncrement: 50,\r\n        placeType: 'restaurant',\r\n        maxPlaces: 12,\r\n        initialPlaces: 12\r\n    };\r\n\r\n    this.userOptions = userOptions;\r\n\r\n    this.restaurants = {};\r\n\r\n    this.init();\r\n    this.getPlaces(this.options);\r\n  }\r\n\r\n  Places.prototype.init = function() {\r\n    if(typeof this.userOptions.latitude !== 'undefined') { this.options.latitude = this.userOptions.latitude; }\r\n    if(typeof this.userOptions.longitude !== 'undefined') { this.options.longitude = this.userOptions.longitude; }\r\n    if(typeof this.userOptions.radius !== 'undefined') { this.options.radius = this.userOptions.radius; }\r\n    if(typeof this.userOptions.placeType !== 'undefined') { this.options.placeType = this.userOptions.placeType; }\r\n    if(typeof this.userOptions.maxPlaces !== 'undefined') { this.options.maxPlaces = this.userOptions.maxPlaces; }\r\n  };\r\n\r\n  Places.prototype.getPlaces = function(options) {\r\n    var self = this;\r\n\r\n    $.getJSON( API_URL + this.buildQueryParams(),\r\n    function( data ) {\r\n\r\n      if(data.length === 0) {\r\n        self.error();\r\n        return;\r\n      }\r\n\r\n      if(data.length < options.initialPlaces && options.radius < 3000) {\r\n        self.expandSearchRadius(data, options);\r\n      } else {\r\n        self.success(data);\r\n      }\r\n\r\n    });\r\n  };\r\n\r\n  Places.prototype.buildQueryParams = function() {\r\n    return '?' +\r\n           'latitude=' + this.options.latitude + '&' +\r\n           'longitude=' + this.options.longitude + '&' +\r\n           'radius=' + this.options.radius + '&' +\r\n           'type=' + this.options.placeType + '&' +\r\n           'maxplaces=' + this.options.maxPlaces + '&' +\r\n           'minPrice=' + '0' + '&' +\r\n           'maxPrice=' + '4';\r\n  };\r\n\r\n  Places.prototype.expandSearchRadius = function(data, options) {\r\n    if(options.radius > 300) {\r\n      options.radiusIncrement = 100;\r\n    }\r\n    if(options.radius > 1000) {\r\n      options.radiusIncrement = 500;\r\n    }\r\n\r\n    self.getPlaces(\r\n      {\r\n        latitude: options.latitude,\r\n        longitude: options.longitude,\r\n        radius: parseInt(options.radius) + options.radiusIncrement,\r\n        placeType: options.placeType,\r\n        maxPlaces: options.maxPlaces\r\n      }\r\n    );\r\n  };\r\n\r\n  Places.prototype.success = function(data) {\r\n    this.restaurants = data;\r\n    this.options.initialPlaces = 0;\r\n    WOL.app.wheel.setRestaurants(data);\r\n    WOL.app.wheel.draw();\r\n  };\r\n\r\n  Places.prototype.error = function(data) {\r\n    WOL.app.lightbox.NoLocationLightbox = new ErrorLocationLightbox();\r\n  };\r\n\r\n  return Places;\r\n}());\r\n\n},{}],13:[function(require,module,exports){\nmodule.exports = (function() {\r\n\r\n  'use strict';\r\n\r\n  var colours = require('../data/colours.js');\r\n  var defaultRestaurants = require('../data/restaurants.js');\r\n  var ResultLightbox = require('../lightboxes/resultLightbox.js');\r\n  var Confetti = require('./confetti.js');\r\n\r\n  /* Buttons */\r\n  var SPIN_BUTTON = '#spin';\r\n\r\n  function Wheel(selector) {\r\n\r\n    var canvas = document.getElementById(selector);\r\n    var $canvas = $('#' + selector);\r\n\r\n    this.elems = {\r\n      selector: '#' + selector,\r\n      canvas: canvas,\r\n      $canvas: $canvas\r\n    };\r\n\r\n    if(!canvas.getContext) {\r\n      return;\r\n    }\r\n\r\n    this.data = {\r\n      canvas: canvas,\r\n      restaurants: defaultRestaurants,\r\n      width: 600,\r\n      height: 600,\r\n      startAngle: 0,\r\n      spinTimeout: null,\r\n      isSpinning: false,\r\n      spinArcStart: 10,\r\n      spinTime: 0,\r\n      spinTimeTotal: 0,\r\n      spinVelocity: 2000,\r\n      ctx: null,\r\n      rouletteWheel: {},\r\n      outsideRadius: 250,\r\n      textRadius: 194,\r\n      insideRadius: 150,\r\n      angle: null,\r\n      text: null,\r\n      drag: {\r\n        clickedX: null,\r\n        clickedY: null,\r\n        currentDragX: null,\r\n        currentDragY: null,\r\n        previousDragX: null,\r\n        previousDragY: null,\r\n        isDragging: null,\r\n        changedAngle: null,\r\n        arcAngle: null\r\n      }\r\n    };\r\n\r\n    this.init();\r\n  }\r\n\r\n  Wheel.prototype.init = function() {\r\n    this.data.ctx = this.data.canvas.getContext(\"2d\");\r\n    this.data.ctx.clearRect(0, 0, this.data.width, this.data.height);\r\n    this.data.ctx.strokeStyle = \"black\";\r\n    this.data.ctx.font = \"12px Helvetica, Arial\";\r\n    this.data.arc = Math.PI / (this.data.restaurants.length / 2);\r\n\r\n    this.draw();\r\n    this.addEvents();\r\n  };\r\n\r\n  Wheel.prototype.addEvents = function() {\r\n    var self = this;\r\n\r\n    $(SPIN_BUTTON).on('click', function() {\r\n      if(!self.retIsSpinning()) {\r\n  \t\t\tself.spin(true);\r\n  \t\t}\r\n    });\r\n\r\n    $(this.elems.selector).mousedown(function(e) {\r\n  \t\tself.data.drag.clickedX = e.pageX;\r\n  \t\tself.data.drag.clickedY = e.pageY;\r\n  \t\t//set up the first instance of previous drag\r\n  \t\tself.data.drag.previousDragX = e.pageX;\r\n  \t\tself.data.drag.previousDragY = e.pageY;\r\n  \t\tself.data.drag.isDragging = true;\r\n  \t});\r\n\r\n    $(this.elems.selector).mousemove(function(e) {\r\n  \t\tif(self.data.drag.isDragging && !self.retIsSpinning()) {\r\n  \t\t\tself.data.drag.currentDragX = e.pageX;\r\n  \t\t\tself.data.drag.currentDragY = e.pageY;\r\n\r\n  \t\t\t//finding the movement from the last drag\r\n  \t\t\tself.data.drag.changedAngle = Math.atan2(self.data.drag.currentDragY - $(SPIN_BUTTON).position().top, self.data.drag.currentDragX - $(SPIN_BUTTON).position().left);\r\n  \t\t\tself.data.drag.changedAngle -= Math.atan2(self.data.drag.previousDragY - $(SPIN_BUTTON).position().top, self.data.drag.previousDragX - $(SPIN_BUTTON).position().left);\r\n\r\n  \t\t\t//recalculating the arc from when the mouse was firsted click -- used to indicate a 'spin'\r\n  \t\t\tself.data.drag.arcAngle = Math.atan2(self.data.drag.currentDragY - $(SPIN_BUTTON).position().top, self.data.drag.currentDragX - $(SPIN_BUTTON).position().left);\r\n  \t\t\tself.data.drag.arcAngle -= Math.atan2(self.data.drag.clickedY - $(SPIN_BUTTON).position().top, self.data.drag.clickedX - $(SPIN_BUTTON).position().left);\r\n\r\n\r\n  \t\t\t//add whatever the angle has changed by from the last movement of the mouse\r\n  \t\t\tself.addToStartAngle(self.data.drag.changedAngle);\r\n  \t\t\tself.draw(true);\r\n\r\n  \t\t\t//update the previous with the current coordinate of the mouse\r\n  \t\t\tself.data.drag.previousDragY = self.data.drag.currentDragY;\r\n  \t\t\tself.data.drag.previousDragX = self.data.drag.currentDragX;\r\n  \t\t}\r\n  \t});\r\n\r\n  \t$(this.elems.selector).mouseup(function(e) {\r\n  \t\tif((self.data.drag.arcAngle >= 0.5) && !self.retIsSpinning() && self.data.drag.changedAngle > 0) { // a minimum delta of rad = 0.5 required to drag around the wheel to count as a 'spin'\r\n  \t\t\tself.spin(true);\r\n  \t\t} else if((self.data.drag.arcAngle < -4) && !self.retIsSpinning() && self.data.drag.changedAngle > 0) {\r\n  \t\t\tself.spin(true);\r\n  \t\t} else if((self.data.drag.arcAngle <= -0.5) && !self.retIsSpinning() && self.data.drag.changedAngle < 0) {\r\n  \t\t\tself.spin(false);\r\n  \t\t} else if((self.data.drag.arcAngle > 4) && !self.retIsSpinning() && self.data.drag.changedAngle < 0) {\r\n  \t\t\tself.spin(false);\r\n  \t\t}\r\n  \t\tself.data.drag.isDragging = false;\r\n  \t});\r\n\r\n  \t$(this.elems.selector).mouseout(function(e) {\r\n  \t\tself.data.drag.isDragging = false;\r\n  \t});\r\n\r\n  };\r\n\r\n  Wheel.prototype.draw = function() {\r\n    var self = this;\r\n    this.data.ctx.clearRect(0, 0, this.data.width, this.data.height);\r\n    this.data.restaurants.forEach(function(restaurant, i) {\r\n      /* Render Segment */\r\n      self.data.angle = self.data.startAngle + i * self.data.arc;\r\n      self.data.ctx.fillStyle = colours.bgColour[i];\r\n\r\n      self.data.ctx.beginPath();\r\n      self.data.ctx.arc(self.data.width / 2, self.data.height / 2, self.data.outsideRadius, self.data.angle, self.data.angle + self.data.arc, false);\r\n      self.data.ctx.arc(self.data.width / 2, self.data.height / 2, self.data.insideRadius, self.data.angle + self.data.arc, self.data.angle, true);\r\n      self.data.ctx.fill();\r\n\r\n      self.data.ctx.save();\r\n\r\n      /* Render Text */\r\n      self.data.ctx.fillStyle = colours.fontColour[i];\r\n      self.data.ctx.translate(self.data.width / 2 + Math.cos(self.data.angle + self.data.arc /2) * self.data.textRadius,\r\n          self.data.height / 2 + Math.sin(self.data.angle + self.data.arc / 2) * self.data.textRadius);\r\n      self.data.ctx.rotate(self.data.angle + self.data.arc / 2 + Math.PI / 2);\r\n      self.printName(restaurant.name, -self.data.ctx.measureText(restaurant.name).width / 2, 0, 14, ((2 * Math.PI * self.data.textRadius) / self.data.restaurants.length) - 10);\r\n      self.data.ctx.restore();\r\n    });\r\n    this.drawArrow();\r\n  };\r\n\r\n  Wheel.prototype.drawArrow = function() {\r\n    this.data.ctx.fillStyle = \"#333\";\r\n    this.data.ctx.beginPath();\r\n\t\tthis.data.ctx.moveTo(this.data.width / 2  - 4, this.data.height / 2  - (this.data.outsideRadius + 25));\r\n\t\tthis.data.ctx.lineTo(this.data.width / 2 + 4, this.data.height / 2  - (this.data.outsideRadius + 25));\r\n\t\tthis.data.ctx.lineTo(this.data.width / 2 + 4, this.data.height / 2  - (this.data.outsideRadius + 15));\r\n\t\tthis.data.ctx.lineTo(this.data.width / 2 + 9, this.data.height / 2  - (this.data.outsideRadius + 15));\r\n\t\tthis.data.ctx.lineTo(this.data.width / 2 + 0, this.data.height / 2  - (this.data.outsideRadius - 0));\r\n\t\tthis.data.ctx.lineTo(this.data.width / 2 - 9, this.data.height / 2  - (this.data.outsideRadius + 15));\r\n\t\tthis.data.ctx.lineTo(this.data.width / 2 - 4, this.data.height / 2  - (this.data.outsideRadius + 15));\r\n\t\tthis.data.ctx.lineTo(this.data.width / 2 - 4, this.data.height / 2 - (this.data.outsideRadius + 25));\r\n\t\tthis.data.ctx.fill();\r\n  };\r\n\r\n  Wheel.prototype.spin = function(isForward) {\r\n    this.data.spinAngleStart = Math.random() * 10 + 10;\r\n    this.data.spinTime = 0;\r\n    this.data.spinTimeTotal = Math.random() * 3 + 4 * this.data.spinVelocity;\r\n\r\n    if(!this.data.isSpinning && isForward) {\r\n      this.data.isSpinning = true;\r\n      this.rotate(true);\r\n    } else if (!this.data.isSpinning && !isForward) {\r\n      this.data.isSpinning = true;\r\n      this.rotate(false);\r\n    }\r\n  };\r\n\r\n  Wheel.prototype.retIsSpinning = function() {\r\n    return this.data.isSpinning;\r\n  };\r\n\r\n  Wheel.prototype.addToStartAngle = function(angle) {\r\n    this.data.startAngle += angle;\r\n  };\r\n\r\n  Wheel.prototype.rotate = function(isForward) {\r\n    var self = this;\r\n    this.data.spinTime += 30;\r\n    if(this.data.spinTime >= this.data.spinTimeTotal) {\r\n      this.stopRotate();\r\n      this.data.isSpinning = false;\r\n      return;\r\n    }\r\n    var spinAngle = this.data.spinAngleStart - this.easeOut(this.data.spinTime, 0, this.data.spinAngleStart, this.data.spinTimeTotal);\r\n    if(isForward) {\r\n      this.data.startAngle += (spinAngle * Math.PI / 180);\r\n    } else {\r\n      this.data.startAngle -= (spinAngle * Math.PI / 180);\r\n    }\r\n    this.draw();\r\n    this.data.spinTimeout = setTimeout(function() {\r\n      self.rotate(isForward);\r\n    }, 30);\r\n  };\r\n\r\n  Wheel.prototype.stopRotate = function() {\r\n    clearTimeout(this.data.spinTimeout);\r\n    var degrees = this.data.startAngle * 180 / Math.PI + 90,\r\n      arcd = this.data.arc * 180 / Math.PI,\r\n      index = Math.floor((360 - degrees % 360) / arcd);\r\n    this.data.ctx.save();\r\n\r\n    if(degrees < 0) {\r\n      degrees = Math.abs(degrees);\r\n      index = Math.floor((degrees % 360) / arcd);\r\n    }\r\n\r\n    var resultName = this.data.restaurants[index].name.split(' ').join('+'),\r\n      mapURL = \"http://maps.google.com/maps/dir/\",\r\n\t\t\toriginCoords = WOL.app.geolocation.position.latitude + \",\" + WOL.app.geolocation.position.longitude;\r\n\r\n    /* Display Result */\r\n    //WOL.app.lightboxes.result = new ResultLightbox();\r\n\r\n    this.data.ctx.restore();\r\n\r\n    //WOL.app.confetti = new Confetti();\r\n  };\r\n\r\n  Wheel.prototype.printName = function(text, x, y, lineHeight, fitWidth) {\r\n    var str, splitDash, headText, tailText, idx;\r\n    fitWidth = fitWidth || 0;\r\n\r\n    if(fitWidth <= 0) {\r\n      this.data.ctx.fillText(text, x, y);\r\n      return;\r\n    }\r\n\r\n    for(idx = 1; idx <= text.length; idx++) {\r\n      str = text.substr(0, idx);\r\n\r\n      if(this.data.ctx.measureText(str).width > fitWidth) {\r\n        splitDash = (text.charAt(idx - 2) != \" \") ? \"-\" : \"\";\r\n        headText = text.substr(0, idx - 1) + splitDash;\r\n        tailText = text.substr(idx - 1);\r\n        this.data.ctx.fillText(headText, -this.data.ctx.measureText(headText).width / 2, y - lineHeight);\r\n        this.printName(tailText, -this.data.ctx.measureText(tailText).width / 2, y + lineHeight, lineHeight, fitWidth - 10);\r\n        return;\r\n      }\r\n    }\r\n\r\n    this.data.ctx.fillText(text, x, (y ? y - lineHeight : y));\r\n  };\r\n\r\n  Wheel.prototype.easeOut = function(t, b, c, d) {\r\n    var ts = (t /= d) * t;\r\n    var tc = ts * t;\r\n\r\n    return b + c * (tc + -3 * ts + 3 * t);\r\n  };\r\n\r\n  Wheel.prototype.setRestaurants = function(restaurants) {\r\n    this.data.restaurants = restaurants;\r\n    this.data.arc = Math.PI / (this.data.restaurants.length / 2);\r\n  };\r\n\r\n  return Wheel;\r\n}());\r\n\n},{\"../data/colours.js\":1,\"../data/restaurants.js\":2,\"../lightboxes/resultLightbox.js\":8,\"./confetti.js\":9}],14:[function(require,module,exports){\nmodule.exports = (function($) {\r\n\r\n  'use strict';\r\n\r\n}());\r\n\n},{}],15:[function(require,module,exports){\nmodule.exports = (function() {\r\n\r\n  'use strict';\r\n\r\n  var Wheel = require('../modules/wheel.js');\r\n  var LocalisationLightbox = require('../lightboxes/localisationLightbox.js');\r\n  var Map = require('../modules/map.js');\r\n  var Geolocation = require('../modules/geolocation.js');\r\n  var Confetti = require('../modules/confetti.js');\r\n\r\n  WOL.app.wheel = new Wheel('wheel');\r\n  WOL.app.lightbox.localisation = new LocalisationLightbox();\r\n\r\n}());\r\n\n},{\"../lightboxes/localisationLightbox.js\":6,\"../modules/confetti.js\":9,\"../modules/geolocation.js\":10,\"../modules/map.js\":11,\"../modules/wheel.js\":13}],16:[function(require,module,exports){\nmodule.exports = {\r\n  app: { lightbox: {} },\r\n  modules: {},\r\n  global: {},\r\n  page: {},\r\n  utils: {},\r\n  data: {}\r\n};\r\n\n},{}],17:[function(require,module,exports){\nmodule.exports = \"<div id=\\\"localisation-error\\\" class=\\\"alert alert-danger localisation\\\" role=\\\"alert\\\"><p>Oops! We can't find your location. <button id=\\\"localisation-continue-button\\\" type=\\\"button\\\" class=\\\"btn btn-danger btn-sm\\\"> Continue anyway</button></p></div>\";\n\n},{}],18:[function(require,module,exports){\nmodule.exports = \"<div id=\\\"geolocation\\\" class=\\\"panel panel-default localisation search-localisation\\\"><div class=\\\"panel-body\\\"><p>Hang on a moment, we are just getting your location<span class=\\\"one\\\">.</span><span class=\\\"two\\\">.</span><span class=\\\"three\\\">.</span></p></div></div>\";\n\n},{}],19:[function(require,module,exports){\nmodule.exports = \"<div id=\\\"localisation\\\" class=\\\"panel panel-default select-localisation\\\"><div class=\\\"panel-body\\\"><p>Please select an option</p> <button type=\\\"button\\\" id=\\\"location-option-current\\\" class=\\\"btn btn-success\\\">Use my location</button> <button type=\\\"button\\\" id=\\\"location-option-find\\\" class=\\\"btn btn-info\\\">Find a location</button></div></div>\";\n\n},{}]},{},[3])\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzb3VyY2UvanMvZGF0YS9jb2xvdXJzLmpzIiwic291cmNlL2pzL2RhdGEvcmVzdGF1cmFudHMuanMiLCJzb3VyY2UvanMvaW5pdC5qcyIsInNvdXJjZS9qcy9saWdodGJveGVzL2Vycm9yTG9jYXRpb25MaWdodGJveC5qcyIsInNvdXJjZS9qcy9saWdodGJveGVzL2dlb2xvY2F0aW9uTGlnaHRib3guanMiLCJzb3VyY2UvanMvbGlnaHRib3hlcy9sb2NhbGlzYXRpb25MaWdodGJveC5qcyIsInNvdXJjZS9qcy9saWdodGJveGVzL21hcExpZ2h0Ym94LmpzIiwic291cmNlL2pzL2xpZ2h0Ym94ZXMvcmVzdWx0TGlnaHRib3guanMiLCJzb3VyY2UvanMvbW9kdWxlcy9jb25mZXR0aS5qcyIsInNvdXJjZS9qcy9tb2R1bGVzL2dlb2xvY2F0aW9uLmpzIiwic291cmNlL2pzL21vZHVsZXMvcGxhY2VzLmpzIiwic291cmNlL2pzL21vZHVsZXMvd2hlZWwuanMiLCJzb3VyY2UvanMvcGFnZXMvZ2xvYmFsLmpzIiwic291cmNlL2pzL3BhZ2VzL21haW4uanMiLCJzb3VyY2UvanMvd2hlZWwtb2YtbHVuY2guanMiLCJzb3VyY2UvdGVtcGxhdGVzL2xvY2FsaXNhdGlvbi1lcnJvci5odG1sIiwic291cmNlL3RlbXBsYXRlcy9sb2NhbGlzYXRpb24tbG9hZGluZy5odG1sIiwic291cmNlL3RlbXBsYXRlcy9sb2NhbGlzYXRpb24uaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDOUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdlJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICByZXR1cm4ge1xyXG4gICAgICBiZ0NvbG91cjogW1xyXG4gICAgXHRcIiNCOEQ0MzBcIixcclxuICAgIFx0XCIjM0FCNzQ1XCIsXHJcbiAgICBcdFwiIzAyOTk5MFwiLFxyXG4gICAgXHRcIiMzNTAxQ0JcIixcclxuICAgIFx0XCIjMkUyQzc1XCIsXHJcbiAgICBcdFwiIzY3M0E3RVwiLFxyXG4gICAgXHRcIiNDQzAwNzFcIixcclxuICAgIFx0XCIjRjgwMTIwXCIsXHJcbiAgICBcdFwiI0YzNUIyMFwiLFxyXG4gICAgXHRcIiNGQjlBMDBcIixcclxuICAgIFx0XCIjRkZDQzAwXCIsXHJcbiAgICBcdFwiI0ZFRjIwMFwiXHJcbiAgICBdLFxyXG4gICAgZm9udENvbG91cjogW1xyXG4gICAgXHRcIiMzMzNcIixcclxuICAgIFx0XCIjMzMzXCIsXHJcbiAgICBcdFwiIzMzM1wiLFxyXG4gICAgXHRcIiNGRkZcIixcclxuICAgIFx0XCIjRkZGXCIsXHJcbiAgICBcdFwiI0ZGRlwiLFxyXG4gICAgXHRcIiNGRkZcIixcclxuICAgIFx0XCIjMzMzXCIsXHJcbiAgICBcdFwiIzMzM1wiLFxyXG4gICAgXHRcIiMzMzNcIixcclxuICAgIFx0XCIjMzMzXCIsXHJcbiAgICBcdFwiIzMzM1wiXHJcbiAgICBdXHJcbiAgfTtcclxufSgpKTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIHJldHVybiBbXHJcbiAgICAgIHtuYW1lOlwiV2VuZHknc1wiLCBsYXQ6XCJcIiwgbG5nOlwiXCIsIHZpY2luaXR5OlwiXCJ9LCB7bmFtZTpcIk1jRG9uYWxkc1wiLCBsYXQ6XCJcIiwgbG5nOlwiXCIsIHZpY2luaXR5OlwiXCJ9LFxyXG4gICAgICB7bmFtZTpcIkNoaWNrLWZpbC1hXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sIHtuYW1lOlwiRml2ZSBHdXlzXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sXHJcbiAgICAgIHtuYW1lOlwiR29sZCBTdGFyXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sIHtuYW1lOlwiTGEgTWV4aWNhbmFcIiwgbGF0OlwiXCIsIGxuZzpcIlwiLCB2aWNpbml0eTpcIlwifSxcclxuICAgICAge25hbWU6XCJDaGlwb3RsZVwiLCBsYXQ6XCJcIiwgbG5nOlwiXCIsIHZpY2luaXR5OlwiXCJ9LCB7bmFtZTpcIlRhenphIE1pYVwiLCBsYXQ6XCJcIiwgbG5nOlwiXCIsIHZpY2luaXR5OlwiXCJ9LFxyXG4gICAgICB7bmFtZTpcIlBhbmVyYVwiLCBsYXQ6XCJcIiwgbG5nOlwiXCIsIHZpY2luaXR5OlwiXCJ9LCB7bmFtZTpcIkp1c3QgQ3JlcGVzXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sXHJcbiAgICAgIHtuYW1lOlwiQXJieSdzXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sIHtuYW1lOlwiSW5kaWFuXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn1cclxuICAgIF07XHJcblxyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcblxyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgdmFyIFdPTCA9IHdpbmRvdy5XT0wgPSByZXF1aXJlKCcuL3doZWVsLW9mLWx1bmNoLmpzJyk7XHJcblxyXG4gIHJlcXVpcmUoJy4vcGFnZXMvZ2xvYmFsLmpzJyk7XHJcbiAgcmVxdWlyZSgnLi9wYWdlcy9tYWluLmpzJyk7XHJcblxyXG59KSgpO1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigkKSB7XHJcblxyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgLyogQ29uc3RhbnRzICovXHJcbiAgdmFyIEhUTUxfT1VUUFVUID0gcmVxdWlyZSgnLi4vLi4vdGVtcGxhdGVzL2xvY2FsaXNhdGlvbi1lcnJvci5odG1sJyk7XHJcbiAgdmFyIElEID0gJyNsb2NhbGlzYXRpb24tZXJyb3InO1xyXG5cclxuICAvKiBCdXR0b25zICovXHJcbiAgdmFyIENPTlRJTlVFX0JVVFRPTiA9ICcjbG9jYWxpc2F0aW9uLWNvbnRpbnVlLWJ1dHRvbic7XHJcblxyXG4gIGZ1bmN0aW9uIEVycm9yTG9jYXRpb25MaWdodGJveCgpIHtcclxuXHJcbiAgICB0aGlzLmVsZW1zID0ge1xyXG4gICAgICBpZDogSUQsXHJcbiAgICAgIHJvb3Q6IG51bGxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBFcnJvckxvY2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuYWRkV2luZG93KCk7XHJcbiAgfTtcclxuXHJcbiAgRXJyb3JMb2NhdGlvbkxpZ2h0Ym94LnByb3RvdHlwZS5hZGRXaW5kb3cgPSBmdW5jdGlvbigpIHtcclxuICAgICQoJ2JvZHknKS5wcmVwZW5kKEhUTUxfT1VUUFVUKTtcclxuICAgIHRoaXMuZWxlbXMucm9vdCA9ICQoSUQpO1xyXG4gICAgdGhpcy5hZGRFdmVudHMoKTtcclxuICB9O1xyXG5cclxuICBFcnJvckxvY2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmNsb3NlV2luZG93ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmVsZW1zLnJvb3QucmVtb3ZlKCk7XHJcbiAgfTtcclxuXHJcbiAgRXJyb3JMb2NhdGlvbkxpZ2h0Ym94LnByb3RvdHlwZS5hZGRFdmVudHMgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAkKENPTlRJTlVFX0JVVFRPTikub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNlbGYuY2xvc2VXaW5kb3coKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBFcnJvckxvY2F0aW9uTGlnaHRib3g7XHJcbn0oalF1ZXJ5KSk7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCQpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICB2YXIgR2VvbG9jYXRpb24gPSByZXF1aXJlKCcuLi9tb2R1bGVzL2dlb2xvY2F0aW9uLmpzJyk7XHJcblxyXG4gIC8qIENvbnN0YW50cyAqL1xyXG4gIHZhciBIVE1MX09VVFBVVCA9IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9sb2NhbGlzYXRpb24tbG9hZGluZy5odG1sJyk7XHJcbiAgdmFyIElEID0gJyNnZW9sb2NhdGlvbic7XHJcblxyXG4gIGZ1bmN0aW9uIEdlb2xvY2F0aW9uTGlnaHRib3goKSB7XHJcblxyXG4gICAgdGhpcy5lbGVtcyA9IHtcclxuICAgICAgaWQ6IElELFxyXG4gICAgICByb290OiBudWxsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgR2VvbG9jYXRpb25MaWdodGJveC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5hZGRXaW5kb3coKTtcclxuICB9O1xyXG5cclxuICBHZW9sb2NhdGlvbkxpZ2h0Ym94LnByb3RvdHlwZS5hZGRXaW5kb3cgPSBmdW5jdGlvbigpIHtcclxuICAgICQoJ2JvZHknKS5wcmVwZW5kKEhUTUxfT1VUUFVUKTtcclxuICAgIHRoaXMuZWxlbXMucm9vdCA9ICQoSUQpO1xyXG4gICAgdGhpcy5nZXRMb2NhdGlvbigpO1xyXG4gIH07XHJcblxyXG4gIEdlb2xvY2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmNsb3NlV2luZG93ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmVsZW1zLnJvb3QucmVtb3ZlKCk7XHJcbiAgfTtcclxuXHJcbiAgR2VvbG9jYXRpb25MaWdodGJveC5wcm90b3R5cGUuZ2V0TG9jYXRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIFdPTC5hcHAuZ2VvbG9jYXRpb24gPSBuZXcgR2VvbG9jYXRpb24oZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNlbGYuY2xvc2VXaW5kb3coKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBHZW9sb2NhdGlvbkxpZ2h0Ym94O1xyXG59KGpRdWVyeSkpO1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigkKSB7XHJcblxyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgdmFyIEdlb2xvY2F0aW9uTGlnaHRib3ggPSByZXF1aXJlKCcuL2dlb2xvY2F0aW9uTGlnaHRib3guanMnKTtcclxuICB2YXIgTWFwTGlnaHRib3ggPSByZXF1aXJlKCcuL21hcExpZ2h0Ym94LmpzJyk7XHJcblxyXG4gIC8qIENvbnN0YW50cyAqL1xyXG4gIHZhciBIVE1MX09VVFBVVCA9IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9sb2NhbGlzYXRpb24uaHRtbCcpO1xyXG4gIHZhciBJRCA9ICcjbG9jYWxpc2F0aW9uJztcclxuXHJcbiAgLyogQnV0dG9ucyAqL1xyXG4gIHZhciBDVVJSRU5UX0xPQ0FUSU9OX0JVVFRPTiA9ICcjbG9jYXRpb24tb3B0aW9uLWN1cnJlbnQnO1xyXG4gIHZhciBGSU5EX0xPQ0FUSU9OX0JVVFRPTiA9ICcjbG9jYXRpb24tb3B0aW9uLWZpbmQnO1xyXG5cclxuICBmdW5jdGlvbiBMb2NhbGlzYXRpb25MaWdodGJveCgpIHtcclxuXHJcbiAgICB0aGlzLmVsZW1zID0ge1xyXG4gICAgICBpZDogSUQsXHJcbiAgICAgIHJvb3Q6IG51bGxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBMb2NhbGlzYXRpb25MaWdodGJveC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5hZGRXaW5kb3coKTtcclxuICB9O1xyXG5cclxuICBMb2NhbGlzYXRpb25MaWdodGJveC5wcm90b3R5cGUuYWRkV2luZG93ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAkKCdib2R5JykucHJlcGVuZChIVE1MX09VVFBVVCk7XHJcbiAgICB0aGlzLmVsZW1zLnJvb3QgPSAkKElEKTtcclxuICAgIHRoaXMuYWRkRXZlbnRzKCk7XHJcbiAgfTtcclxuXHJcbiAgTG9jYWxpc2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmNsb3NlV2luZG93ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmVsZW1zLnJvb3QucmVtb3ZlKCk7XHJcbiAgfTtcclxuXHJcbiAgTG9jYWxpc2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICQoQ1VSUkVOVF9MT0NBVElPTl9CVVRUT04pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBzZWxmLnNob3dDdXJyZW50TG9jYXRpb25MaWdodGJveCgpO1xyXG4gICAgICBzZWxmLmNsb3NlV2luZG93KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKEZJTkRfTE9DQVRJT05fQlVUVE9OKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgc2VsZi5zaG93RmluZExvY2F0aW9uTGlnaHRib3goKTtcclxuICAgICAgc2VsZi5jbG9zZVdpbmRvdygpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgTG9jYWxpc2F0aW9uTGlnaHRib3gucHJvdG90eXBlLnNob3dDdXJyZW50TG9jYXRpb25MaWdodGJveCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgV09MLmFwcC5saWdodGJveC5HZW9sb2NhdGlvbiA9IG5ldyBHZW9sb2NhdGlvbkxpZ2h0Ym94KCk7XHJcbiAgfTtcclxuXHJcbiAgTG9jYWxpc2F0aW9uTGlnaHRib3gucHJvdG90eXBlLnNob3dGaW5kTG9jYXRpb25MaWdodGJveCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgV09MLmFwcC5saWdodGJveC5NYXAgPSBuZXcgTWFwTGlnaHRib3goKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gTG9jYWxpc2F0aW9uTGlnaHRib3g7XHJcbn0oalF1ZXJ5KSk7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCkge1xyXG5cclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIGZ1bmN0aW9uIE1hcExpZ2h0Ym94KCkge1xyXG5cclxuICB9XHJcblxyXG4gIHJldHVybiBNYXBMaWdodGJveDtcclxufSgpKTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKSB7XHJcblxyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgZnVuY3Rpb24gUmVzdWx0TGlnaHRib3goKSB7XHJcblxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFJlc3VsdExpZ2h0Ym94O1xyXG59KCkpO1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxufSgpKTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKSB7XHJcblxyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgdmFyIFBsYWNlcyA9IHJlcXVpcmUoJy4vcGxhY2VzLmpzJyk7XHJcbiAgdmFyIEVycm9yTG9jYXRpb25MaWdodGJveCA9IHJlcXVpcmUoJy4uL2xpZ2h0Ym94ZXMvZXJyb3JMb2NhdGlvbkxpZ2h0Ym94LmpzJyk7XHJcblxyXG4gIGZ1bmN0aW9uIEdlb2xvY2F0aW9uKGNhbGxiYWNrKSB7XHJcblxyXG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IHt9O1xyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG4gICAgICBtYXhpbXVtQWdlOiAwXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZ2V0TG9jYXRpb24oKTtcclxuICB9XHJcblxyXG4gIEdlb2xvY2F0aW9uLnByb3RvdHlwZS5nZXRMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbih0aGlzLnN1Y2Nlc3MsIHRoaXMuZXJyb3IsIHRoaXMub3B0aW9ucyk7XHJcbiAgfTtcclxuXHJcbiAgR2VvbG9jYXRpb24ucHJvdG90eXBlLnN1Y2Nlc3MgPSBmdW5jdGlvbihwb3MpIHtcclxuICAgIFdPTC5hcHAuZ2VvbG9jYXRpb24ucG9zaXRpb24gPSBwb3MuY29vcmRzO1xyXG4gICAgV09MLmFwcC5wbGFjZXMgPSBuZXcgUGxhY2VzKFxyXG4gICAgICB7XHJcbiAgICAgICAgbGF0aXR1ZGU6IFdPTC5hcHAuZ2VvbG9jYXRpb24ucG9zaXRpb24ubGF0aXR1ZGUsXHJcbiAgICAgICAgbG9uZ2l0dWRlOiBXT0wuYXBwLmdlb2xvY2F0aW9uLnBvc2l0aW9uLmxvbmdpdHVkZVxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgV09MLmFwcC5nZW9sb2NhdGlvbi5jYWxsYmFjaygpO1xyXG4gIH07XHJcblxyXG4gIEdlb2xvY2F0aW9uLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uKGVycikge1xyXG4gICAgV09MLmFwcC5nZW9sb2NhdGlvbi5jYWxsYmFjaygpO1xyXG4gICAgV09MLmFwcC5saWdodGJveC5Ob0xvY2F0aW9uTGlnaHRib3ggPSBuZXcgRXJyb3JMb2NhdGlvbkxpZ2h0Ym94KCk7XHJcbiAgfTtcclxuXHJcbiAgR2VvbG9jYXRpb24ucHJvdG90eXBlLmNsb3NlUGFyZW50V2luZG93ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmVsZW1zLnBhcmVudFJvb3QucmVtb3ZlKCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIEdlb2xvY2F0aW9uO1xyXG59KCkpO1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICB2YXIgQVBJX1VSTCA9ICdodHRwOi8vd3d3LmphY2stcGFsbWVyLmNvLnVrL3doZWVsL2FwaS9nZXRQbGFjZXMvJztcclxuXHJcbiAgZnVuY3Rpb24gUGxhY2VzKHVzZXJPcHRpb25zKSB7XHJcblxyXG4gICAgdGhpcy5vcHRpb25zID0ge1xyXG4gICAgICAgIHJhZGl1czogMzAwLFxyXG4gICAgICAgIHJhZGl1c0luY3JlbWVudDogNTAsXHJcbiAgICAgICAgcGxhY2VUeXBlOiAncmVzdGF1cmFudCcsXHJcbiAgICAgICAgbWF4UGxhY2VzOiAxMixcclxuICAgICAgICBpbml0aWFsUGxhY2VzOiAxMlxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnVzZXJPcHRpb25zID0gdXNlck9wdGlvbnM7XHJcblxyXG4gICAgdGhpcy5yZXN0YXVyYW50cyA9IHt9O1xyXG5cclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgdGhpcy5nZXRQbGFjZXModGhpcy5vcHRpb25zKTtcclxuICB9XHJcblxyXG4gIFBsYWNlcy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYodHlwZW9mIHRoaXMudXNlck9wdGlvbnMubGF0aXR1ZGUgIT09ICd1bmRlZmluZWQnKSB7IHRoaXMub3B0aW9ucy5sYXRpdHVkZSA9IHRoaXMudXNlck9wdGlvbnMubGF0aXR1ZGU7IH1cclxuICAgIGlmKHR5cGVvZiB0aGlzLnVzZXJPcHRpb25zLmxvbmdpdHVkZSAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy5vcHRpb25zLmxvbmdpdHVkZSA9IHRoaXMudXNlck9wdGlvbnMubG9uZ2l0dWRlOyB9XHJcbiAgICBpZih0eXBlb2YgdGhpcy51c2VyT3B0aW9ucy5yYWRpdXMgIT09ICd1bmRlZmluZWQnKSB7IHRoaXMub3B0aW9ucy5yYWRpdXMgPSB0aGlzLnVzZXJPcHRpb25zLnJhZGl1czsgfVxyXG4gICAgaWYodHlwZW9mIHRoaXMudXNlck9wdGlvbnMucGxhY2VUeXBlICE9PSAndW5kZWZpbmVkJykgeyB0aGlzLm9wdGlvbnMucGxhY2VUeXBlID0gdGhpcy51c2VyT3B0aW9ucy5wbGFjZVR5cGU7IH1cclxuICAgIGlmKHR5cGVvZiB0aGlzLnVzZXJPcHRpb25zLm1heFBsYWNlcyAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy5vcHRpb25zLm1heFBsYWNlcyA9IHRoaXMudXNlck9wdGlvbnMubWF4UGxhY2VzOyB9XHJcbiAgfTtcclxuXHJcbiAgUGxhY2VzLnByb3RvdHlwZS5nZXRQbGFjZXMgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgJC5nZXRKU09OKCBBUElfVVJMICsgdGhpcy5idWlsZFF1ZXJ5UGFyYW1zKCksXHJcbiAgICBmdW5jdGlvbiggZGF0YSApIHtcclxuXHJcbiAgICAgIGlmKGRhdGEubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgc2VsZi5lcnJvcigpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYoZGF0YS5sZW5ndGggPCBvcHRpb25zLmluaXRpYWxQbGFjZXMgJiYgb3B0aW9ucy5yYWRpdXMgPCAzMDAwKSB7XHJcbiAgICAgICAgc2VsZi5leHBhbmRTZWFyY2hSYWRpdXMoZGF0YSwgb3B0aW9ucyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VsZi5zdWNjZXNzKGRhdGEpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgUGxhY2VzLnByb3RvdHlwZS5idWlsZFF1ZXJ5UGFyYW1zID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gJz8nICtcclxuICAgICAgICAgICAnbGF0aXR1ZGU9JyArIHRoaXMub3B0aW9ucy5sYXRpdHVkZSArICcmJyArXHJcbiAgICAgICAgICAgJ2xvbmdpdHVkZT0nICsgdGhpcy5vcHRpb25zLmxvbmdpdHVkZSArICcmJyArXHJcbiAgICAgICAgICAgJ3JhZGl1cz0nICsgdGhpcy5vcHRpb25zLnJhZGl1cyArICcmJyArXHJcbiAgICAgICAgICAgJ3R5cGU9JyArIHRoaXMub3B0aW9ucy5wbGFjZVR5cGUgKyAnJicgK1xyXG4gICAgICAgICAgICdtYXhwbGFjZXM9JyArIHRoaXMub3B0aW9ucy5tYXhQbGFjZXMgKyAnJicgK1xyXG4gICAgICAgICAgICdtaW5QcmljZT0nICsgJzAnICsgJyYnICtcclxuICAgICAgICAgICAnbWF4UHJpY2U9JyArICc0JztcclxuICB9O1xyXG5cclxuICBQbGFjZXMucHJvdG90eXBlLmV4cGFuZFNlYXJjaFJhZGl1cyA9IGZ1bmN0aW9uKGRhdGEsIG9wdGlvbnMpIHtcclxuICAgIGlmKG9wdGlvbnMucmFkaXVzID4gMzAwKSB7XHJcbiAgICAgIG9wdGlvbnMucmFkaXVzSW5jcmVtZW50ID0gMTAwO1xyXG4gICAgfVxyXG4gICAgaWYob3B0aW9ucy5yYWRpdXMgPiAxMDAwKSB7XHJcbiAgICAgIG9wdGlvbnMucmFkaXVzSW5jcmVtZW50ID0gNTAwO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGYuZ2V0UGxhY2VzKFxyXG4gICAgICB7XHJcbiAgICAgICAgbGF0aXR1ZGU6IG9wdGlvbnMubGF0aXR1ZGUsXHJcbiAgICAgICAgbG9uZ2l0dWRlOiBvcHRpb25zLmxvbmdpdHVkZSxcclxuICAgICAgICByYWRpdXM6IHBhcnNlSW50KG9wdGlvbnMucmFkaXVzKSArIG9wdGlvbnMucmFkaXVzSW5jcmVtZW50LFxyXG4gICAgICAgIHBsYWNlVHlwZTogb3B0aW9ucy5wbGFjZVR5cGUsXHJcbiAgICAgICAgbWF4UGxhY2VzOiBvcHRpb25zLm1heFBsYWNlc1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIFBsYWNlcy5wcm90b3R5cGUuc3VjY2VzcyA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIHRoaXMucmVzdGF1cmFudHMgPSBkYXRhO1xyXG4gICAgdGhpcy5vcHRpb25zLmluaXRpYWxQbGFjZXMgPSAwO1xyXG4gICAgV09MLmFwcC53aGVlbC5zZXRSZXN0YXVyYW50cyhkYXRhKTtcclxuICAgIFdPTC5hcHAud2hlZWwuZHJhdygpO1xyXG4gIH07XHJcblxyXG4gIFBsYWNlcy5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICBXT0wuYXBwLmxpZ2h0Ym94Lk5vTG9jYXRpb25MaWdodGJveCA9IG5ldyBFcnJvckxvY2F0aW9uTGlnaHRib3goKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gUGxhY2VzO1xyXG59KCkpO1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICB2YXIgY29sb3VycyA9IHJlcXVpcmUoJy4uL2RhdGEvY29sb3Vycy5qcycpO1xyXG4gIHZhciBkZWZhdWx0UmVzdGF1cmFudHMgPSByZXF1aXJlKCcuLi9kYXRhL3Jlc3RhdXJhbnRzLmpzJyk7XHJcbiAgdmFyIFJlc3VsdExpZ2h0Ym94ID0gcmVxdWlyZSgnLi4vbGlnaHRib3hlcy9yZXN1bHRMaWdodGJveC5qcycpO1xyXG4gIHZhciBDb25mZXR0aSA9IHJlcXVpcmUoJy4vY29uZmV0dGkuanMnKTtcclxuXHJcbiAgLyogQnV0dG9ucyAqL1xyXG4gIHZhciBTUElOX0JVVFRPTiA9ICcjc3Bpbic7XHJcblxyXG4gIGZ1bmN0aW9uIFdoZWVsKHNlbGVjdG9yKSB7XHJcblxyXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGVjdG9yKTtcclxuICAgIHZhciAkY2FudmFzID0gJCgnIycgKyBzZWxlY3Rvcik7XHJcblxyXG4gICAgdGhpcy5lbGVtcyA9IHtcclxuICAgICAgc2VsZWN0b3I6ICcjJyArIHNlbGVjdG9yLFxyXG4gICAgICBjYW52YXM6IGNhbnZhcyxcclxuICAgICAgJGNhbnZhczogJGNhbnZhc1xyXG4gICAgfTtcclxuXHJcbiAgICBpZighY2FudmFzLmdldENvbnRleHQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZGF0YSA9IHtcclxuICAgICAgY2FudmFzOiBjYW52YXMsXHJcbiAgICAgIHJlc3RhdXJhbnRzOiBkZWZhdWx0UmVzdGF1cmFudHMsXHJcbiAgICAgIHdpZHRoOiA2MDAsXHJcbiAgICAgIGhlaWdodDogNjAwLFxyXG4gICAgICBzdGFydEFuZ2xlOiAwLFxyXG4gICAgICBzcGluVGltZW91dDogbnVsbCxcclxuICAgICAgaXNTcGlubmluZzogZmFsc2UsXHJcbiAgICAgIHNwaW5BcmNTdGFydDogMTAsXHJcbiAgICAgIHNwaW5UaW1lOiAwLFxyXG4gICAgICBzcGluVGltZVRvdGFsOiAwLFxyXG4gICAgICBzcGluVmVsb2NpdHk6IDIwMDAsXHJcbiAgICAgIGN0eDogbnVsbCxcclxuICAgICAgcm91bGV0dGVXaGVlbDoge30sXHJcbiAgICAgIG91dHNpZGVSYWRpdXM6IDI1MCxcclxuICAgICAgdGV4dFJhZGl1czogMTk0LFxyXG4gICAgICBpbnNpZGVSYWRpdXM6IDE1MCxcclxuICAgICAgYW5nbGU6IG51bGwsXHJcbiAgICAgIHRleHQ6IG51bGwsXHJcbiAgICAgIGRyYWc6IHtcclxuICAgICAgICBjbGlja2VkWDogbnVsbCxcclxuICAgICAgICBjbGlja2VkWTogbnVsbCxcclxuICAgICAgICBjdXJyZW50RHJhZ1g6IG51bGwsXHJcbiAgICAgICAgY3VycmVudERyYWdZOiBudWxsLFxyXG4gICAgICAgIHByZXZpb3VzRHJhZ1g6IG51bGwsXHJcbiAgICAgICAgcHJldmlvdXNEcmFnWTogbnVsbCxcclxuICAgICAgICBpc0RyYWdnaW5nOiBudWxsLFxyXG4gICAgICAgIGNoYW5nZWRBbmdsZTogbnVsbCxcclxuICAgICAgICBhcmNBbmdsZTogbnVsbFxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgV2hlZWwucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuZGF0YS5jdHggPSB0aGlzLmRhdGEuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIHRoaXMuZGF0YS5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuZGF0YS53aWR0aCwgdGhpcy5kYXRhLmhlaWdodCk7XHJcbiAgICB0aGlzLmRhdGEuY3R4LnN0cm9rZVN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgdGhpcy5kYXRhLmN0eC5mb250ID0gXCIxMnB4IEhlbHZldGljYSwgQXJpYWxcIjtcclxuICAgIHRoaXMuZGF0YS5hcmMgPSBNYXRoLlBJIC8gKHRoaXMuZGF0YS5yZXN0YXVyYW50cy5sZW5ndGggLyAyKTtcclxuXHJcbiAgICB0aGlzLmRyYXcoKTtcclxuICAgIHRoaXMuYWRkRXZlbnRzKCk7XHJcbiAgfTtcclxuXHJcbiAgV2hlZWwucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICQoU1BJTl9CVVRUT04pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZighc2VsZi5yZXRJc1NwaW5uaW5nKCkpIHtcclxuICBcdFx0XHRzZWxmLnNwaW4odHJ1ZSk7XHJcbiAgXHRcdH1cclxuICAgIH0pO1xyXG5cclxuICAgICQodGhpcy5lbGVtcy5zZWxlY3RvcikubW91c2Vkb3duKGZ1bmN0aW9uKGUpIHtcclxuICBcdFx0c2VsZi5kYXRhLmRyYWcuY2xpY2tlZFggPSBlLnBhZ2VYO1xyXG4gIFx0XHRzZWxmLmRhdGEuZHJhZy5jbGlja2VkWSA9IGUucGFnZVk7XHJcbiAgXHRcdC8vc2V0IHVwIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBwcmV2aW91cyBkcmFnXHJcbiAgXHRcdHNlbGYuZGF0YS5kcmFnLnByZXZpb3VzRHJhZ1ggPSBlLnBhZ2VYO1xyXG4gIFx0XHRzZWxmLmRhdGEuZHJhZy5wcmV2aW91c0RyYWdZID0gZS5wYWdlWTtcclxuICBcdFx0c2VsZi5kYXRhLmRyYWcuaXNEcmFnZ2luZyA9IHRydWU7XHJcbiAgXHR9KTtcclxuXHJcbiAgICAkKHRoaXMuZWxlbXMuc2VsZWN0b3IpLm1vdXNlbW92ZShmdW5jdGlvbihlKSB7XHJcbiAgXHRcdGlmKHNlbGYuZGF0YS5kcmFnLmlzRHJhZ2dpbmcgJiYgIXNlbGYucmV0SXNTcGlubmluZygpKSB7XHJcbiAgXHRcdFx0c2VsZi5kYXRhLmRyYWcuY3VycmVudERyYWdYID0gZS5wYWdlWDtcclxuICBcdFx0XHRzZWxmLmRhdGEuZHJhZy5jdXJyZW50RHJhZ1kgPSBlLnBhZ2VZO1xyXG5cclxuICBcdFx0XHQvL2ZpbmRpbmcgdGhlIG1vdmVtZW50IGZyb20gdGhlIGxhc3QgZHJhZ1xyXG4gIFx0XHRcdHNlbGYuZGF0YS5kcmFnLmNoYW5nZWRBbmdsZSA9IE1hdGguYXRhbjIoc2VsZi5kYXRhLmRyYWcuY3VycmVudERyYWdZIC0gJChTUElOX0JVVFRPTikucG9zaXRpb24oKS50b3AsIHNlbGYuZGF0YS5kcmFnLmN1cnJlbnREcmFnWCAtICQoU1BJTl9CVVRUT04pLnBvc2l0aW9uKCkubGVmdCk7XHJcbiAgXHRcdFx0c2VsZi5kYXRhLmRyYWcuY2hhbmdlZEFuZ2xlIC09IE1hdGguYXRhbjIoc2VsZi5kYXRhLmRyYWcucHJldmlvdXNEcmFnWSAtICQoU1BJTl9CVVRUT04pLnBvc2l0aW9uKCkudG9wLCBzZWxmLmRhdGEuZHJhZy5wcmV2aW91c0RyYWdYIC0gJChTUElOX0JVVFRPTikucG9zaXRpb24oKS5sZWZ0KTtcclxuXHJcbiAgXHRcdFx0Ly9yZWNhbGN1bGF0aW5nIHRoZSBhcmMgZnJvbSB3aGVuIHRoZSBtb3VzZSB3YXMgZmlyc3RlZCBjbGljayAtLSB1c2VkIHRvIGluZGljYXRlIGEgJ3NwaW4nXHJcbiAgXHRcdFx0c2VsZi5kYXRhLmRyYWcuYXJjQW5nbGUgPSBNYXRoLmF0YW4yKHNlbGYuZGF0YS5kcmFnLmN1cnJlbnREcmFnWSAtICQoU1BJTl9CVVRUT04pLnBvc2l0aW9uKCkudG9wLCBzZWxmLmRhdGEuZHJhZy5jdXJyZW50RHJhZ1ggLSAkKFNQSU5fQlVUVE9OKS5wb3NpdGlvbigpLmxlZnQpO1xyXG4gIFx0XHRcdHNlbGYuZGF0YS5kcmFnLmFyY0FuZ2xlIC09IE1hdGguYXRhbjIoc2VsZi5kYXRhLmRyYWcuY2xpY2tlZFkgLSAkKFNQSU5fQlVUVE9OKS5wb3NpdGlvbigpLnRvcCwgc2VsZi5kYXRhLmRyYWcuY2xpY2tlZFggLSAkKFNQSU5fQlVUVE9OKS5wb3NpdGlvbigpLmxlZnQpO1xyXG5cclxuXHJcbiAgXHRcdFx0Ly9hZGQgd2hhdGV2ZXIgdGhlIGFuZ2xlIGhhcyBjaGFuZ2VkIGJ5IGZyb20gdGhlIGxhc3QgbW92ZW1lbnQgb2YgdGhlIG1vdXNlXHJcbiAgXHRcdFx0c2VsZi5hZGRUb1N0YXJ0QW5nbGUoc2VsZi5kYXRhLmRyYWcuY2hhbmdlZEFuZ2xlKTtcclxuICBcdFx0XHRzZWxmLmRyYXcodHJ1ZSk7XHJcblxyXG4gIFx0XHRcdC8vdXBkYXRlIHRoZSBwcmV2aW91cyB3aXRoIHRoZSBjdXJyZW50IGNvb3JkaW5hdGUgb2YgdGhlIG1vdXNlXHJcbiAgXHRcdFx0c2VsZi5kYXRhLmRyYWcucHJldmlvdXNEcmFnWSA9IHNlbGYuZGF0YS5kcmFnLmN1cnJlbnREcmFnWTtcclxuICBcdFx0XHRzZWxmLmRhdGEuZHJhZy5wcmV2aW91c0RyYWdYID0gc2VsZi5kYXRhLmRyYWcuY3VycmVudERyYWdYO1xyXG4gIFx0XHR9XHJcbiAgXHR9KTtcclxuXHJcbiAgXHQkKHRoaXMuZWxlbXMuc2VsZWN0b3IpLm1vdXNldXAoZnVuY3Rpb24oZSkge1xyXG4gIFx0XHRpZigoc2VsZi5kYXRhLmRyYWcuYXJjQW5nbGUgPj0gMC41KSAmJiAhc2VsZi5yZXRJc1NwaW5uaW5nKCkgJiYgc2VsZi5kYXRhLmRyYWcuY2hhbmdlZEFuZ2xlID4gMCkgeyAvLyBhIG1pbmltdW0gZGVsdGEgb2YgcmFkID0gMC41IHJlcXVpcmVkIHRvIGRyYWcgYXJvdW5kIHRoZSB3aGVlbCB0byBjb3VudCBhcyBhICdzcGluJ1xyXG4gIFx0XHRcdHNlbGYuc3Bpbih0cnVlKTtcclxuICBcdFx0fSBlbHNlIGlmKChzZWxmLmRhdGEuZHJhZy5hcmNBbmdsZSA8IC00KSAmJiAhc2VsZi5yZXRJc1NwaW5uaW5nKCkgJiYgc2VsZi5kYXRhLmRyYWcuY2hhbmdlZEFuZ2xlID4gMCkge1xyXG4gIFx0XHRcdHNlbGYuc3Bpbih0cnVlKTtcclxuICBcdFx0fSBlbHNlIGlmKChzZWxmLmRhdGEuZHJhZy5hcmNBbmdsZSA8PSAtMC41KSAmJiAhc2VsZi5yZXRJc1NwaW5uaW5nKCkgJiYgc2VsZi5kYXRhLmRyYWcuY2hhbmdlZEFuZ2xlIDwgMCkge1xyXG4gIFx0XHRcdHNlbGYuc3BpbihmYWxzZSk7XHJcbiAgXHRcdH0gZWxzZSBpZigoc2VsZi5kYXRhLmRyYWcuYXJjQW5nbGUgPiA0KSAmJiAhc2VsZi5yZXRJc1NwaW5uaW5nKCkgJiYgc2VsZi5kYXRhLmRyYWcuY2hhbmdlZEFuZ2xlIDwgMCkge1xyXG4gIFx0XHRcdHNlbGYuc3BpbihmYWxzZSk7XHJcbiAgXHRcdH1cclxuICBcdFx0c2VsZi5kYXRhLmRyYWcuaXNEcmFnZ2luZyA9IGZhbHNlO1xyXG4gIFx0fSk7XHJcblxyXG4gIFx0JCh0aGlzLmVsZW1zLnNlbGVjdG9yKS5tb3VzZW91dChmdW5jdGlvbihlKSB7XHJcbiAgXHRcdHNlbGYuZGF0YS5kcmFnLmlzRHJhZ2dpbmcgPSBmYWxzZTtcclxuICBcdH0pO1xyXG5cclxuICB9O1xyXG5cclxuICBXaGVlbC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5kYXRhLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5kYXRhLndpZHRoLCB0aGlzLmRhdGEuaGVpZ2h0KTtcclxuICAgIHRoaXMuZGF0YS5yZXN0YXVyYW50cy5mb3JFYWNoKGZ1bmN0aW9uKHJlc3RhdXJhbnQsIGkpIHtcclxuICAgICAgLyogUmVuZGVyIFNlZ21lbnQgKi9cclxuICAgICAgc2VsZi5kYXRhLmFuZ2xlID0gc2VsZi5kYXRhLnN0YXJ0QW5nbGUgKyBpICogc2VsZi5kYXRhLmFyYztcclxuICAgICAgc2VsZi5kYXRhLmN0eC5maWxsU3R5bGUgPSBjb2xvdXJzLmJnQ29sb3VyW2ldO1xyXG5cclxuICAgICAgc2VsZi5kYXRhLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgc2VsZi5kYXRhLmN0eC5hcmMoc2VsZi5kYXRhLndpZHRoIC8gMiwgc2VsZi5kYXRhLmhlaWdodCAvIDIsIHNlbGYuZGF0YS5vdXRzaWRlUmFkaXVzLCBzZWxmLmRhdGEuYW5nbGUsIHNlbGYuZGF0YS5hbmdsZSArIHNlbGYuZGF0YS5hcmMsIGZhbHNlKTtcclxuICAgICAgc2VsZi5kYXRhLmN0eC5hcmMoc2VsZi5kYXRhLndpZHRoIC8gMiwgc2VsZi5kYXRhLmhlaWdodCAvIDIsIHNlbGYuZGF0YS5pbnNpZGVSYWRpdXMsIHNlbGYuZGF0YS5hbmdsZSArIHNlbGYuZGF0YS5hcmMsIHNlbGYuZGF0YS5hbmdsZSwgdHJ1ZSk7XHJcbiAgICAgIHNlbGYuZGF0YS5jdHguZmlsbCgpO1xyXG5cclxuICAgICAgc2VsZi5kYXRhLmN0eC5zYXZlKCk7XHJcblxyXG4gICAgICAvKiBSZW5kZXIgVGV4dCAqL1xyXG4gICAgICBzZWxmLmRhdGEuY3R4LmZpbGxTdHlsZSA9IGNvbG91cnMuZm9udENvbG91cltpXTtcclxuICAgICAgc2VsZi5kYXRhLmN0eC50cmFuc2xhdGUoc2VsZi5kYXRhLndpZHRoIC8gMiArIE1hdGguY29zKHNlbGYuZGF0YS5hbmdsZSArIHNlbGYuZGF0YS5hcmMgLzIpICogc2VsZi5kYXRhLnRleHRSYWRpdXMsXHJcbiAgICAgICAgICBzZWxmLmRhdGEuaGVpZ2h0IC8gMiArIE1hdGguc2luKHNlbGYuZGF0YS5hbmdsZSArIHNlbGYuZGF0YS5hcmMgLyAyKSAqIHNlbGYuZGF0YS50ZXh0UmFkaXVzKTtcclxuICAgICAgc2VsZi5kYXRhLmN0eC5yb3RhdGUoc2VsZi5kYXRhLmFuZ2xlICsgc2VsZi5kYXRhLmFyYyAvIDIgKyBNYXRoLlBJIC8gMik7XHJcbiAgICAgIHNlbGYucHJpbnROYW1lKHJlc3RhdXJhbnQubmFtZSwgLXNlbGYuZGF0YS5jdHgubWVhc3VyZVRleHQocmVzdGF1cmFudC5uYW1lKS53aWR0aCAvIDIsIDAsIDE0LCAoKDIgKiBNYXRoLlBJICogc2VsZi5kYXRhLnRleHRSYWRpdXMpIC8gc2VsZi5kYXRhLnJlc3RhdXJhbnRzLmxlbmd0aCkgLSAxMCk7XHJcbiAgICAgIHNlbGYuZGF0YS5jdHgucmVzdG9yZSgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmRyYXdBcnJvdygpO1xyXG4gIH07XHJcblxyXG4gIFdoZWVsLnByb3RvdHlwZS5kcmF3QXJyb3cgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuZGF0YS5jdHguZmlsbFN0eWxlID0gXCIjMzMzXCI7XHJcbiAgICB0aGlzLmRhdGEuY3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0dGhpcy5kYXRhLmN0eC5tb3ZlVG8odGhpcy5kYXRhLndpZHRoIC8gMiAgLSA0LCB0aGlzLmRhdGEuaGVpZ2h0IC8gMiAgLSAodGhpcy5kYXRhLm91dHNpZGVSYWRpdXMgKyAyNSkpO1xyXG5cdFx0dGhpcy5kYXRhLmN0eC5saW5lVG8odGhpcy5kYXRhLndpZHRoIC8gMiArIDQsIHRoaXMuZGF0YS5oZWlnaHQgLyAyICAtICh0aGlzLmRhdGEub3V0c2lkZVJhZGl1cyArIDI1KSk7XHJcblx0XHR0aGlzLmRhdGEuY3R4LmxpbmVUbyh0aGlzLmRhdGEud2lkdGggLyAyICsgNCwgdGhpcy5kYXRhLmhlaWdodCAvIDIgIC0gKHRoaXMuZGF0YS5vdXRzaWRlUmFkaXVzICsgMTUpKTtcclxuXHRcdHRoaXMuZGF0YS5jdHgubGluZVRvKHRoaXMuZGF0YS53aWR0aCAvIDIgKyA5LCB0aGlzLmRhdGEuaGVpZ2h0IC8gMiAgLSAodGhpcy5kYXRhLm91dHNpZGVSYWRpdXMgKyAxNSkpO1xyXG5cdFx0dGhpcy5kYXRhLmN0eC5saW5lVG8odGhpcy5kYXRhLndpZHRoIC8gMiArIDAsIHRoaXMuZGF0YS5oZWlnaHQgLyAyICAtICh0aGlzLmRhdGEub3V0c2lkZVJhZGl1cyAtIDApKTtcclxuXHRcdHRoaXMuZGF0YS5jdHgubGluZVRvKHRoaXMuZGF0YS53aWR0aCAvIDIgLSA5LCB0aGlzLmRhdGEuaGVpZ2h0IC8gMiAgLSAodGhpcy5kYXRhLm91dHNpZGVSYWRpdXMgKyAxNSkpO1xyXG5cdFx0dGhpcy5kYXRhLmN0eC5saW5lVG8odGhpcy5kYXRhLndpZHRoIC8gMiAtIDQsIHRoaXMuZGF0YS5oZWlnaHQgLyAyICAtICh0aGlzLmRhdGEub3V0c2lkZVJhZGl1cyArIDE1KSk7XHJcblx0XHR0aGlzLmRhdGEuY3R4LmxpbmVUbyh0aGlzLmRhdGEud2lkdGggLyAyIC0gNCwgdGhpcy5kYXRhLmhlaWdodCAvIDIgLSAodGhpcy5kYXRhLm91dHNpZGVSYWRpdXMgKyAyNSkpO1xyXG5cdFx0dGhpcy5kYXRhLmN0eC5maWxsKCk7XHJcbiAgfTtcclxuXHJcbiAgV2hlZWwucHJvdG90eXBlLnNwaW4gPSBmdW5jdGlvbihpc0ZvcndhcmQpIHtcclxuICAgIHRoaXMuZGF0YS5zcGluQW5nbGVTdGFydCA9IE1hdGgucmFuZG9tKCkgKiAxMCArIDEwO1xyXG4gICAgdGhpcy5kYXRhLnNwaW5UaW1lID0gMDtcclxuICAgIHRoaXMuZGF0YS5zcGluVGltZVRvdGFsID0gTWF0aC5yYW5kb20oKSAqIDMgKyA0ICogdGhpcy5kYXRhLnNwaW5WZWxvY2l0eTtcclxuXHJcbiAgICBpZighdGhpcy5kYXRhLmlzU3Bpbm5pbmcgJiYgaXNGb3J3YXJkKSB7XHJcbiAgICAgIHRoaXMuZGF0YS5pc1NwaW5uaW5nID0gdHJ1ZTtcclxuICAgICAgdGhpcy5yb3RhdGUodHJ1ZSk7XHJcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmRhdGEuaXNTcGlubmluZyAmJiAhaXNGb3J3YXJkKSB7XHJcbiAgICAgIHRoaXMuZGF0YS5pc1NwaW5uaW5nID0gdHJ1ZTtcclxuICAgICAgdGhpcy5yb3RhdGUoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIFdoZWVsLnByb3RvdHlwZS5yZXRJc1NwaW5uaW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhLmlzU3Bpbm5pbmc7XHJcbiAgfTtcclxuXHJcbiAgV2hlZWwucHJvdG90eXBlLmFkZFRvU3RhcnRBbmdsZSA9IGZ1bmN0aW9uKGFuZ2xlKSB7XHJcbiAgICB0aGlzLmRhdGEuc3RhcnRBbmdsZSArPSBhbmdsZTtcclxuICB9O1xyXG5cclxuICBXaGVlbC5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24oaXNGb3J3YXJkKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLmRhdGEuc3BpblRpbWUgKz0gMzA7XHJcbiAgICBpZih0aGlzLmRhdGEuc3BpblRpbWUgPj0gdGhpcy5kYXRhLnNwaW5UaW1lVG90YWwpIHtcclxuICAgICAgdGhpcy5zdG9wUm90YXRlKCk7XHJcbiAgICAgIHRoaXMuZGF0YS5pc1NwaW5uaW5nID0gZmFsc2U7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBzcGluQW5nbGUgPSB0aGlzLmRhdGEuc3BpbkFuZ2xlU3RhcnQgLSB0aGlzLmVhc2VPdXQodGhpcy5kYXRhLnNwaW5UaW1lLCAwLCB0aGlzLmRhdGEuc3BpbkFuZ2xlU3RhcnQsIHRoaXMuZGF0YS5zcGluVGltZVRvdGFsKTtcclxuICAgIGlmKGlzRm9yd2FyZCkge1xyXG4gICAgICB0aGlzLmRhdGEuc3RhcnRBbmdsZSArPSAoc3BpbkFuZ2xlICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmRhdGEuc3RhcnRBbmdsZSAtPSAoc3BpbkFuZ2xlICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmRyYXcoKTtcclxuICAgIHRoaXMuZGF0YS5zcGluVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNlbGYucm90YXRlKGlzRm9yd2FyZCk7XHJcbiAgICB9LCAzMCk7XHJcbiAgfTtcclxuXHJcbiAgV2hlZWwucHJvdG90eXBlLnN0b3BSb3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgIGNsZWFyVGltZW91dCh0aGlzLmRhdGEuc3BpblRpbWVvdXQpO1xyXG4gICAgdmFyIGRlZ3JlZXMgPSB0aGlzLmRhdGEuc3RhcnRBbmdsZSAqIDE4MCAvIE1hdGguUEkgKyA5MCxcclxuICAgICAgYXJjZCA9IHRoaXMuZGF0YS5hcmMgKiAxODAgLyBNYXRoLlBJLFxyXG4gICAgICBpbmRleCA9IE1hdGguZmxvb3IoKDM2MCAtIGRlZ3JlZXMgJSAzNjApIC8gYXJjZCk7XHJcbiAgICB0aGlzLmRhdGEuY3R4LnNhdmUoKTtcclxuXHJcbiAgICBpZihkZWdyZWVzIDwgMCkge1xyXG4gICAgICBkZWdyZWVzID0gTWF0aC5hYnMoZGVncmVlcyk7XHJcbiAgICAgIGluZGV4ID0gTWF0aC5mbG9vcigoZGVncmVlcyAlIDM2MCkgLyBhcmNkKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcmVzdWx0TmFtZSA9IHRoaXMuZGF0YS5yZXN0YXVyYW50c1tpbmRleF0ubmFtZS5zcGxpdCgnICcpLmpvaW4oJysnKSxcclxuICAgICAgbWFwVVJMID0gXCJodHRwOi8vbWFwcy5nb29nbGUuY29tL21hcHMvZGlyL1wiLFxyXG5cdFx0XHRvcmlnaW5Db29yZHMgPSBXT0wuYXBwLmdlb2xvY2F0aW9uLnBvc2l0aW9uLmxhdGl0dWRlICsgXCIsXCIgKyBXT0wuYXBwLmdlb2xvY2F0aW9uLnBvc2l0aW9uLmxvbmdpdHVkZTtcclxuXHJcbiAgICAvKiBEaXNwbGF5IFJlc3VsdCAqL1xyXG4gICAgLy9XT0wuYXBwLmxpZ2h0Ym94ZXMucmVzdWx0ID0gbmV3IFJlc3VsdExpZ2h0Ym94KCk7XHJcblxyXG4gICAgdGhpcy5kYXRhLmN0eC5yZXN0b3JlKCk7XHJcblxyXG4gICAgLy9XT0wuYXBwLmNvbmZldHRpID0gbmV3IENvbmZldHRpKCk7XHJcbiAgfTtcclxuXHJcbiAgV2hlZWwucHJvdG90eXBlLnByaW50TmFtZSA9IGZ1bmN0aW9uKHRleHQsIHgsIHksIGxpbmVIZWlnaHQsIGZpdFdpZHRoKSB7XHJcbiAgICB2YXIgc3RyLCBzcGxpdERhc2gsIGhlYWRUZXh0LCB0YWlsVGV4dCwgaWR4O1xyXG4gICAgZml0V2lkdGggPSBmaXRXaWR0aCB8fCAwO1xyXG5cclxuICAgIGlmKGZpdFdpZHRoIDw9IDApIHtcclxuICAgICAgdGhpcy5kYXRhLmN0eC5maWxsVGV4dCh0ZXh0LCB4LCB5KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGZvcihpZHggPSAxOyBpZHggPD0gdGV4dC5sZW5ndGg7IGlkeCsrKSB7XHJcbiAgICAgIHN0ciA9IHRleHQuc3Vic3RyKDAsIGlkeCk7XHJcblxyXG4gICAgICBpZih0aGlzLmRhdGEuY3R4Lm1lYXN1cmVUZXh0KHN0cikud2lkdGggPiBmaXRXaWR0aCkge1xyXG4gICAgICAgIHNwbGl0RGFzaCA9ICh0ZXh0LmNoYXJBdChpZHggLSAyKSAhPSBcIiBcIikgPyBcIi1cIiA6IFwiXCI7XHJcbiAgICAgICAgaGVhZFRleHQgPSB0ZXh0LnN1YnN0cigwLCBpZHggLSAxKSArIHNwbGl0RGFzaDtcclxuICAgICAgICB0YWlsVGV4dCA9IHRleHQuc3Vic3RyKGlkeCAtIDEpO1xyXG4gICAgICAgIHRoaXMuZGF0YS5jdHguZmlsbFRleHQoaGVhZFRleHQsIC10aGlzLmRhdGEuY3R4Lm1lYXN1cmVUZXh0KGhlYWRUZXh0KS53aWR0aCAvIDIsIHkgLSBsaW5lSGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnByaW50TmFtZSh0YWlsVGV4dCwgLXRoaXMuZGF0YS5jdHgubWVhc3VyZVRleHQodGFpbFRleHQpLndpZHRoIC8gMiwgeSArIGxpbmVIZWlnaHQsIGxpbmVIZWlnaHQsIGZpdFdpZHRoIC0gMTApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZGF0YS5jdHguZmlsbFRleHQodGV4dCwgeCwgKHkgPyB5IC0gbGluZUhlaWdodCA6IHkpKTtcclxuICB9O1xyXG5cclxuICBXaGVlbC5wcm90b3R5cGUuZWFzZU91dCA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcclxuICAgIHZhciB0cyA9ICh0IC89IGQpICogdDtcclxuICAgIHZhciB0YyA9IHRzICogdDtcclxuXHJcbiAgICByZXR1cm4gYiArIGMgKiAodGMgKyAtMyAqIHRzICsgMyAqIHQpO1xyXG4gIH07XHJcblxyXG4gIFdoZWVsLnByb3RvdHlwZS5zZXRSZXN0YXVyYW50cyA9IGZ1bmN0aW9uKHJlc3RhdXJhbnRzKSB7XHJcbiAgICB0aGlzLmRhdGEucmVzdGF1cmFudHMgPSByZXN0YXVyYW50cztcclxuICAgIHRoaXMuZGF0YS5hcmMgPSBNYXRoLlBJIC8gKHRoaXMuZGF0YS5yZXN0YXVyYW50cy5sZW5ndGggLyAyKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gV2hlZWw7XHJcbn0oKSk7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCQpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxufSgpKTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKSB7XHJcblxyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgdmFyIFdoZWVsID0gcmVxdWlyZSgnLi4vbW9kdWxlcy93aGVlbC5qcycpO1xyXG4gIHZhciBMb2NhbGlzYXRpb25MaWdodGJveCA9IHJlcXVpcmUoJy4uL2xpZ2h0Ym94ZXMvbG9jYWxpc2F0aW9uTGlnaHRib3guanMnKTtcclxuICB2YXIgTWFwID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9tYXAuanMnKTtcclxuICB2YXIgR2VvbG9jYXRpb24gPSByZXF1aXJlKCcuLi9tb2R1bGVzL2dlb2xvY2F0aW9uLmpzJyk7XHJcbiAgdmFyIENvbmZldHRpID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9jb25mZXR0aS5qcycpO1xyXG5cclxuICBXT0wuYXBwLndoZWVsID0gbmV3IFdoZWVsKCd3aGVlbCcpO1xyXG4gIFdPTC5hcHAubGlnaHRib3gubG9jYWxpc2F0aW9uID0gbmV3IExvY2FsaXNhdGlvbkxpZ2h0Ym94KCk7XHJcblxyXG59KCkpO1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcclxuICBhcHA6IHsgbGlnaHRib3g6IHt9IH0sXHJcbiAgbW9kdWxlczoge30sXHJcbiAgZ2xvYmFsOiB7fSxcclxuICBwYWdlOiB7fSxcclxuICB1dGlsczoge30sXHJcbiAgZGF0YToge31cclxufTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgaWQ9XFxcImxvY2FsaXNhdGlvbi1lcnJvclxcXCIgY2xhc3M9XFxcImFsZXJ0IGFsZXJ0LWRhbmdlciBsb2NhbGlzYXRpb25cXFwiIHJvbGU9XFxcImFsZXJ0XFxcIj48cD5Pb3BzISBXZSBjYW4ndCBmaW5kIHlvdXIgbG9jYXRpb24uIDxidXR0b24gaWQ9XFxcImxvY2FsaXNhdGlvbi1jb250aW51ZS1idXR0b25cXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGFuZ2VyIGJ0bi1zbVxcXCI+IENvbnRpbnVlIGFueXdheTwvYnV0dG9uPjwvcD48L2Rpdj5cIjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGlkPVxcXCJnZW9sb2NhdGlvblxcXCIgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgbG9jYWxpc2F0aW9uIHNlYXJjaC1sb2NhbGlzYXRpb25cXFwiPjxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiPjxwPkhhbmcgb24gYSBtb21lbnQsIHdlIGFyZSBqdXN0IGdldHRpbmcgeW91ciBsb2NhdGlvbjxzcGFuIGNsYXNzPVxcXCJvbmVcXFwiPi48L3NwYW4+PHNwYW4gY2xhc3M9XFxcInR3b1xcXCI+Ljwvc3Bhbj48c3BhbiBjbGFzcz1cXFwidGhyZWVcXFwiPi48L3NwYW4+PC9wPjwvZGl2PjwvZGl2PlwiO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgaWQ9XFxcImxvY2FsaXNhdGlvblxcXCIgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgc2VsZWN0LWxvY2FsaXNhdGlvblxcXCI+PGRpdiBjbGFzcz1cXFwicGFuZWwtYm9keVxcXCI+PHA+UGxlYXNlIHNlbGVjdCBhbiBvcHRpb248L3A+IDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBpZD1cXFwibG9jYXRpb24tb3B0aW9uLWN1cnJlbnRcXFwiIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3NcXFwiPlVzZSBteSBsb2NhdGlvbjwvYnV0dG9uPiA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcImxvY2F0aW9uLW9wdGlvbi1maW5kXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1pbmZvXFxcIj5GaW5kIGEgbG9jYXRpb248L2J1dHRvbj48L2Rpdj48L2Rpdj5cIjtcbiJdfQ==\n"],"sourceRoot":"/source/"}