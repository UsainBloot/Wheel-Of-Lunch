{"version":3,"sources":["all.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","bgColour","fontColour",2,"name","lat","lng","vicinity",3,"window","WOL","./pages/global.js","./pages/main.js","./wheel-of-lunch.js",4,"$","ErrorLocationLightbox","this","elems","id","ID","root","init","HTML_OUTPUT","CONTINUE_BUTTON","prototype","addWindow","prepend","addEvents","closeWindow","remove","self","on","jQuery","../../templates/localisation-error.html",5,"GeolocationLightbox","Geolocation","getLocation","app","geolocation","../../templates/localisation-loading.html","../modules/geolocation.js",6,"LocalisationLightbox","MapLightbox","CURRENT_LOCATION_BUTTON","FIND_LOCATION_BUTTON","showCurrentLocationLightbox","showFindLocationLightbox","lightbox","Map","../../templates/localisation.html","./geolocationLightbox.js","./mapLightbox.js",7,8,"ResultLightbox",9,10,"callback","position","options","enableHighAccuracy","maximumAge","navigator","getCurrentPosition","success","error","pos","coords","err","NoLocationLightbox","closeParentWindow","parentRoot","../lightboxes/errorLocationLightbox.js",11,"arguments","apply","dup",12,"Wheel","selector","canvas","document","getElementById","getContext","data","restaurants","defaultRestaurants","width","height","startAngle","spinTimeout","isSpinning","spinArcStart","spinTime","spinTimeTotal","spinVelocity","ctx","rouletteWheel","outsideRadius","textRadius","insideRadius","angle","text","colours","SPIN_BUTTON","clearRect","strokeStyle","font","arc","Math","PI","draw","retIsSpinning","spin","forEach","restaurant","fillStyle","beginPath","fill","save","translate","cos","sin","rotate","printName","measureText","Pi","restore","drawArrow","moveTo","lineTo","isForward","spinAngleStart","random","addToStartAngle","stopRotate","spinAngle","easeOut","setTimeout","clearTimeout","degrees","arcd","index","floor","abs","split","join","latitude","longitude","x","y","lineHeight","fitWidth","str","splitDash","headText","tailText","idx","fillText","substr","charAt","b","c","d","ts","tc","setRestaurants","../data/colours.js","../data/restaurants.js","../lightboxes/resultLightbox.js","./confetti.js",13,14,"wheel","localisation","../lightboxes/localisationLightbox.js","../modules/confetti.js","../modules/map.js","../modules/wheel.js",15,"modules","global","page","utils",16,17,18],"mappings":"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","file":"all.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nmodule.exports = (function() {\n  return {\n      bgColour: [\n    \t\"#B8D430\",\n    \t\"#3AB745\",\n    \t\"#029990\",\n    \t\"#3501CB\",\n    \t\"#2E2C75\",\n    \t\"#673A7E\",\n    \t\"#CC0071\",\n    \t\"#F80120\",\n    \t\"#F35B20\",\n    \t\"#FB9A00\",\n    \t\"#FFCC00\",\n    \t\"#FEF200\"\n    ],\n    fontColour: [\n    \t\"#333\",\n    \t\"#333\",\n    \t\"#333\",\n    \t\"#FFF\",\n    \t\"#FFF\",\n    \t\"#FFF\",\n    \t\"#FFF\",\n    \t\"#333\",\n    \t\"#333\",\n    \t\"#333\",\n    \t\"#333\",\n    \t\"#333\"\n    ]\n  };\n}());\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nmodule.exports = (function() {\n\n  return [\n      {name:\"Wendy's\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"McDonalds\", lat:\"\", lng:\"\", vicinity:\"\"},\n      {name:\"Chick-fil-a\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"Five Guys\", lat:\"\", lng:\"\", vicinity:\"\"},\n      {name:\"Gold Star\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"La Mexicana\", lat:\"\", lng:\"\", vicinity:\"\"},\n      {name:\"Chipotle\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"Tazza Mia\", lat:\"\", lng:\"\", vicinity:\"\"},\n      {name:\"Panera\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"Just Crepes\", lat:\"\", lng:\"\", vicinity:\"\"},\n      {name:\"Arby's\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"Indian\", lat:\"\", lng:\"\", vicinity:\"\"}\n    ];\n\n}());\n\n},{}],3:[function(require,module,exports){\n(function() {\n\n  'use strict';\n\n  var WOL = window.WOL = require('./wheel-of-lunch.js');\n\n  require('./pages/global.js');\n  require('./pages/main.js');\n\n})();\n\n},{\"./pages/global.js\":13,\"./pages/main.js\":14,\"./wheel-of-lunch.js\":15}],4:[function(require,module,exports){\nmodule.exports = (function($) {\n\n  'use strict';\n\n  /* Constants */\n  var HTML_OUTPUT = require('../../templates/localisation-error.html');\n  var ID = '#localisation-error';\n\n  /* Buttons */\n  var CONTINUE_BUTTON = '#localisation-continue-button';\n\n  function ErrorLocationLightbox() {\n\n    this.elems = {\n      id: ID,\n      root: null\n    }\n\n    this.init();\n  }\n\n  ErrorLocationLightbox.prototype.init = function() {\n    this.addWindow();\n  };\n\n  ErrorLocationLightbox.prototype.addWindow = function() {\n    $('body').prepend(HTML_OUTPUT);\n    this.elems.root = $(ID);\n    this.addEvents();\n  };\n\n  ErrorLocationLightbox.prototype.closeWindow = function() {\n    this.elems.root.remove();\n  };\n\n  ErrorLocationLightbox.prototype.addEvents = function() {\n    var self = this;\n\n    $(CONTINUE_BUTTON).on('click', function() {\n      self.closeWindow();\n    });\n  };\n\n  return ErrorLocationLightbox;\n}(jQuery));\n\n},{\"../../templates/localisation-error.html\":16}],5:[function(require,module,exports){\nmodule.exports = (function($) {\n\n  'use strict';\n\n  var Geolocation = require('../modules/geolocation.js');\n\n  /* Constants */\n  var HTML_OUTPUT = require('../../templates/localisation-loading.html');\n  var ID = '#geolocation';\n\n  function GeolocationLightbox() {\n\n    this.elems = {\n      id: ID,\n      root: null\n    }\n\n    this.init();\n  }\n\n  GeolocationLightbox.prototype.init = function() {\n    this.addWindow();\n  }\n\n  GeolocationLightbox.prototype.addWindow = function() {\n    $('body').prepend(HTML_OUTPUT);\n    this.elems.root = $(ID);\n    this.getLocation();\n  }\n\n  GeolocationLightbox.prototype.closeWindow = function() {\n    this.elems.root.remove();\n  }\n\n  GeolocationLightbox.prototype.getLocation = function() {\n    var self = this;\n    WOL.app.geolocation = new Geolocation(function() {\n      self.closeWindow();\n    });\n  };\n\n  return GeolocationLightbox;\n}(jQuery));\n\n},{\"../../templates/localisation-loading.html\":17,\"../modules/geolocation.js\":10}],6:[function(require,module,exports){\nmodule.exports = (function($) {\n\n  'use strict';\n\n  var GeolocationLightbox = require('./geolocationLightbox.js');\n  var MapLightbox = require('./mapLightbox.js');\n\n  /* Constants */\n  var HTML_OUTPUT = require('../../templates/localisation.html');\n  var ID = '#localisation';\n\n  /* Buttons */\n  var CURRENT_LOCATION_BUTTON = '#location-option-current';\n  var FIND_LOCATION_BUTTON = '#location-option-find';\n\n  function LocalisationLightbox() {\n\n    this.elems = {\n      id: ID,\n      root: null\n    }\n\n    this.init();\n  }\n\n  LocalisationLightbox.prototype.init = function() {\n    this.addWindow();\n  };\n\n  LocalisationLightbox.prototype.addWindow = function() {\n    $('body').prepend(HTML_OUTPUT);\n    this.elems.root = $(ID);\n    this.addEvents();\n  };\n\n  LocalisationLightbox.prototype.closeWindow = function() {\n    this.elems.root.remove();\n  };\n\n  LocalisationLightbox.prototype.addEvents = function() {\n    var self = this;\n\n    $(CURRENT_LOCATION_BUTTON).on('click', function() {\n      self.showCurrentLocationLightbox();\n      self.closeWindow();\n    });\n\n    $(FIND_LOCATION_BUTTON).on('click', function() {\n      self.showFindLocationLightbox();\n      self.closeWindow();\n    });\n  };\n\n  LocalisationLightbox.prototype.showCurrentLocationLightbox = function() {\n    WOL.app.lightbox.Geolocation = new GeolocationLightbox();\n  };\n\n  LocalisationLightbox.prototype.showFindLocationLightbox = function() {\n    WOL.app.lightbox.Map = new MapLightbox();\n  };\n\n  return LocalisationLightbox;\n}(jQuery));\n\n},{\"../../templates/localisation.html\":18,\"./geolocationLightbox.js\":5,\"./mapLightbox.js\":7}],7:[function(require,module,exports){\nmodule.exports = (function() {\n\n  'use strict';\n\n  function MapLightbox() {\n\n  }\n\n  return MapLightbox;\n}());\n\n},{}],8:[function(require,module,exports){\nmodule.exports = (function() {\n\n  'use strict';\n\n  function ResultLightbox() {\n\n  }\n\n  return ResultLightbox;\n}());\n\n},{}],9:[function(require,module,exports){\nmodule.exports = (function() {\n\n  'use strict';\n\n}());\n\n},{}],10:[function(require,module,exports){\nmodule.exports = (function() {\n\n  'use strict';\n\n  var ErrorLocationLightbox = require('../lightboxes/errorLocationLightbox.js');\n\n  function Geolocation(callback) {\n\n    this.callback = callback;\n    this.position = {};\n\n    this.options = {\n      enableHighAccuracy: true,\n      maximumAge: 0\n    };\n\n    this.getLocation();\n  }\n\n  Geolocation.prototype.getLocation = function() {\n    navigator.geolocation.getCurrentPosition(this.success, this.error, this.options);\n  };\n\n  Geolocation.prototype.success = function(pos) {\n    WOL.app.geolocation.position = pos.coords;\n    WOL.app.geolocation.callback();\n  };\n\n  Geolocation.prototype.error = function(err) {\n    WOL.app.geolocation.callback();\n    WOL.app.lightbox.NoLocationLightbox = new ErrorLocationLightbox();\n  };\n\n  Geolocation.prototype.closeParentWindow = function() {\n    this.elems.parentRoot.remove();\n  };\n\n  return Geolocation;\n}());\n\n},{\"../lightboxes/errorLocationLightbox.js\":4}],11:[function(require,module,exports){\narguments[4][9][0].apply(exports,arguments)\n},{\"dup\":9}],12:[function(require,module,exports){\nmodule.exports = (function() {\n\n  'use strict';\n\n  var colours = require('../data/colours.js');\n  var defaultRestaurants = require('../data/restaurants.js');\n  var ResultLightbox = require('../lightboxes/resultLightbox.js');\n  var Confetti = require('./confetti.js');\n\n  /* Buttons */\n  var SPIN_BUTTON = '#spin';\n\n  function Wheel(selector) {\n\n    var canvas = document.getElementById(selector);\n\n    if(!canvas.getContext) {\n      return;\n    }\n\n    this.data = {\n      canvas: canvas,\n      restaurants: defaultRestaurants,\n      width: 600,\n      height: 600,\n      startAngle: 0,\n      spinTimeout: null,\n      isSpinning: false,\n      spinArcStart: 10,\n      spinTime: 0,\n      spinTimeTotal: 0,\n      spinVelocity: 2000,\n      ctx: null,\n      rouletteWheel: {},\n      outsideRadius: 250,\n      textRadius: 194,\n      insideRadius: 150,\n      angle: null,\n      text: null\n    }\n\n    this.init();\n  }\n\n  Wheel.prototype.init = function() {\n    this.data.ctx = this.data.canvas.getContext(\"2d\");\n    this.data.ctx.clearRect(0, 0, this.data.width, this.data.height);\n    this.data.ctx.strokeStyle = \"black\";\n    this.data.ctx.font = \"12px Helvetica, Arial\";\n    this.data.arc = Math.PI / (this.data.restaurants.length / 2);\n\n    this.draw();\n    this.addEvents();\n  }\n\n  Wheel.prototype.addEvents = function() {\n    var self = this;\n\n    $(SPIN_BUTTON).on('click', function() {\n      if(!self.retIsSpinning()) {\n  \t\t\tself.spin(true);\n  \t\t}\n    });\n  };\n\n  Wheel.prototype.draw = function() {\n    var self = this;\n    this.data.ctx.clearRect(0, 0, this.data.width, this.data.height);\n    this.data.restaurants.forEach(function(restaurant, i) {\n      /* Render Segment */\n      self.data.angle = self.data.startAngle + i * self.data.arc;\n      self.data.ctx.fillStyle = colours.bgColour[i];\n\n      self.data.ctx.beginPath();\n      self.data.ctx.arc(self.data.width / 2, self.data.height / 2, self.data.outsideRadius, self.data.angle, self.data.angle + self.data.arc, false);\n      self.data.ctx.arc(self.data.width / 2, self.data.height / 2, self.data.insideRadius, self.data.angle + self.data.arc, self.data.angle, true);\n      self.data.ctx.fill();\n\n      self.data.ctx.save();\n\n      /* Render Text */\n      self.data.ctx.fillStyle = colours.fontColour[i];\n      self.data.ctx.translate(self.data.width / 2 + Math.cos(self.data.angle + self.data.arc /2) * self.data.textRadius,\n          self.data.height / 2 + Math.sin(self.data.angle + self.data.arc / 2) * self.data.textRadius);\n      self.data.ctx.rotate(self.data.angle + self.data.arc / 2 + Math.PI / 2);\n      self.printName(restaurant.name, -self.data.ctx.measureText(restaurant.name).width / 2, 0, 14, ((2 * Math.Pi * self.data.textRadius) / self.data.restaurants.length) - 10);\n      self.data.ctx.restore();\n    });\n    this.drawArrow();\n  };\n\n  Wheel.prototype.drawArrow = function() {\n    this.data.ctx.fillStyle = \"#333\";\n    this.data.ctx.beginPath();\n\t\tthis.data.ctx.moveTo(this.data.width / 2  - 4, this.data.height / 2  - (this.data.outsideRadius + 25));\n\t\tthis.data.ctx.lineTo(this.data.width / 2 + 4, this.data.height / 2  - (this.data.outsideRadius + 25));\n\t\tthis.data.ctx.lineTo(this.data.width / 2 + 4, this.data.height / 2  - (this.data.outsideRadius + 15));\n\t\tthis.data.ctx.lineTo(this.data.width / 2 + 9, this.data.height / 2  - (this.data.outsideRadius + 15));\n\t\tthis.data.ctx.lineTo(this.data.width / 2 + 0, this.data.height / 2  - (this.data.outsideRadius - 0));\n\t\tthis.data.ctx.lineTo(this.data.width / 2 - 9, this.data.height / 2  - (this.data.outsideRadius + 15));\n\t\tthis.data.ctx.lineTo(this.data.width / 2 - 4, this.data.height / 2  - (this.data.outsideRadius + 15));\n\t\tthis.data.ctx.lineTo(this.data.width / 2 - 4, this.data.height / 2 - (this.data.outsideRadius + 25));\n\t\tthis.data.ctx.fill();\n  };\n\n  Wheel.prototype.spin = function(isForward) {\n    this.data.spinAngleStart = Math.random() * 10 + 10;\n    this.data.spinTime = 0;\n    this.data.spinTimeTotal = Math.random() * 3 + 4 * this.data.spinVelocity;\n\n    if(!this.data.isSpinning && isForward) {\n      this.data.isSpinning = true;\n      this.rotate(true);\n    } else if (!this.data.isSpinning && !isForward) {\n      this.data.isSpinning = true;\n      this.rotate(false);\n    }\n  };\n\n  Wheel.prototype.retIsSpinning = function() {\n    return this.data.isSpinning;\n  };\n\n  Wheel.prototype.addToStartAngle = function(angle) {\n    this.data.startAngle += angle;\n  };\n\n  Wheel.prototype.rotate = function(isForward) {\n    var self = this;\n    this.data.spinTime += 30;\n    if(this.data.spinTime >= this.data.spinTimeTotal) {\n      this.stopRotate();\n      this.data.isSpinning = false;\n      return;\n    }\n    var spinAngle = this.data.spinAngleStart - this.easeOut(this.data.spinTime, 0, this.data.spinAngleStart, this.data.spinTimeTotal);\n    if(isForward) {\n      this.data.startAngle += (spinAngle * Math.PI / 180);\n    } else {\n      this.data.startAngle -= (spinAngle * Math.PI / 180);\n    }\n    this.draw();\n    this.data.spinTimeout = setTimeout(function() {\n      self.rotate(isForward);\n    }, 30);\n  };\n\n  Wheel.prototype.stopRotate = function() {\n    clearTimeout(this.data.spinTimeout);\n    var degrees = this.data.startAngle * 180 / Math.PI + 90,\n      arcd = this.data.arc * 180 / Math.PI,\n      index = Math.floor((360 - degrees % 360) / arcd);\n    this.data.ctx.save();\n\n    if(degrees < 0) {\n      degrees = Math.abs(degrees);\n      index = Math.floor((degrees % 360) / arcd);\n    }\n\n    var resultName = this.data.restaurants[index].name.split(' ').join('+'),\n      mapURL = \"http://maps.google.com/maps/dir/\",\n\t\t\toriginCoords = WOL.app.geolocation.position.latitude + \",\" + WOL.app.geolocation.position.longitude;\n\n    /* Display Result */\n    //WOL.app.lightboxes.result = new ResultLightbox();\n\n    this.data.ctx.restore();\n\n    //WOL.app.confetti = new Confetti();\n  };\n\n  Wheel.prototype.printName = function(text, x, y, lineHeight, fitWidth) {\n    var str, splitDash, headText, tailText, idx;\n    fitWidth = fitWidth || 0;\n\n    if(fitWidth <= 0) {\n      this.data.ctx.fillText(text, x, y);\n      return;\n    }\n\n    for(idx = 1; idx <= text.length; idx++) {\n      str = text.substr(0, idx);\n\n      if(this.data.ctx.measureText(str).width > fitWidth) {\n        splitDash = (text.charAt(idx - 2) != \" \") ? \"-\" : \"\";\n        headText = text.substr(0, idx - 1) + splitDash;\n        tailText = text.substr(idx - 1);\n        this.data.ctx.fillText(headText, -this.data.ctx.measureText(headText).width / 2, y - lineHeight);\n        this.printName(tailText, -this.data.ctx.measureText(tailText).width / 2, y + lineHeight, lineHeight, fitWidth - 10);\n        return;\n      }\n    }\n\n    this.data.ctx.fillText(text, x, (y ? y - lineHeight : y));\n  };\n\n  Wheel.prototype.easeOut = function(t, b, c, d) {\n    var ts = (t /= d) * t;\n    var tc = ts * t;\n\n    return b + c * (tc + -3 * ts + 3 * t);\n  };\n\n  Wheel.prototype.setRestaurants = function(restaurants) {\n    this.data.restaurants = restaurants;\n    this.data.arc = Math.PI / (this.data.restaurants.length / 2);\n  };\n\n  return Wheel;\n}());\n\n},{\"../data/colours.js\":1,\"../data/restaurants.js\":2,\"../lightboxes/resultLightbox.js\":8,\"./confetti.js\":9}],13:[function(require,module,exports){\nmodule.exports = (function($) {\n\n  'use strict';\n\n}());\n\n},{}],14:[function(require,module,exports){\nmodule.exports = (function() {\n\n  'use strict';\n\n  var Wheel = require('../modules/wheel.js');\n  var LocalisationLightbox = require('../lightboxes/localisationLightbox.js');\n  var Map = require('../modules/map.js');\n  var Geolocation = require('../modules/geolocation.js');\n  var Confetti = require('../modules/confetti.js');\n\n  WOL.app.wheel = new Wheel('wheel');\n  WOL.app.lightbox.localisation = new LocalisationLightbox();\n\n}());\n\n},{\"../lightboxes/localisationLightbox.js\":6,\"../modules/confetti.js\":9,\"../modules/geolocation.js\":10,\"../modules/map.js\":11,\"../modules/wheel.js\":12}],15:[function(require,module,exports){\nmodule.exports = {\n  app: { lightbox: {} },\n  modules: {},\n  global: {},\n  page: {},\n  utils: {},\n  data: {}\n};\n\n},{}],16:[function(require,module,exports){\nmodule.exports = \"<div id=\\\"localisation-error\\\" class=\\\"alert alert-danger localisation\\\" role=\\\"alert\\\"><p>Oops! We can't find your location. <button id=\\\"localisation-continue-button\\\" type=\\\"button\\\" class=\\\"btn btn-danger btn-sm\\\"> Continue anyway</button></p></div>\";\n\n},{}],17:[function(require,module,exports){\nmodule.exports = \"<div id=\\\"geolocation\\\" class=\\\"panel panel-default localisation search-localisation\\\"><div class=\\\"panel-body\\\"><p>Hang on a moment, we are just getting your location<span class=\\\"one\\\">.</span><span class=\\\"two\\\">.</span><span class=\\\"three\\\">.</span></p></div></div>\";\n\n},{}],18:[function(require,module,exports){\nmodule.exports = \"<div id=\\\"localisation\\\" class=\\\"panel panel-default select-localisation\\\"><div class=\\\"panel-body\\\"><p>Please select an option</p> <button type=\\\"button\\\" id=\\\"location-option-current\\\" class=\\\"btn btn-success\\\">Use my location</button> <button type=\\\"button\\\" id=\\\"location-option-find\\\" class=\\\"btn btn-info\\\">Find a location</button></div></div>\";\n\n},{}]},{},[3])\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzb3VyY2UvanMvZGF0YS9jb2xvdXJzLmpzIiwic291cmNlL2pzL2RhdGEvcmVzdGF1cmFudHMuanMiLCJzb3VyY2UvanMvaW5pdC5qcyIsInNvdXJjZS9qcy9saWdodGJveGVzL2Vycm9yTG9jYXRpb25MaWdodGJveC5qcyIsInNvdXJjZS9qcy9saWdodGJveGVzL2dlb2xvY2F0aW9uTGlnaHRib3guanMiLCJzb3VyY2UvanMvbGlnaHRib3hlcy9sb2NhbGlzYXRpb25MaWdodGJveC5qcyIsInNvdXJjZS9qcy9saWdodGJveGVzL21hcExpZ2h0Ym94LmpzIiwic291cmNlL2pzL2xpZ2h0Ym94ZXMvcmVzdWx0TGlnaHRib3guanMiLCJzb3VyY2UvanMvbW9kdWxlcy9jb25mZXR0aS5qcyIsInNvdXJjZS9qcy9tb2R1bGVzL2dlb2xvY2F0aW9uLmpzIiwic291cmNlL2pzL21vZHVsZXMvd2hlZWwuanMiLCJzb3VyY2UvanMvcGFnZXMvZ2xvYmFsLmpzIiwic291cmNlL2pzL3BhZ2VzL21haW4uanMiLCJzb3VyY2UvanMvd2hlZWwtb2YtbHVuY2guanMiLCJzb3VyY2UvdGVtcGxhdGVzL2xvY2FsaXNhdGlvbi1lcnJvci5odG1sIiwic291cmNlL3RlbXBsYXRlcy9sb2NhbGlzYXRpb24tbG9hZGluZy5odG1sIiwic291cmNlL3RlbXBsYXRlcy9sb2NhbGlzYXRpb24uaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICAgIGJnQ29sb3VyOiBbXG4gICAgXHRcIiNCOEQ0MzBcIixcbiAgICBcdFwiIzNBQjc0NVwiLFxuICAgIFx0XCIjMDI5OTkwXCIsXG4gICAgXHRcIiMzNTAxQ0JcIixcbiAgICBcdFwiIzJFMkM3NVwiLFxuICAgIFx0XCIjNjczQTdFXCIsXG4gICAgXHRcIiNDQzAwNzFcIixcbiAgICBcdFwiI0Y4MDEyMFwiLFxuICAgIFx0XCIjRjM1QjIwXCIsXG4gICAgXHRcIiNGQjlBMDBcIixcbiAgICBcdFwiI0ZGQ0MwMFwiLFxuICAgIFx0XCIjRkVGMjAwXCJcbiAgICBdLFxuICAgIGZvbnRDb2xvdXI6IFtcbiAgICBcdFwiIzMzM1wiLFxuICAgIFx0XCIjMzMzXCIsXG4gICAgXHRcIiMzMzNcIixcbiAgICBcdFwiI0ZGRlwiLFxuICAgIFx0XCIjRkZGXCIsXG4gICAgXHRcIiNGRkZcIixcbiAgICBcdFwiI0ZGRlwiLFxuICAgIFx0XCIjMzMzXCIsXG4gICAgXHRcIiMzMzNcIixcbiAgICBcdFwiIzMzM1wiLFxuICAgIFx0XCIjMzMzXCIsXG4gICAgXHRcIiMzMzNcIlxuICAgIF1cbiAgfTtcbn0oKSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCkge1xuXG4gIHJldHVybiBbXG4gICAgICB7bmFtZTpcIldlbmR5J3NcIiwgbGF0OlwiXCIsIGxuZzpcIlwiLCB2aWNpbml0eTpcIlwifSwge25hbWU6XCJNY0RvbmFsZHNcIiwgbGF0OlwiXCIsIGxuZzpcIlwiLCB2aWNpbml0eTpcIlwifSxcbiAgICAgIHtuYW1lOlwiQ2hpY2stZmlsLWFcIiwgbGF0OlwiXCIsIGxuZzpcIlwiLCB2aWNpbml0eTpcIlwifSwge25hbWU6XCJGaXZlIEd1eXNcIiwgbGF0OlwiXCIsIGxuZzpcIlwiLCB2aWNpbml0eTpcIlwifSxcbiAgICAgIHtuYW1lOlwiR29sZCBTdGFyXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sIHtuYW1lOlwiTGEgTWV4aWNhbmFcIiwgbGF0OlwiXCIsIGxuZzpcIlwiLCB2aWNpbml0eTpcIlwifSxcbiAgICAgIHtuYW1lOlwiQ2hpcG90bGVcIiwgbGF0OlwiXCIsIGxuZzpcIlwiLCB2aWNpbml0eTpcIlwifSwge25hbWU6XCJUYXp6YSBNaWFcIiwgbGF0OlwiXCIsIGxuZzpcIlwiLCB2aWNpbml0eTpcIlwifSxcbiAgICAgIHtuYW1lOlwiUGFuZXJhXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sIHtuYW1lOlwiSnVzdCBDcmVwZXNcIiwgbGF0OlwiXCIsIGxuZzpcIlwiLCB2aWNpbml0eTpcIlwifSxcbiAgICAgIHtuYW1lOlwiQXJieSdzXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sIHtuYW1lOlwiSW5kaWFuXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn1cbiAgICBdO1xuXG59KCkpO1xuIiwiKGZ1bmN0aW9uKCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgV09MID0gd2luZG93LldPTCA9IHJlcXVpcmUoJy4vd2hlZWwtb2YtbHVuY2guanMnKTtcblxuICByZXF1aXJlKCcuL3BhZ2VzL2dsb2JhbC5qcycpO1xuICByZXF1aXJlKCcuL3BhZ2VzL21haW4uanMnKTtcblxufSkoKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCQpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyogQ29uc3RhbnRzICovXG4gIHZhciBIVE1MX09VVFBVVCA9IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9sb2NhbGlzYXRpb24tZXJyb3IuaHRtbCcpO1xuICB2YXIgSUQgPSAnI2xvY2FsaXNhdGlvbi1lcnJvcic7XG5cbiAgLyogQnV0dG9ucyAqL1xuICB2YXIgQ09OVElOVUVfQlVUVE9OID0gJyNsb2NhbGlzYXRpb24tY29udGludWUtYnV0dG9uJztcblxuICBmdW5jdGlvbiBFcnJvckxvY2F0aW9uTGlnaHRib3goKSB7XG5cbiAgICB0aGlzLmVsZW1zID0ge1xuICAgICAgaWQ6IElELFxuICAgICAgcm9vdDogbnVsbFxuICAgIH1cblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgRXJyb3JMb2NhdGlvbkxpZ2h0Ym94LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hZGRXaW5kb3coKTtcbiAgfTtcblxuICBFcnJvckxvY2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmFkZFdpbmRvdyA9IGZ1bmN0aW9uKCkge1xuICAgICQoJ2JvZHknKS5wcmVwZW5kKEhUTUxfT1VUUFVUKTtcbiAgICB0aGlzLmVsZW1zLnJvb3QgPSAkKElEKTtcbiAgICB0aGlzLmFkZEV2ZW50cygpO1xuICB9O1xuXG4gIEVycm9yTG9jYXRpb25MaWdodGJveC5wcm90b3R5cGUuY2xvc2VXaW5kb3cgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVsZW1zLnJvb3QucmVtb3ZlKCk7XG4gIH07XG5cbiAgRXJyb3JMb2NhdGlvbkxpZ2h0Ym94LnByb3RvdHlwZS5hZGRFdmVudHMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAkKENPTlRJTlVFX0JVVFRPTikub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmNsb3NlV2luZG93KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIEVycm9yTG9jYXRpb25MaWdodGJveDtcbn0oalF1ZXJ5KSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigkKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBHZW9sb2NhdGlvbiA9IHJlcXVpcmUoJy4uL21vZHVsZXMvZ2VvbG9jYXRpb24uanMnKTtcblxuICAvKiBDb25zdGFudHMgKi9cbiAgdmFyIEhUTUxfT1VUUFVUID0gcmVxdWlyZSgnLi4vLi4vdGVtcGxhdGVzL2xvY2FsaXNhdGlvbi1sb2FkaW5nLmh0bWwnKTtcbiAgdmFyIElEID0gJyNnZW9sb2NhdGlvbic7XG5cbiAgZnVuY3Rpb24gR2VvbG9jYXRpb25MaWdodGJveCgpIHtcblxuICAgIHRoaXMuZWxlbXMgPSB7XG4gICAgICBpZDogSUQsXG4gICAgICByb290OiBudWxsXG4gICAgfVxuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBHZW9sb2NhdGlvbkxpZ2h0Ym94LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hZGRXaW5kb3coKTtcbiAgfVxuXG4gIEdlb2xvY2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmFkZFdpbmRvdyA9IGZ1bmN0aW9uKCkge1xuICAgICQoJ2JvZHknKS5wcmVwZW5kKEhUTUxfT1VUUFVUKTtcbiAgICB0aGlzLmVsZW1zLnJvb3QgPSAkKElEKTtcbiAgICB0aGlzLmdldExvY2F0aW9uKCk7XG4gIH1cblxuICBHZW9sb2NhdGlvbkxpZ2h0Ym94LnByb3RvdHlwZS5jbG9zZVdpbmRvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZWxlbXMucm9vdC5yZW1vdmUoKTtcbiAgfVxuXG4gIEdlb2xvY2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmdldExvY2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIFdPTC5hcHAuZ2VvbG9jYXRpb24gPSBuZXcgR2VvbG9jYXRpb24oZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmNsb3NlV2luZG93KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIEdlb2xvY2F0aW9uTGlnaHRib3g7XG59KGpRdWVyeSkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oJCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgR2VvbG9jYXRpb25MaWdodGJveCA9IHJlcXVpcmUoJy4vZ2VvbG9jYXRpb25MaWdodGJveC5qcycpO1xuICB2YXIgTWFwTGlnaHRib3ggPSByZXF1aXJlKCcuL21hcExpZ2h0Ym94LmpzJyk7XG5cbiAgLyogQ29uc3RhbnRzICovXG4gIHZhciBIVE1MX09VVFBVVCA9IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9sb2NhbGlzYXRpb24uaHRtbCcpO1xuICB2YXIgSUQgPSAnI2xvY2FsaXNhdGlvbic7XG5cbiAgLyogQnV0dG9ucyAqL1xuICB2YXIgQ1VSUkVOVF9MT0NBVElPTl9CVVRUT04gPSAnI2xvY2F0aW9uLW9wdGlvbi1jdXJyZW50JztcbiAgdmFyIEZJTkRfTE9DQVRJT05fQlVUVE9OID0gJyNsb2NhdGlvbi1vcHRpb24tZmluZCc7XG5cbiAgZnVuY3Rpb24gTG9jYWxpc2F0aW9uTGlnaHRib3goKSB7XG5cbiAgICB0aGlzLmVsZW1zID0ge1xuICAgICAgaWQ6IElELFxuICAgICAgcm9vdDogbnVsbFxuICAgIH1cblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgTG9jYWxpc2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmFkZFdpbmRvdygpO1xuICB9O1xuXG4gIExvY2FsaXNhdGlvbkxpZ2h0Ym94LnByb3RvdHlwZS5hZGRXaW5kb3cgPSBmdW5jdGlvbigpIHtcbiAgICAkKCdib2R5JykucHJlcGVuZChIVE1MX09VVFBVVCk7XG4gICAgdGhpcy5lbGVtcy5yb290ID0gJChJRCk7XG4gICAgdGhpcy5hZGRFdmVudHMoKTtcbiAgfTtcblxuICBMb2NhbGlzYXRpb25MaWdodGJveC5wcm90b3R5cGUuY2xvc2VXaW5kb3cgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVsZW1zLnJvb3QucmVtb3ZlKCk7XG4gIH07XG5cbiAgTG9jYWxpc2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICQoQ1VSUkVOVF9MT0NBVElPTl9CVVRUT04pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5zaG93Q3VycmVudExvY2F0aW9uTGlnaHRib3goKTtcbiAgICAgIHNlbGYuY2xvc2VXaW5kb3coKTtcbiAgICB9KTtcblxuICAgICQoRklORF9MT0NBVElPTl9CVVRUT04pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5zaG93RmluZExvY2F0aW9uTGlnaHRib3goKTtcbiAgICAgIHNlbGYuY2xvc2VXaW5kb3coKTtcbiAgICB9KTtcbiAgfTtcblxuICBMb2NhbGlzYXRpb25MaWdodGJveC5wcm90b3R5cGUuc2hvd0N1cnJlbnRMb2NhdGlvbkxpZ2h0Ym94ID0gZnVuY3Rpb24oKSB7XG4gICAgV09MLmFwcC5saWdodGJveC5HZW9sb2NhdGlvbiA9IG5ldyBHZW9sb2NhdGlvbkxpZ2h0Ym94KCk7XG4gIH07XG5cbiAgTG9jYWxpc2F0aW9uTGlnaHRib3gucHJvdG90eXBlLnNob3dGaW5kTG9jYXRpb25MaWdodGJveCA9IGZ1bmN0aW9uKCkge1xuICAgIFdPTC5hcHAubGlnaHRib3guTWFwID0gbmV3IE1hcExpZ2h0Ym94KCk7XG4gIH07XG5cbiAgcmV0dXJuIExvY2FsaXNhdGlvbkxpZ2h0Ym94O1xufShqUXVlcnkpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBNYXBMaWdodGJveCgpIHtcblxuICB9XG5cbiAgcmV0dXJuIE1hcExpZ2h0Ym94O1xufSgpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBSZXN1bHRMaWdodGJveCgpIHtcblxuICB9XG5cbiAgcmV0dXJuIFJlc3VsdExpZ2h0Ym94O1xufSgpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxufSgpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgRXJyb3JMb2NhdGlvbkxpZ2h0Ym94ID0gcmVxdWlyZSgnLi4vbGlnaHRib3hlcy9lcnJvckxvY2F0aW9uTGlnaHRib3guanMnKTtcblxuICBmdW5jdGlvbiBHZW9sb2NhdGlvbihjYWxsYmFjaykge1xuXG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMucG9zaXRpb24gPSB7fTtcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcbiAgICAgIG1heGltdW1BZ2U6IDBcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRMb2NhdGlvbigpO1xuICB9XG5cbiAgR2VvbG9jYXRpb24ucHJvdG90eXBlLmdldExvY2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbih0aGlzLnN1Y2Nlc3MsIHRoaXMuZXJyb3IsIHRoaXMub3B0aW9ucyk7XG4gIH07XG5cbiAgR2VvbG9jYXRpb24ucHJvdG90eXBlLnN1Y2Nlc3MgPSBmdW5jdGlvbihwb3MpIHtcbiAgICBXT0wuYXBwLmdlb2xvY2F0aW9uLnBvc2l0aW9uID0gcG9zLmNvb3JkcztcbiAgICBXT0wuYXBwLmdlb2xvY2F0aW9uLmNhbGxiYWNrKCk7XG4gIH07XG5cbiAgR2VvbG9jYXRpb24ucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24oZXJyKSB7XG4gICAgV09MLmFwcC5nZW9sb2NhdGlvbi5jYWxsYmFjaygpO1xuICAgIFdPTC5hcHAubGlnaHRib3guTm9Mb2NhdGlvbkxpZ2h0Ym94ID0gbmV3IEVycm9yTG9jYXRpb25MaWdodGJveCgpO1xuICB9O1xuXG4gIEdlb2xvY2F0aW9uLnByb3RvdHlwZS5jbG9zZVBhcmVudFdpbmRvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZWxlbXMucGFyZW50Um9vdC5yZW1vdmUoKTtcbiAgfTtcblxuICByZXR1cm4gR2VvbG9jYXRpb247XG59KCkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBjb2xvdXJzID0gcmVxdWlyZSgnLi4vZGF0YS9jb2xvdXJzLmpzJyk7XG4gIHZhciBkZWZhdWx0UmVzdGF1cmFudHMgPSByZXF1aXJlKCcuLi9kYXRhL3Jlc3RhdXJhbnRzLmpzJyk7XG4gIHZhciBSZXN1bHRMaWdodGJveCA9IHJlcXVpcmUoJy4uL2xpZ2h0Ym94ZXMvcmVzdWx0TGlnaHRib3guanMnKTtcbiAgdmFyIENvbmZldHRpID0gcmVxdWlyZSgnLi9jb25mZXR0aS5qcycpO1xuXG4gIC8qIEJ1dHRvbnMgKi9cbiAgdmFyIFNQSU5fQlVUVE9OID0gJyNzcGluJztcblxuICBmdW5jdGlvbiBXaGVlbChzZWxlY3Rvcikge1xuXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGVjdG9yKTtcblxuICAgIGlmKCFjYW52YXMuZ2V0Q29udGV4dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZGF0YSA9IHtcbiAgICAgIGNhbnZhczogY2FudmFzLFxuICAgICAgcmVzdGF1cmFudHM6IGRlZmF1bHRSZXN0YXVyYW50cyxcbiAgICAgIHdpZHRoOiA2MDAsXG4gICAgICBoZWlnaHQ6IDYwMCxcbiAgICAgIHN0YXJ0QW5nbGU6IDAsXG4gICAgICBzcGluVGltZW91dDogbnVsbCxcbiAgICAgIGlzU3Bpbm5pbmc6IGZhbHNlLFxuICAgICAgc3BpbkFyY1N0YXJ0OiAxMCxcbiAgICAgIHNwaW5UaW1lOiAwLFxuICAgICAgc3BpblRpbWVUb3RhbDogMCxcbiAgICAgIHNwaW5WZWxvY2l0eTogMjAwMCxcbiAgICAgIGN0eDogbnVsbCxcbiAgICAgIHJvdWxldHRlV2hlZWw6IHt9LFxuICAgICAgb3V0c2lkZVJhZGl1czogMjUwLFxuICAgICAgdGV4dFJhZGl1czogMTk0LFxuICAgICAgaW5zaWRlUmFkaXVzOiAxNTAsXG4gICAgICBhbmdsZTogbnVsbCxcbiAgICAgIHRleHQ6IG51bGxcbiAgICB9XG5cbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIFdoZWVsLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5kYXRhLmN0eCA9IHRoaXMuZGF0YS5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIHRoaXMuZGF0YS5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuZGF0YS53aWR0aCwgdGhpcy5kYXRhLmhlaWdodCk7XG4gICAgdGhpcy5kYXRhLmN0eC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICB0aGlzLmRhdGEuY3R4LmZvbnQgPSBcIjEycHggSGVsdmV0aWNhLCBBcmlhbFwiO1xuICAgIHRoaXMuZGF0YS5hcmMgPSBNYXRoLlBJIC8gKHRoaXMuZGF0YS5yZXN0YXVyYW50cy5sZW5ndGggLyAyKTtcblxuICAgIHRoaXMuZHJhdygpO1xuICAgIHRoaXMuYWRkRXZlbnRzKCk7XG4gIH1cblxuICBXaGVlbC5wcm90b3R5cGUuYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgJChTUElOX0JVVFRPTikub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBpZighc2VsZi5yZXRJc1NwaW5uaW5nKCkpIHtcbiAgXHRcdFx0c2VsZi5zcGluKHRydWUpO1xuICBcdFx0fVxuICAgIH0pO1xuICB9O1xuXG4gIFdoZWVsLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuZGF0YS5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuZGF0YS53aWR0aCwgdGhpcy5kYXRhLmhlaWdodCk7XG4gICAgdGhpcy5kYXRhLnJlc3RhdXJhbnRzLmZvckVhY2goZnVuY3Rpb24ocmVzdGF1cmFudCwgaSkge1xuICAgICAgLyogUmVuZGVyIFNlZ21lbnQgKi9cbiAgICAgIHNlbGYuZGF0YS5hbmdsZSA9IHNlbGYuZGF0YS5zdGFydEFuZ2xlICsgaSAqIHNlbGYuZGF0YS5hcmM7XG4gICAgICBzZWxmLmRhdGEuY3R4LmZpbGxTdHlsZSA9IGNvbG91cnMuYmdDb2xvdXJbaV07XG5cbiAgICAgIHNlbGYuZGF0YS5jdHguYmVnaW5QYXRoKCk7XG4gICAgICBzZWxmLmRhdGEuY3R4LmFyYyhzZWxmLmRhdGEud2lkdGggLyAyLCBzZWxmLmRhdGEuaGVpZ2h0IC8gMiwgc2VsZi5kYXRhLm91dHNpZGVSYWRpdXMsIHNlbGYuZGF0YS5hbmdsZSwgc2VsZi5kYXRhLmFuZ2xlICsgc2VsZi5kYXRhLmFyYywgZmFsc2UpO1xuICAgICAgc2VsZi5kYXRhLmN0eC5hcmMoc2VsZi5kYXRhLndpZHRoIC8gMiwgc2VsZi5kYXRhLmhlaWdodCAvIDIsIHNlbGYuZGF0YS5pbnNpZGVSYWRpdXMsIHNlbGYuZGF0YS5hbmdsZSArIHNlbGYuZGF0YS5hcmMsIHNlbGYuZGF0YS5hbmdsZSwgdHJ1ZSk7XG4gICAgICBzZWxmLmRhdGEuY3R4LmZpbGwoKTtcblxuICAgICAgc2VsZi5kYXRhLmN0eC5zYXZlKCk7XG5cbiAgICAgIC8qIFJlbmRlciBUZXh0ICovXG4gICAgICBzZWxmLmRhdGEuY3R4LmZpbGxTdHlsZSA9IGNvbG91cnMuZm9udENvbG91cltpXTtcbiAgICAgIHNlbGYuZGF0YS5jdHgudHJhbnNsYXRlKHNlbGYuZGF0YS53aWR0aCAvIDIgKyBNYXRoLmNvcyhzZWxmLmRhdGEuYW5nbGUgKyBzZWxmLmRhdGEuYXJjIC8yKSAqIHNlbGYuZGF0YS50ZXh0UmFkaXVzLFxuICAgICAgICAgIHNlbGYuZGF0YS5oZWlnaHQgLyAyICsgTWF0aC5zaW4oc2VsZi5kYXRhLmFuZ2xlICsgc2VsZi5kYXRhLmFyYyAvIDIpICogc2VsZi5kYXRhLnRleHRSYWRpdXMpO1xuICAgICAgc2VsZi5kYXRhLmN0eC5yb3RhdGUoc2VsZi5kYXRhLmFuZ2xlICsgc2VsZi5kYXRhLmFyYyAvIDIgKyBNYXRoLlBJIC8gMik7XG4gICAgICBzZWxmLnByaW50TmFtZShyZXN0YXVyYW50Lm5hbWUsIC1zZWxmLmRhdGEuY3R4Lm1lYXN1cmVUZXh0KHJlc3RhdXJhbnQubmFtZSkud2lkdGggLyAyLCAwLCAxNCwgKCgyICogTWF0aC5QaSAqIHNlbGYuZGF0YS50ZXh0UmFkaXVzKSAvIHNlbGYuZGF0YS5yZXN0YXVyYW50cy5sZW5ndGgpIC0gMTApO1xuICAgICAgc2VsZi5kYXRhLmN0eC5yZXN0b3JlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5kcmF3QXJyb3coKTtcbiAgfTtcblxuICBXaGVlbC5wcm90b3R5cGUuZHJhd0Fycm93ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5kYXRhLmN0eC5maWxsU3R5bGUgPSBcIiMzMzNcIjtcbiAgICB0aGlzLmRhdGEuY3R4LmJlZ2luUGF0aCgpO1xuXHRcdHRoaXMuZGF0YS5jdHgubW92ZVRvKHRoaXMuZGF0YS53aWR0aCAvIDIgIC0gNCwgdGhpcy5kYXRhLmhlaWdodCAvIDIgIC0gKHRoaXMuZGF0YS5vdXRzaWRlUmFkaXVzICsgMjUpKTtcblx0XHR0aGlzLmRhdGEuY3R4LmxpbmVUbyh0aGlzLmRhdGEud2lkdGggLyAyICsgNCwgdGhpcy5kYXRhLmhlaWdodCAvIDIgIC0gKHRoaXMuZGF0YS5vdXRzaWRlUmFkaXVzICsgMjUpKTtcblx0XHR0aGlzLmRhdGEuY3R4LmxpbmVUbyh0aGlzLmRhdGEud2lkdGggLyAyICsgNCwgdGhpcy5kYXRhLmhlaWdodCAvIDIgIC0gKHRoaXMuZGF0YS5vdXRzaWRlUmFkaXVzICsgMTUpKTtcblx0XHR0aGlzLmRhdGEuY3R4LmxpbmVUbyh0aGlzLmRhdGEud2lkdGggLyAyICsgOSwgdGhpcy5kYXRhLmhlaWdodCAvIDIgIC0gKHRoaXMuZGF0YS5vdXRzaWRlUmFkaXVzICsgMTUpKTtcblx0XHR0aGlzLmRhdGEuY3R4LmxpbmVUbyh0aGlzLmRhdGEud2lkdGggLyAyICsgMCwgdGhpcy5kYXRhLmhlaWdodCAvIDIgIC0gKHRoaXMuZGF0YS5vdXRzaWRlUmFkaXVzIC0gMCkpO1xuXHRcdHRoaXMuZGF0YS5jdHgubGluZVRvKHRoaXMuZGF0YS53aWR0aCAvIDIgLSA5LCB0aGlzLmRhdGEuaGVpZ2h0IC8gMiAgLSAodGhpcy5kYXRhLm91dHNpZGVSYWRpdXMgKyAxNSkpO1xuXHRcdHRoaXMuZGF0YS5jdHgubGluZVRvKHRoaXMuZGF0YS53aWR0aCAvIDIgLSA0LCB0aGlzLmRhdGEuaGVpZ2h0IC8gMiAgLSAodGhpcy5kYXRhLm91dHNpZGVSYWRpdXMgKyAxNSkpO1xuXHRcdHRoaXMuZGF0YS5jdHgubGluZVRvKHRoaXMuZGF0YS53aWR0aCAvIDIgLSA0LCB0aGlzLmRhdGEuaGVpZ2h0IC8gMiAtICh0aGlzLmRhdGEub3V0c2lkZVJhZGl1cyArIDI1KSk7XG5cdFx0dGhpcy5kYXRhLmN0eC5maWxsKCk7XG4gIH07XG5cbiAgV2hlZWwucHJvdG90eXBlLnNwaW4gPSBmdW5jdGlvbihpc0ZvcndhcmQpIHtcbiAgICB0aGlzLmRhdGEuc3BpbkFuZ2xlU3RhcnQgPSBNYXRoLnJhbmRvbSgpICogMTAgKyAxMDtcbiAgICB0aGlzLmRhdGEuc3BpblRpbWUgPSAwO1xuICAgIHRoaXMuZGF0YS5zcGluVGltZVRvdGFsID0gTWF0aC5yYW5kb20oKSAqIDMgKyA0ICogdGhpcy5kYXRhLnNwaW5WZWxvY2l0eTtcblxuICAgIGlmKCF0aGlzLmRhdGEuaXNTcGlubmluZyAmJiBpc0ZvcndhcmQpIHtcbiAgICAgIHRoaXMuZGF0YS5pc1NwaW5uaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMucm90YXRlKHRydWUpO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuZGF0YS5pc1NwaW5uaW5nICYmICFpc0ZvcndhcmQpIHtcbiAgICAgIHRoaXMuZGF0YS5pc1NwaW5uaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMucm90YXRlKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgV2hlZWwucHJvdG90eXBlLnJldElzU3Bpbm5pbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLmlzU3Bpbm5pbmc7XG4gIH07XG5cbiAgV2hlZWwucHJvdG90eXBlLmFkZFRvU3RhcnRBbmdsZSA9IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gICAgdGhpcy5kYXRhLnN0YXJ0QW5nbGUgKz0gYW5nbGU7XG4gIH07XG5cbiAgV2hlZWwucHJvdG90eXBlLnJvdGF0ZSA9IGZ1bmN0aW9uKGlzRm9yd2FyZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLmRhdGEuc3BpblRpbWUgKz0gMzA7XG4gICAgaWYodGhpcy5kYXRhLnNwaW5UaW1lID49IHRoaXMuZGF0YS5zcGluVGltZVRvdGFsKSB7XG4gICAgICB0aGlzLnN0b3BSb3RhdGUoKTtcbiAgICAgIHRoaXMuZGF0YS5pc1NwaW5uaW5nID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzcGluQW5nbGUgPSB0aGlzLmRhdGEuc3BpbkFuZ2xlU3RhcnQgLSB0aGlzLmVhc2VPdXQodGhpcy5kYXRhLnNwaW5UaW1lLCAwLCB0aGlzLmRhdGEuc3BpbkFuZ2xlU3RhcnQsIHRoaXMuZGF0YS5zcGluVGltZVRvdGFsKTtcbiAgICBpZihpc0ZvcndhcmQpIHtcbiAgICAgIHRoaXMuZGF0YS5zdGFydEFuZ2xlICs9IChzcGluQW5nbGUgKiBNYXRoLlBJIC8gMTgwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kYXRhLnN0YXJ0QW5nbGUgLT0gKHNwaW5BbmdsZSAqIE1hdGguUEkgLyAxODApO1xuICAgIH1cbiAgICB0aGlzLmRyYXcoKTtcbiAgICB0aGlzLmRhdGEuc3BpblRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5yb3RhdGUoaXNGb3J3YXJkKTtcbiAgICB9LCAzMCk7XG4gIH07XG5cbiAgV2hlZWwucHJvdG90eXBlLnN0b3BSb3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5kYXRhLnNwaW5UaW1lb3V0KTtcbiAgICB2YXIgZGVncmVlcyA9IHRoaXMuZGF0YS5zdGFydEFuZ2xlICogMTgwIC8gTWF0aC5QSSArIDkwLFxuICAgICAgYXJjZCA9IHRoaXMuZGF0YS5hcmMgKiAxODAgLyBNYXRoLlBJLFxuICAgICAgaW5kZXggPSBNYXRoLmZsb29yKCgzNjAgLSBkZWdyZWVzICUgMzYwKSAvIGFyY2QpO1xuICAgIHRoaXMuZGF0YS5jdHguc2F2ZSgpO1xuXG4gICAgaWYoZGVncmVlcyA8IDApIHtcbiAgICAgIGRlZ3JlZXMgPSBNYXRoLmFicyhkZWdyZWVzKTtcbiAgICAgIGluZGV4ID0gTWF0aC5mbG9vcigoZGVncmVlcyAlIDM2MCkgLyBhcmNkKTtcbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0TmFtZSA9IHRoaXMuZGF0YS5yZXN0YXVyYW50c1tpbmRleF0ubmFtZS5zcGxpdCgnICcpLmpvaW4oJysnKSxcbiAgICAgIG1hcFVSTCA9IFwiaHR0cDovL21hcHMuZ29vZ2xlLmNvbS9tYXBzL2Rpci9cIixcblx0XHRcdG9yaWdpbkNvb3JkcyA9IFdPTC5hcHAuZ2VvbG9jYXRpb24ucG9zaXRpb24ubGF0aXR1ZGUgKyBcIixcIiArIFdPTC5hcHAuZ2VvbG9jYXRpb24ucG9zaXRpb24ubG9uZ2l0dWRlO1xuXG4gICAgLyogRGlzcGxheSBSZXN1bHQgKi9cbiAgICAvL1dPTC5hcHAubGlnaHRib3hlcy5yZXN1bHQgPSBuZXcgUmVzdWx0TGlnaHRib3goKTtcblxuICAgIHRoaXMuZGF0YS5jdHgucmVzdG9yZSgpO1xuXG4gICAgLy9XT0wuYXBwLmNvbmZldHRpID0gbmV3IENvbmZldHRpKCk7XG4gIH07XG5cbiAgV2hlZWwucHJvdG90eXBlLnByaW50TmFtZSA9IGZ1bmN0aW9uKHRleHQsIHgsIHksIGxpbmVIZWlnaHQsIGZpdFdpZHRoKSB7XG4gICAgdmFyIHN0ciwgc3BsaXREYXNoLCBoZWFkVGV4dCwgdGFpbFRleHQsIGlkeDtcbiAgICBmaXRXaWR0aCA9IGZpdFdpZHRoIHx8IDA7XG5cbiAgICBpZihmaXRXaWR0aCA8PSAwKSB7XG4gICAgICB0aGlzLmRhdGEuY3R4LmZpbGxUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvcihpZHggPSAxOyBpZHggPD0gdGV4dC5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICBzdHIgPSB0ZXh0LnN1YnN0cigwLCBpZHgpO1xuXG4gICAgICBpZih0aGlzLmRhdGEuY3R4Lm1lYXN1cmVUZXh0KHN0cikud2lkdGggPiBmaXRXaWR0aCkge1xuICAgICAgICBzcGxpdERhc2ggPSAodGV4dC5jaGFyQXQoaWR4IC0gMikgIT0gXCIgXCIpID8gXCItXCIgOiBcIlwiO1xuICAgICAgICBoZWFkVGV4dCA9IHRleHQuc3Vic3RyKDAsIGlkeCAtIDEpICsgc3BsaXREYXNoO1xuICAgICAgICB0YWlsVGV4dCA9IHRleHQuc3Vic3RyKGlkeCAtIDEpO1xuICAgICAgICB0aGlzLmRhdGEuY3R4LmZpbGxUZXh0KGhlYWRUZXh0LCAtdGhpcy5kYXRhLmN0eC5tZWFzdXJlVGV4dChoZWFkVGV4dCkud2lkdGggLyAyLCB5IC0gbGluZUhlaWdodCk7XG4gICAgICAgIHRoaXMucHJpbnROYW1lKHRhaWxUZXh0LCAtdGhpcy5kYXRhLmN0eC5tZWFzdXJlVGV4dCh0YWlsVGV4dCkud2lkdGggLyAyLCB5ICsgbGluZUhlaWdodCwgbGluZUhlaWdodCwgZml0V2lkdGggLSAxMCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmRhdGEuY3R4LmZpbGxUZXh0KHRleHQsIHgsICh5ID8geSAtIGxpbmVIZWlnaHQgOiB5KSk7XG4gIH07XG5cbiAgV2hlZWwucHJvdG90eXBlLmVhc2VPdXQgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgdmFyIHRzID0gKHQgLz0gZCkgKiB0O1xuICAgIHZhciB0YyA9IHRzICogdDtcblxuICAgIHJldHVybiBiICsgYyAqICh0YyArIC0zICogdHMgKyAzICogdCk7XG4gIH07XG5cbiAgV2hlZWwucHJvdG90eXBlLnNldFJlc3RhdXJhbnRzID0gZnVuY3Rpb24ocmVzdGF1cmFudHMpIHtcbiAgICB0aGlzLmRhdGEucmVzdGF1cmFudHMgPSByZXN0YXVyYW50cztcbiAgICB0aGlzLmRhdGEuYXJjID0gTWF0aC5QSSAvICh0aGlzLmRhdGEucmVzdGF1cmFudHMubGVuZ3RoIC8gMik7XG4gIH07XG5cbiAgcmV0dXJuIFdoZWVsO1xufSgpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCQpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbn0oKSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIFdoZWVsID0gcmVxdWlyZSgnLi4vbW9kdWxlcy93aGVlbC5qcycpO1xuICB2YXIgTG9jYWxpc2F0aW9uTGlnaHRib3ggPSByZXF1aXJlKCcuLi9saWdodGJveGVzL2xvY2FsaXNhdGlvbkxpZ2h0Ym94LmpzJyk7XG4gIHZhciBNYXAgPSByZXF1aXJlKCcuLi9tb2R1bGVzL21hcC5qcycpO1xuICB2YXIgR2VvbG9jYXRpb24gPSByZXF1aXJlKCcuLi9tb2R1bGVzL2dlb2xvY2F0aW9uLmpzJyk7XG4gIHZhciBDb25mZXR0aSA9IHJlcXVpcmUoJy4uL21vZHVsZXMvY29uZmV0dGkuanMnKTtcblxuICBXT0wuYXBwLndoZWVsID0gbmV3IFdoZWVsKCd3aGVlbCcpO1xuICBXT0wuYXBwLmxpZ2h0Ym94LmxvY2FsaXNhdGlvbiA9IG5ldyBMb2NhbGlzYXRpb25MaWdodGJveCgpO1xuXG59KCkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFwcDogeyBsaWdodGJveDoge30gfSxcbiAgbW9kdWxlczoge30sXG4gIGdsb2JhbDoge30sXG4gIHBhZ2U6IHt9LFxuICB1dGlsczoge30sXG4gIGRhdGE6IHt9XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgaWQ9XFxcImxvY2FsaXNhdGlvbi1lcnJvclxcXCIgY2xhc3M9XFxcImFsZXJ0IGFsZXJ0LWRhbmdlciBsb2NhbGlzYXRpb25cXFwiIHJvbGU9XFxcImFsZXJ0XFxcIj48cD5Pb3BzISBXZSBjYW4ndCBmaW5kIHlvdXIgbG9jYXRpb24uIDxidXR0b24gaWQ9XFxcImxvY2FsaXNhdGlvbi1jb250aW51ZS1idXR0b25cXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGFuZ2VyIGJ0bi1zbVxcXCI+IENvbnRpbnVlIGFueXdheTwvYnV0dG9uPjwvcD48L2Rpdj5cIjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGlkPVxcXCJnZW9sb2NhdGlvblxcXCIgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgbG9jYWxpc2F0aW9uIHNlYXJjaC1sb2NhbGlzYXRpb25cXFwiPjxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiPjxwPkhhbmcgb24gYSBtb21lbnQsIHdlIGFyZSBqdXN0IGdldHRpbmcgeW91ciBsb2NhdGlvbjxzcGFuIGNsYXNzPVxcXCJvbmVcXFwiPi48L3NwYW4+PHNwYW4gY2xhc3M9XFxcInR3b1xcXCI+Ljwvc3Bhbj48c3BhbiBjbGFzcz1cXFwidGhyZWVcXFwiPi48L3NwYW4+PC9wPjwvZGl2PjwvZGl2PlwiO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgaWQ9XFxcImxvY2FsaXNhdGlvblxcXCIgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgc2VsZWN0LWxvY2FsaXNhdGlvblxcXCI+PGRpdiBjbGFzcz1cXFwicGFuZWwtYm9keVxcXCI+PHA+UGxlYXNlIHNlbGVjdCBhbiBvcHRpb248L3A+IDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBpZD1cXFwibG9jYXRpb24tb3B0aW9uLWN1cnJlbnRcXFwiIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3NcXFwiPlVzZSBteSBsb2NhdGlvbjwvYnV0dG9uPiA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgaWQ9XFxcImxvY2F0aW9uLW9wdGlvbi1maW5kXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1pbmZvXFxcIj5GaW5kIGEgbG9jYXRpb248L2J1dHRvbj48L2Rpdj48L2Rpdj5cIjtcbiJdfQ==\n"],"sourceRoot":"/source/"}