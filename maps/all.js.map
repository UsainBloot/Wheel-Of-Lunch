{"version":3,"sources":["all.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","Hogan","cleanTripleStache","token","substr","substring","trim","replace","tagChange","tag","text","index","charAt","buildTree","tokens","kind","stack","customTags","instructions","opener","tail","shift","allowedInSuper","tags","isOpener","push","nodes","pop","isCloser","end","last","close","open","c","stringifySubstitutions","obj","items","key","esc","join","stringifyPartials","codeObj","partials","name","subs","rSlash","rQuot","rNewline","rCr","rLineSep","rParagraphSep","chooseMethod","indexOf","createPartial","node","context","prefix","sym","serialNo","indent","tripleStache","write","rIsWhitespace","#","^","<","$","/","!",">","=","_v","{","&","_t","scan","delimiters","addBuf","buf","String","lineIsWhitespace","isAllWhitespace","j","lineStart","match","filterLine","haveSeenTag","noNewLine","next","toString","splice","seenTag","changeDelimiters","ctag","closeIndex","split","otag","len","IN_TEXT","IN_TAG_TYPE","IN_TAG","state","tagType","\n","stringify","options","wrapMain","generate","tree","walk","asString","this","makeTemplate","template","Template","makePartials","Function","codegen","ctx","inPartial","nodelist","func","parse","sectionTags","cache","cacheKey","disableLambda","modelGet","compile","instance",2,"./compiler","./template",3,"findInScope","scope","doModelGet","val","undefined","get","createSpecializedPartial","stackSubs","stackPartials","stackText","PartialTemplate","Substitutions","prototype","partial","subsText","coerceToString","hoganEscape","str","hChars","test","rAmp","rLt","rGt","rApos","compiler","v","render","ri","ep","symbol","base","activeSub","rp","rs","section","isArray","inverted","start","pass","ms","d","returnFound","found","names","cx","mv","ls","oldTags","b","ct","fl","textSource","result","sub","Array","Object",4,"bgColour","fontColour",5,"lat","lng","vicinity",6,"Settings","elems","id","ID","root","settings","placeType","latitude","longitude","radius","maxPlaces","shareLink","dynamicSearch","URLparams","WOL","app","utilities","getURLParams","init","Places","HTML_OUTPUT","OPEN_CLOSE_BUTTON","PLACE_TYPE_RADIO","LAT_INPUT","LNG_INPUT","RAD_INPUT","MAX_PLACES_INPUT","SHARE_LINK_INPUT","SEARCH_BUTTON","DYNAMIC_SEARCH_INPUT","type","maxplaces","addWindow","populate","addEvents","prepend","self","on","remove","toggleClass","save","places","prop","getShareLink","is","setLatLong","position","setRadius","url","window","location","origin","pathname","params","long","param","jQuery","../../templates/settings.html","../modules/places.js",7,"./pages/global.js","./pages/main.js","./wheel-of-lunch.js",8,"ErrorLocationLightbox","CONTINUE_BUTTON","closeWindow","../../templates/localisation-error.html",9,"GeolocationLightbox","Geolocation","getLocation","geolocation","../../templates/localisation-loading.html","../modules/geolocation.js",10,"LocalisationLightbox","MapLightbox","CURRENT_LOCATION_BUTTON","FIND_LOCATION_BUTTON","showCurrentLocationLightbox","showFindLocationLightbox","lightbox","Map","../../templates/localisation.html","./geolocationLightbox.js","./mapLightbox.js",11,12,"ResultLightbox","restaurant","RATING","RATING_FG","CLOSE_BUTTON","href","buildHref","title","rating","displayRatings","css","resultName","mapURL","originCoords","../../templates/result.mustache",13,14,"callback","enableHighAccuracy","maximumAge","navigator","getCurrentPosition","success","error","pos","coords","err","NoLocationLightbox","closeParentWindow","parentRoot","../lightboxes/errorLocationLightbox.js","./places.js",15,"userOptions","radiusIncrement","restaurants","getPlaces","API_URL","getJSON","buildQueryParams","data","expandSearchRadius","parseInt","wheel","setRestaurants","draw",16,"Utilities","hash","vars","hashes","slice",17,"Wheel","selector","canvas","document","getElementById","$canvas","getContext","defaultRestaurants","width","height","startAngle","spinTimeout","isSpinning","spinArcStart","spinTime","spinTimeTotal","spinVelocity","rouletteWheel","outsideRadius","textRadius","insideRadius","angle","drag","clickedX","clickedY","currentDragX","currentDragY","previousDragX","previousDragY","isDragging","changedAngle","arcAngle","colours","SPIN_BUTTON","clearRect","strokeStyle","font","arc","Math","PI","retIsSpinning","spin","mousedown","pageX","pageY","mousemove","atan2","top","left","addToStartAngle","mouseup","mouseout","forEach","fillStyle","beginPath","fill","translate","cos","sin","rotate","printName","measureText","restore","drawArrow","moveTo","lineTo","isForward","spinAngleStart","random","stopRotate","spinAngle","easeOut","setTimeout","clearTimeout","degrees","arcd","floor","abs","x","y","lineHeight","fitWidth","splitDash","headText","tailText","idx","fillText","ts","tc","../data/colours.js","../data/restaurants.js","../lightboxes/resultLightbox.js","./confetti.js",18,19,"showLocalisationOptions","localisation","../elements/settings.js","../lightboxes/localisationLightbox.js","../modules/utilities","../modules/wheel.js",20,"modules","global","page","utils",21,22,23,24,"p","hogan.js",25],"mappings":"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","file":"all.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1, '^': 2, '<': 3, '$': 4,\n    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n    '{': 10, '&': 11, '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({tag: '_t', text: new String(buf)});\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = { code: '', subs: {}, partials: {} };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r')\n            .replace(rLineSep, '\\\\u2028')\n            .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {name: node.n, partials: {}};\n    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n                      't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})(typeof exports !== 'undefined' ? exports : Hogan);\n\n},{}],2:[function(require,module,exports){\n/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n// This file is for use with Node.js. See dist/ for browser files.\n\nvar Hogan = require('./compiler');\nHogan.Template = require('./template').Template;\nHogan.template = Hogan.Template;\nmodule.exports = Hogan;\n\n},{\"./compiler\":1,\"./template\":3}],3:[function(require,module,exports){\n/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n\n},{}],4:[function(require,module,exports){\nmodule.exports = (function() {\n  'use strict';\n  return {\n      bgColour: [\n    \t\"#B8D430\",\n    \t\"#3AB745\",\n    \t\"#029990\",\n    \t\"#3501CB\",\n    \t\"#2E2C75\",\n    \t\"#673A7E\",\n    \t\"#CC0071\",\n    \t\"#F80120\",\n    \t\"#F35B20\",\n    \t\"#FB9A00\",\n    \t\"#FFCC00\",\n    \t\"#FEF200\"\n    ],\n    fontColour: [\n    \t\"#333\",\n    \t\"#333\",\n    \t\"#333\",\n    \t\"#FFF\",\n    \t\"#FFF\",\n    \t\"#FFF\",\n    \t\"#FFF\",\n    \t\"#333\",\n    \t\"#333\",\n    \t\"#333\",\n    \t\"#333\",\n    \t\"#333\"\n    ]\n  };\n}());\n\n},{}],5:[function(require,module,exports){\nmodule.exports = (function() {\n  'use strict';\n  return [\n      {name:\"Wendy's\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"McDonalds\", lat:\"\", lng:\"\", vicinity:\"\"},\n      {name:\"Chick-fil-a\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"Five Guys\", lat:\"\", lng:\"\", vicinity:\"\"},\n      {name:\"Gold Star\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"La Mexicana\", lat:\"\", lng:\"\", vicinity:\"\"},\n      {name:\"Chipotle\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"Tazza Mia\", lat:\"\", lng:\"\", vicinity:\"\"},\n      {name:\"Panera\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"Just Crepes\", lat:\"\", lng:\"\", vicinity:\"\"},\n      {name:\"Arby's\", lat:\"\", lng:\"\", vicinity:\"\"}, {name:\"Indian\", lat:\"\", lng:\"\", vicinity:\"\"}\n    ];\n\n}());\n\n},{}],6:[function(require,module,exports){\nmodule.exports = (function($) {\n\n  'use strict';\n\n  var Places = require('../modules/places.js');\n\n  /* Constants */\n  var HTML_OUTPUT = require('../../templates/settings.html');\n  var ID = '#settings';\n\n  /* Buttons & Inputs */\n  var OPEN_CLOSE_BUTTON = '#settings a.settings';\n  var CLICK_ME_TEXT = '#settings .clickme';\n  var PLACE_TYPE_RADIO = '#settings .placetype';\n  var LAT_INPUT = '#settings input.latitude';\n  var LNG_INPUT = '#settings input.longitude';\n  var RAD_INPUT = '#settings input.radius';\n  var MAX_PLACES_INPUT = '#settings input.maxplaces';\n  var SHARE_LINK_INPUT = '#settings input.sharelink';\n  var SEARCH_BUTTON = '#settings-search';\n  var DYNAMIC_SEARCH_INPUT = '#settings input.dynamic-search';\n\n  function Settings() {\n\n    this.elems = {\n      id: ID,\n      root: null\n    };\n\n    this.settings = {\n      placeType: 'restaurant',\n      latitude: '',\n      longitude: '',\n      radius: 300,\n      maxPlaces: 12,\n      shareLink: '',\n      dynamicSearch: false\n    };\n\n    this.URLparams = WOL.app.utilities.getURLParams();\n\n    this.init();\n  }\n\n  Settings.prototype.init = function() {\n    if(typeof this.URLparams.lat !== 'undefined') { this.settings.latitude = this.URLparams.lat; }\n    if(typeof this.URLparams.long !== 'undefined') { this.settings.longitude = this.URLparams.long; }\n    if(typeof this.URLparams.radius !== 'undefined') { this.settings.radius = this.URLparams.radius; }\n    if(typeof this.URLparams.type !== 'undefined') { this.settings.placeType = this.URLparams.type; }\n    if(typeof this.URLparams.maxplaces !== 'undefined') { this.settings.maxPlaces = this.URLparams.maxplaces; }\n\n    this.elems.root = $(ID);\n    this.addWindow();\n    this.populate();\n    this.addEvents();\n  };\n\n  Settings.prototype.addWindow = function() {\n    $('body').prepend(HTML_OUTPUT);\n  };\n\n  Settings.prototype.addEvents = function() {\n    var self = this;\n\n    $(OPEN_CLOSE_BUTTON).on('click', function() {\n      $('.clickme').remove();\n      $('.settings').toggleClass('settings-open');\n    });\n\n    $(SEARCH_BUTTON).on('click', function() {\n      self.save();\n      WOL.app.places = new Places(self.settings);\n    });\n  };\n\n  Settings.prototype.populate = function() {\n    $(PLACE_TYPE_RADIO + '.' + this.settings.placeType).prop('checked', true);\n    $(LAT_INPUT).val(this.settings.latitude);\n    $(LNG_INPUT).val(this.settings.longitude);\n    $(RAD_INPUT).val(this.settings.radius);\n    $(MAX_PLACES_INPUT).val(this.settings.maxPlaces);\n    this.settings.shareLink = this.getShareLink();\n    $(SHARE_LINK_INPUT).val(this.settings.shareLink);\n  };\n\n  Settings.prototype.save = function() {\n    this.settings.placeType = $(PLACE_TYPE_RADIO + ':checked').val();\n    this.settings.latitude = $(LAT_INPUT).val();\n    this.settings.longitude = $(LNG_INPUT).val();\n    this.settings.radius = $(RAD_INPUT).val();\n    this.settings.maxPlaces = $(MAX_PLACES_INPUT).val();\n    this.settings.shareLink = this.getShareLink();\n    this.settings.dynamicSearch = $(DYNAMIC_SEARCH_INPUT).is(':checked');\n    this.populate();\n  };\n\n  Settings.prototype.setLatLong = function(position) {\n    this.settings.latitude = position.latitude;\n    this.settings.longitude = position.longitude;\n    this.populate();\n  };\n\n  Settings.prototype.setRadius = function(radius) {\n    this.settings.radius = radius;\n    this.populate();\n  };\n\n  Settings.prototype.getShareLink = function() {\n    var url = window.location.origin + window.location.pathname;\n  \tvar params = {\n    \t\t\tlat: this.settings.latitude,\n    \t\t\tlong: this.settings.longitude,\n    \t\t\tradius: this.settings.radius,\n    \t\t\ttype: this.settings.placeType,\n    \t\t\tmaxplaces: this.settings.maxPlaces\n  \t\t};\n\n  \treturn url + '?' + $.param(params);\n  };\n\n  return Settings;\n}(jQuery));\n\n},{\"../../templates/settings.html\":25,\"../modules/places.js\":15}],7:[function(require,module,exports){\n(function() {\n\n  'use strict';\n\n  var WOL = window.WOL = require('./wheel-of-lunch.js');\n\n  require('./pages/global.js');\n  require('./pages/main.js');\n\n})();\n\n},{\"./pages/global.js\":18,\"./pages/main.js\":19,\"./wheel-of-lunch.js\":20}],8:[function(require,module,exports){\nmodule.exports = (function($) {\n\n  'use strict';\n\n  /* Constants */\n  var HTML_OUTPUT = require('../../templates/localisation-error.html');\n  var ID = '#localisation-error';\n\n  /* Buttons */\n  var CONTINUE_BUTTON = '#localisation-continue-button';\n\n  function ErrorLocationLightbox() {\n\n    this.elems = {\n      id: ID,\n      root: null\n    };\n\n    this.init();\n  }\n\n  ErrorLocationLightbox.prototype.init = function() {\n    this.addWindow();\n  };\n\n  ErrorLocationLightbox.prototype.addWindow = function() {\n    $('body').prepend(HTML_OUTPUT);\n    this.elems.root = $(ID);\n    this.addEvents();\n  };\n\n  ErrorLocationLightbox.prototype.closeWindow = function() {\n    this.elems.root.remove();\n  };\n\n  ErrorLocationLightbox.prototype.addEvents = function() {\n    var self = this;\n\n    $(CONTINUE_BUTTON).on('click', function() {\n      self.closeWindow();\n    });\n  };\n\n  return ErrorLocationLightbox;\n}(jQuery));\n\n},{\"../../templates/localisation-error.html\":21}],9:[function(require,module,exports){\nmodule.exports = (function($) {\n\n  'use strict';\n\n  var Geolocation = require('../modules/geolocation.js');\n\n  /* Constants */\n  var HTML_OUTPUT = require('../../templates/localisation-loading.html');\n  var ID = '#geolocation';\n\n  function GeolocationLightbox() {\n\n    this.elems = {\n      id: ID,\n      root: null\n    };\n\n    this.init();\n  }\n\n  GeolocationLightbox.prototype.init = function() {\n    this.addWindow();\n  };\n\n  GeolocationLightbox.prototype.addWindow = function() {\n    $('body').prepend(HTML_OUTPUT);\n    this.elems.root = $(ID);\n    this.getLocation();\n  };\n\n  GeolocationLightbox.prototype.closeWindow = function() {\n    this.elems.root.remove();\n  };\n\n  GeolocationLightbox.prototype.getLocation = function() {\n    var self = this;\n    WOL.app.geolocation = new Geolocation(function() {\n      self.closeWindow();\n    });\n  };\n\n  return GeolocationLightbox;\n}(jQuery));\n\n},{\"../../templates/localisation-loading.html\":22,\"../modules/geolocation.js\":14}],10:[function(require,module,exports){\nmodule.exports = (function($) {\n\n  'use strict';\n\n  var GeolocationLightbox = require('./geolocationLightbox.js');\n  var MapLightbox = require('./mapLightbox.js');\n\n  /* Constants */\n  var HTML_OUTPUT = require('../../templates/localisation.html');\n  var ID = '#localisation';\n\n  /* Buttons */\n  var CURRENT_LOCATION_BUTTON = '#location-option-current';\n  var FIND_LOCATION_BUTTON = '#location-option-find';\n\n  function LocalisationLightbox() {\n\n    this.elems = {\n      id: ID,\n      root: null\n    };\n\n    this.init();\n  }\n\n  LocalisationLightbox.prototype.init = function() {\n    this.addWindow();\n  };\n\n  LocalisationLightbox.prototype.addWindow = function() {\n    $('body').prepend(HTML_OUTPUT);\n    this.elems.root = $(ID);\n    this.addEvents();\n  };\n\n  LocalisationLightbox.prototype.closeWindow = function() {\n    this.elems.root.remove();\n  };\n\n  LocalisationLightbox.prototype.addEvents = function() {\n    var self = this;\n\n    $(CURRENT_LOCATION_BUTTON).on('click', function() {\n      self.showCurrentLocationLightbox();\n      self.closeWindow();\n    });\n\n    $(FIND_LOCATION_BUTTON).on('click', function() {\n      self.showFindLocationLightbox();\n      self.closeWindow();\n    });\n  };\n\n  LocalisationLightbox.prototype.showCurrentLocationLightbox = function() {\n    WOL.app.lightbox.Geolocation = new GeolocationLightbox();\n  };\n\n  LocalisationLightbox.prototype.showFindLocationLightbox = function() {\n    WOL.app.lightbox.Map = new MapLightbox();\n  };\n\n  return LocalisationLightbox;\n}(jQuery));\n\n},{\"../../templates/localisation.html\":23,\"./geolocationLightbox.js\":9,\"./mapLightbox.js\":11}],11:[function(require,module,exports){\nmodule.exports = (function() {\n\n  'use strict';\n\n  function MapLightbox() {\n\n  }\n\n  return MapLightbox;\n}());\n\n},{}],12:[function(require,module,exports){\nmodule.exports = (function($) {\n\n  'use strict';\n\n  /* Constants */\n  var HTML_OUTPUT = require('../../templates/result.mustache');\n  var ID = '#result';\n\n  /* Buttons */\n  var RATING = '#result .rating';\n  var RATING_FG = '#result .rating-foreground';\n  var CLOSE_BUTTON = '#result .close';\n\n  function ResultLightbox(restaurant) {\n\n    this.elems = {\n      id: ID,\n      root: null\n    };\n    this.restaurant = restaurant;\n    this.init();\n  }\n\n  ResultLightbox.prototype.init = function() {\n    this.restaurant.href = this.buildHref();\n    this.addWindow();\n  };\n\n  ResultLightbox.prototype.addWindow = function() {\n    $('body').prepend(HTML_OUTPUT.render( {\n      title: this.restaurant.name,\n      vicinity: this.restaurant.vicinity,\n      rating: this.restaurant.rating,\n      href: this.restaurant.href\n    }));\n    this.elems.root = $(ID);\n    this.displayRatings();\n    this.addEvents();\n  };\n\n  ResultLightbox.prototype.closeWindow = function() {\n    this.elems.root.remove();\n  };\n\n  ResultLightbox.prototype.displayRatings = function() {\n    if(typeof this.restaurant.rating === 'undefined' || this.restaurant.rating === null) {\n      $(RATING).remove();\n    } else {\n      $(RATING_FG).css('width', (this.restaurant.rating / 5) * 100 + '%');\n    }\n  };\n\n  ResultLightbox.prototype.addEvents = function() {\n    var self = this;\n\n    $(CLOSE_BUTTON).on('click', function() {\n      self.closeWindow();\n    });\n  };\n\n  ResultLightbox.prototype.buildHref = function() {\n    var resultName = this.restaurant.name.split(' ').join('+');\n    var mapURL = \"http://maps.google.com/maps/dir/\";\n\t\tvar originCoords = WOL.app.geolocation.position.latitude + \",\" + WOL.app.geolocation.position.longitude;\n\n    return mapURL + originCoords + '/' + resultName + ',' + this.restaurant.vicinity + '/@' + this.restaurant.lat + ',' + this.restaurant.lng;\n  };\n\n  return ResultLightbox;\n}(jQuery));\n\n},{\"../../templates/result.mustache\":24}],13:[function(require,module,exports){\nmodule.exports = (function() {\n\n  'use strict';\n\n}());\n\n},{}],14:[function(require,module,exports){\nmodule.exports = (function() {\n\n  'use strict';\n\n  var Places = require('./places.js');\n  var ErrorLocationLightbox = require('../lightboxes/errorLocationLightbox.js');\n\n  function Geolocation(callback) {\n\n    this.callback = callback;\n    this.position = {};\n\n    this.options = {\n      enableHighAccuracy: true,\n      maximumAge: 0\n    };\n\n    this.getLocation();\n  }\n\n  Geolocation.prototype.getLocation = function() {\n    navigator.geolocation.getCurrentPosition(this.success, this.error, this.options);\n  };\n\n  Geolocation.prototype.success = function(pos) {\n    WOL.app.geolocation.position = pos.coords;\n    WOL.app.settings.setLatLong(WOL.app.geolocation.position);\n    WOL.app.places = new Places(\n      {\n        latitude: WOL.app.geolocation.position.latitude,\n        longitude: WOL.app.geolocation.position.longitude,\n        dynamicSearch: true\n      }\n    );\n    WOL.app.geolocation.callback();\n  };\n\n  Geolocation.prototype.error = function(err) {\n    WOL.app.geolocation.callback();\n    WOL.app.lightbox.NoLocationLightbox = new ErrorLocationLightbox();\n  };\n\n  Geolocation.prototype.closeParentWindow = function() {\n    this.elems.parentRoot.remove();\n  };\n\n  return Geolocation;\n}());\n\n},{\"../lightboxes/errorLocationLightbox.js\":8,\"./places.js\":15}],15:[function(require,module,exports){\nmodule.exports = (function() {\n\n  'use strict';\n\n  var ErrorLocationLightbox = require('../lightboxes/errorLocationLightbox.js');\n\n  var API_URL = 'http://www.jack-palmer.co.uk/wheel/api/getPlaces/';\n\n  function Places(userOptions) {\n\n    this.options = {\n        radius: 300,\n        radiusIncrement: 50,\n        placeType: 'restaurant',\n        maxPlaces: 12,\n        dynamicSearch: false\n    };\n\n    this.URLparams = WOL.app.utilities.getURLParams();\n\n    if(typeof userOptions === 'undefined') {\n      this.userOptions = { };\n    } else {\n      this.userOptions = userOptions;\n    }\n\n    this.restaurants = {};\n\n    this.init();\n    this.getPlaces(this.options);\n  }\n\n  Places.prototype.init = function() {\n    if(typeof this.URLparams.lat !== 'undefined') { this.options.latitude = this.URLparams.lat; }\n    if(typeof this.URLparams.long !== 'undefined') { this.options.longitude = this.URLparams.long; }\n    if(typeof this.URLparams.radius !== 'undefined') { this.options.radius = this.URLparams.radius; }\n    if(typeof this.URLparams.type !== 'undefined') { this.options.placeType = this.URLparams.type; }\n    if(typeof this.URLparams.maxplaces !== 'undefined') { this.options.maxPlaces = this.URLparams.maxplaces; }\n\n    if(typeof this.userOptions.latitude !== 'undefined') { this.options.latitude = this.userOptions.latitude; }\n    if(typeof this.userOptions.longitude !== 'undefined') { this.options.longitude = this.userOptions.longitude; }\n    if(typeof this.userOptions.radius !== 'undefined') { this.options.radius = this.userOptions.radius; }\n    if(typeof this.userOptions.placeType !== 'undefined') { this.options.placeType = this.userOptions.placeType; }\n    if(typeof this.userOptions.maxPlaces !== 'undefined') { this.options.maxPlaces = this.userOptions.maxPlaces; }\n\n    if(typeof this.userOptions.dynamicSearch !== 'undefined') { this.options.dynamicSearch = this.userOptions.dynamicSearch; }\n  };\n\n  Places.prototype.getPlaces = function(options) {\n    var self = this;\n\n    $.getJSON( API_URL + this.buildQueryParams(options),\n    function( data ) {\n\n      if(data.length < options.maxPlaces && options.radius < 3000 && options.dynamicSearch) {\n        self.expandSearchRadius(data, options);\n      } else {\n\n        if(data.length === 0) {\n          self.error();\n        } else {\n          self.success(data, options);\n        }\n\n      }\n\n    });\n  };\n\n  Places.prototype.buildQueryParams = function(options) {\n    return '?' +\n           'latitude=' + options.latitude + '&' +\n           'longitude=' + options.longitude + '&' +\n           'radius=' + options.radius + '&' +\n           'type=' + options.placeType + '&' +\n           'maxplaces=' + options.maxPlaces + '&' +\n           'minPrice=' + '0' + '&' +\n           'maxPrice=' + '4';\n  };\n\n  Places.prototype.expandSearchRadius = function(data, options) {\n    if(options.radius >= 300) {\n      options.radiusIncrement = 100;\n    }\n    if(options.radius >= 1000) {\n      options.radiusIncrement = 500;\n    }\n\n    this.getPlaces(\n      {\n        latitude: options.latitude,\n        longitude: options.longitude,\n        radius: parseInt(options.radius) + options.radiusIncrement,\n        radiusIncrement: parseInt(options.radiusIncrement),\n        placeType: options.placeType,\n        maxPlaces: parseInt(options.maxPlaces),\n        dynamicSearch: options.dynamicSearch\n      }\n    );\n  };\n\n  Places.prototype.success = function(data, options) {\n    this.restaurants = data;\n    this.options.dynamicSearch = false;\n\n    if(options.dynamicSearch) {\n      WOL.app.settings.setRadius(options.radius);\n    }\n\n    WOL.app.wheel.setRestaurants(data);\n    WOL.app.wheel.draw();\n  };\n\n  Places.prototype.error = function(data) {\n    WOL.app.lightbox.NoLocationLightbox = new ErrorLocationLightbox();\n  };\n\n  return Places;\n}());\n\n},{\"../lightboxes/errorLocationLightbox.js\":8}],16:[function(require,module,exports){\nmodule.exports = (function($) {\n\n  'use strict';\n\n  function Utilities() {\n\n  }\n\n  Utilities.prototype.getURLParams = function() {\n      var vars = [], hash;\n      var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');\n      for(var i = 0; i < hashes.length; i++) {\n          hash = hashes[i].split('=');\n          if(hash.length == 2) {\n  \t        vars.push(hash[0]);\n  \t        vars[hash[0]] = hash[1];\n  \t    }\n      }\n      return vars;\n  };\n\n  return Utilities;\n}(jQuery));\n\n},{}],17:[function(require,module,exports){\nmodule.exports = (function() {\n\n  'use strict';\n\n  var colours = require('../data/colours.js');\n  var defaultRestaurants = require('../data/restaurants.js');\n  var ResultLightbox = require('../lightboxes/resultLightbox.js');\n  var Confetti = require('./confetti.js');\n\n  /* Buttons */\n  var SPIN_BUTTON = '#spin';\n\n  function Wheel(selector) {\n\n    var canvas = document.getElementById(selector);\n    var $canvas = $('#' + selector);\n\n    this.elems = {\n      selector: '#' + selector,\n      canvas: canvas,\n      $canvas: $canvas\n    };\n\n    if(!canvas.getContext) {\n      return;\n    }\n\n    this.data = {\n      canvas: canvas,\n      restaurants: defaultRestaurants,\n      width: 600,\n      height: 600,\n      startAngle: 0,\n      spinTimeout: null,\n      isSpinning: false,\n      spinArcStart: 10,\n      spinTime: 0,\n      spinTimeTotal: 0,\n      spinVelocity: 2000,\n      ctx: null,\n      rouletteWheel: {},\n      outsideRadius: 250,\n      textRadius: 194,\n      insideRadius: 150,\n      angle: null,\n      text: null,\n      drag: {\n        clickedX: null,\n        clickedY: null,\n        currentDragX: null,\n        currentDragY: null,\n        previousDragX: null,\n        previousDragY: null,\n        isDragging: null,\n        changedAngle: null,\n        arcAngle: null\n      }\n    };\n\n    this.init();\n  }\n\n  Wheel.prototype.init = function() {\n    this.data.ctx = this.data.canvas.getContext(\"2d\");\n    this.data.ctx.clearRect(0, 0, this.data.width, this.data.height);\n    this.data.ctx.strokeStyle = \"black\";\n    this.data.ctx.font = \"12px Helvetica, Arial\";\n    this.data.arc = Math.PI / (this.data.restaurants.length / 2);\n\n    this.draw();\n    this.addEvents();\n  };\n\n  Wheel.prototype.addEvents = function() {\n    var self = this;\n\n    $(SPIN_BUTTON).on('click', function() {\n      if(!self.retIsSpinning()) {\n  \t\t\tself.spin(true);\n  \t\t}\n    });\n\n    $(this.elems.selector).mousedown(function(e) {\n  \t\tself.data.drag.clickedX = e.pageX;\n  \t\tself.data.drag.clickedY = e.pageY;\n  \t\t//set up the first instance of previous drag\n  \t\tself.data.drag.previousDragX = e.pageX;\n  \t\tself.data.drag.previousDragY = e.pageY;\n  \t\tself.data.drag.isDragging = true;\n  \t});\n\n    $(this.elems.selector).mousemove(function(e) {\n  \t\tif(self.data.drag.isDragging && !self.retIsSpinning()) {\n  \t\t\tself.data.drag.currentDragX = e.pageX;\n  \t\t\tself.data.drag.currentDragY = e.pageY;\n\n  \t\t\t//finding the movement from the last drag\n  \t\t\tself.data.drag.changedAngle = Math.atan2(self.data.drag.currentDragY - $(SPIN_BUTTON).position().top, self.data.drag.currentDragX - $(SPIN_BUTTON).position().left);\n  \t\t\tself.data.drag.changedAngle -= Math.atan2(self.data.drag.previousDragY - $(SPIN_BUTTON).position().top, self.data.drag.previousDragX - $(SPIN_BUTTON).position().left);\n\n  \t\t\t//recalculating the arc from when the mouse was firsted click -- used to indicate a 'spin'\n  \t\t\tself.data.drag.arcAngle = Math.atan2(self.data.drag.currentDragY - $(SPIN_BUTTON).position().top, self.data.drag.currentDragX - $(SPIN_BUTTON).position().left);\n  \t\t\tself.data.drag.arcAngle -= Math.atan2(self.data.drag.clickedY - $(SPIN_BUTTON).position().top, self.data.drag.clickedX - $(SPIN_BUTTON).position().left);\n\n\n  \t\t\t//add whatever the angle has changed by from the last movement of the mouse\n  \t\t\tself.addToStartAngle(self.data.drag.changedAngle);\n  \t\t\tself.draw(true);\n\n  \t\t\t//update the previous with the current coordinate of the mouse\n  \t\t\tself.data.drag.previousDragY = self.data.drag.currentDragY;\n  \t\t\tself.data.drag.previousDragX = self.data.drag.currentDragX;\n  \t\t}\n  \t});\n\n  \t$(this.elems.selector).mouseup(function(e) {\n  \t\tif((self.data.drag.arcAngle >= 0.5) && !self.retIsSpinning() && self.data.drag.changedAngle > 0) { // a minimum delta of rad = 0.5 required to drag around the wheel to count as a 'spin'\n  \t\t\tself.spin(true);\n  \t\t} else if((self.data.drag.arcAngle < -4) && !self.retIsSpinning() && self.data.drag.changedAngle > 0) {\n  \t\t\tself.spin(true);\n  \t\t} else if((self.data.drag.arcAngle <= -0.5) && !self.retIsSpinning() && self.data.drag.changedAngle < 0) {\n  \t\t\tself.spin(false);\n  \t\t} else if((self.data.drag.arcAngle > 4) && !self.retIsSpinning() && self.data.drag.changedAngle < 0) {\n  \t\t\tself.spin(false);\n  \t\t}\n  \t\tself.data.drag.isDragging = false;\n  \t});\n\n  \t$(this.elems.selector).mouseout(function(e) {\n  \t\tself.data.drag.isDragging = false;\n  \t});\n\n  };\n\n  Wheel.prototype.draw = function() {\n    var self = this;\n    this.data.ctx.clearRect(0, 0, this.data.width, this.data.height);\n    this.data.restaurants.forEach(function(restaurant, i) {\n      /* Render Segment */\n      self.data.angle = self.data.startAngle + i * self.data.arc;\n      self.data.ctx.fillStyle = colours.bgColour[i];\n\n      self.data.ctx.beginPath();\n      self.data.ctx.arc(self.data.width / 2, self.data.height / 2, self.data.outsideRadius, self.data.angle, self.data.angle + self.data.arc, false);\n      self.data.ctx.arc(self.data.width / 2, self.data.height / 2, self.data.insideRadius, self.data.angle + self.data.arc, self.data.angle, true);\n      self.data.ctx.fill();\n\n      self.data.ctx.save();\n\n      /* Render Text */\n      self.data.ctx.fillStyle = colours.fontColour[i];\n      self.data.ctx.translate(self.data.width / 2 + Math.cos(self.data.angle + self.data.arc /2) * self.data.textRadius,\n          self.data.height / 2 + Math.sin(self.data.angle + self.data.arc / 2) * self.data.textRadius);\n      self.data.ctx.rotate(self.data.angle + self.data.arc / 2 + Math.PI / 2);\n      self.printName(restaurant.name, -self.data.ctx.measureText(restaurant.name).width / 2, 0, 14, ((2 * Math.PI * self.data.textRadius) / self.data.restaurants.length) - 10);\n      self.data.ctx.restore();\n    });\n    this.drawArrow();\n  };\n\n  Wheel.prototype.drawArrow = function() {\n    this.data.ctx.fillStyle = \"#333\";\n    this.data.ctx.beginPath();\n\t\tthis.data.ctx.moveTo(this.data.width / 2  - 4, this.data.height / 2  - (this.data.outsideRadius + 25));\n\t\tthis.data.ctx.lineTo(this.data.width / 2 + 4, this.data.height / 2  - (this.data.outsideRadius + 25));\n\t\tthis.data.ctx.lineTo(this.data.width / 2 + 4, this.data.height / 2  - (this.data.outsideRadius + 15));\n\t\tthis.data.ctx.lineTo(this.data.width / 2 + 9, this.data.height / 2  - (this.data.outsideRadius + 15));\n\t\tthis.data.ctx.lineTo(this.data.width / 2 + 0, this.data.height / 2  - (this.data.outsideRadius - 0));\n\t\tthis.data.ctx.lineTo(this.data.width / 2 - 9, this.data.height / 2  - (this.data.outsideRadius + 15));\n\t\tthis.data.ctx.lineTo(this.data.width / 2 - 4, this.data.height / 2  - (this.data.outsideRadius + 15));\n\t\tthis.data.ctx.lineTo(this.data.width / 2 - 4, this.data.height / 2 - (this.data.outsideRadius + 25));\n\t\tthis.data.ctx.fill();\n  };\n\n  Wheel.prototype.spin = function(isForward) {\n    this.data.spinAngleStart = Math.random() * 10 + 10;\n    this.data.spinTime = 0;\n    this.data.spinTimeTotal = Math.random() * 3 + 4 * this.data.spinVelocity;\n\n    if(!this.data.isSpinning && isForward) {\n      this.data.isSpinning = true;\n      this.rotate(true);\n    } else if (!this.data.isSpinning && !isForward) {\n      this.data.isSpinning = true;\n      this.rotate(false);\n    }\n  };\n\n  Wheel.prototype.retIsSpinning = function() {\n    return this.data.isSpinning;\n  };\n\n  Wheel.prototype.addToStartAngle = function(angle) {\n    this.data.startAngle += angle;\n  };\n\n  Wheel.prototype.rotate = function(isForward) {\n    var self = this;\n    this.data.spinTime += 30;\n    if(this.data.spinTime >= this.data.spinTimeTotal) {\n      this.stopRotate();\n      this.data.isSpinning = false;\n      return;\n    }\n    var spinAngle = this.data.spinAngleStart - this.easeOut(this.data.spinTime, 0, this.data.spinAngleStart, this.data.spinTimeTotal);\n    if(isForward) {\n      this.data.startAngle += (spinAngle * Math.PI / 180);\n    } else {\n      this.data.startAngle -= (spinAngle * Math.PI / 180);\n    }\n    this.draw();\n    this.data.spinTimeout = setTimeout(function() {\n      self.rotate(isForward);\n    }, 30);\n  };\n\n  Wheel.prototype.stopRotate = function() {\n    clearTimeout(this.data.spinTimeout);\n    var degrees = this.data.startAngle * 180 / Math.PI + 90,\n      arcd = this.data.arc * 180 / Math.PI,\n      index = Math.floor((360 - degrees % 360) / arcd);\n    this.data.ctx.save();\n\n    if(degrees < 0) {\n      degrees = Math.abs(degrees);\n      index = Math.floor((degrees % 360) / arcd);\n    }\n\n    /* Display Result */\n    WOL.app.lightbox.result = new ResultLightbox(this.data.restaurants[index]);\n\n    this.data.ctx.restore();\n\n    //WOL.app.confetti = new Confetti();\n  };\n\n  Wheel.prototype.printName = function(text, x, y, lineHeight, fitWidth) {\n    var str, splitDash, headText, tailText, idx;\n    fitWidth = fitWidth || 0;\n\n    if(fitWidth <= 0) {\n      this.data.ctx.fillText(text, x, y);\n      return;\n    }\n\n    for(idx = 1; idx <= text.length; idx++) {\n      str = text.substr(0, idx);\n\n      if(this.data.ctx.measureText(str).width > fitWidth) {\n        splitDash = (text.charAt(idx - 2) != \" \") ? \"-\" : \"\";\n        headText = text.substr(0, idx - 1) + splitDash;\n        tailText = text.substr(idx - 1);\n        this.data.ctx.fillText(headText, -this.data.ctx.measureText(headText).width / 2, y - lineHeight);\n        this.printName(tailText, -this.data.ctx.measureText(tailText).width / 2, y + lineHeight, lineHeight, fitWidth - 10);\n        return;\n      }\n    }\n\n    this.data.ctx.fillText(text, x, (y ? y - lineHeight : y));\n  };\n\n  Wheel.prototype.easeOut = function(t, b, c, d) {\n    var ts = (t /= d) * t;\n    var tc = ts * t;\n\n    return b + c * (tc + -3 * ts + 3 * t);\n  };\n\n  Wheel.prototype.setRestaurants = function(restaurants) {\n    this.data.restaurants = restaurants;\n    this.data.arc = Math.PI / (this.data.restaurants.length / 2);\n  };\n\n  return Wheel;\n}());\n\n},{\"../data/colours.js\":4,\"../data/restaurants.js\":5,\"../lightboxes/resultLightbox.js\":12,\"./confetti.js\":13}],18:[function(require,module,exports){\nmodule.exports = (function($) {\n\n  'use strict';\n\n}());\n\n},{}],19:[function(require,module,exports){\nmodule.exports = (function() {\n\n  'use strict';\n\n  var Utilities = require('../modules/utilities');\n  var Wheel = require('../modules/wheel.js');\n  var Settings = require('../elements/settings.js');\n  var LocalisationLightbox = require('../lightboxes/localisationLightbox.js');\n  var Places = require('../modules/places.js');\n\n  WOL.app.utilities = new Utilities();\n  WOL.app.wheel = new Wheel('wheel');\n  WOL.app.settings = new Settings();\n\n  var showLocalisationOptions = typeof WOL.app.settings.URLparams.lat === 'undefined' || typeof WOL.app.settings.URLparams.long === 'undefined';\n\n  if(showLocalisationOptions) {\n    WOL.app.lightbox.localisation = new LocalisationLightbox();\n  } else {\n    WOL.app.places = new Places();\n  }\n\n}());\n\n},{\"../elements/settings.js\":6,\"../lightboxes/localisationLightbox.js\":10,\"../modules/places.js\":15,\"../modules/utilities\":16,\"../modules/wheel.js\":17}],20:[function(require,module,exports){\nmodule.exports = {\n  app: { lightbox: {} },\n  modules: {},\n  global: {},\n  page: {},\n  utils: {},\n  data: {}\n};\n\n},{}],21:[function(require,module,exports){\nmodule.exports = \"<div id=\\\"localisation-error\\\" class=\\\"alert alert-danger localisation\\\" role=\\\"alert\\\"><p>Oops! No places found. <button id=\\\"localisation-continue-button\\\" type=\\\"button\\\" class=\\\"btn btn-danger btn-sm\\\"> Continue anyway</button></p></div>\";\n\n},{}],22:[function(require,module,exports){\nmodule.exports = \"<div id=\\\"geolocation\\\" class=\\\"panel panel-default localisation search-localisation\\\"><div class=\\\"panel-body\\\"><p>Hang on a moment, we are just getting your location<span class=\\\"one\\\">.</span><span class=\\\"two\\\">.</span><span class=\\\"three\\\">.</span></p></div></div>\";\n\n},{}],23:[function(require,module,exports){\nmodule.exports = \"<div id=\\\"localisation\\\" class=\\\"panel panel-default select-localisation\\\"><div class=\\\"panel-body\\\"><p>Please select an option</p> <button type=\\\"button\\\" id=\\\"location-option-current\\\" class=\\\"btn btn-success\\\">Use my location</button> <button type=\\\"button\\\" id=\\\"location-option-find\\\" class=\\\"btn btn-info\\\">Find a location</button></div></div>\";\n\n},{}],24:[function(require,module,exports){\nvar Hogan = require('hogan.js');\nmodule.exports = new Hogan.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div id=\\\"result\\\" class=\\\"panel panel-default result\\\">\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"panel-body\\\">\");t.b(\"\\n\" + i);t.b(\"    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\");t.b(\"\\n\" + i);t.b(\"    <h2>\");t.b(t.v(t.f(\"title\",c,p,0)));t.b(\"</h2>\");t.b(\"\\n\" + i);t.b(\"    <p class=\\\"vicinity\\\">\");t.b(t.v(t.f(\"vicinity\",c,p,0)));t.b(\"</p>\");t.b(\"\\n\" + i);t.b(\"    <div class=\\\"rating\\\">\");t.b(\"\\n\" + i);t.b(\"      <div class=\\\"rating-foreground\\\" style=\\\"width:0%;\\\">\");t.b(\"\\n\" + i);t.b(\"        <i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i>\");t.b(\"\\n\" + i);t.b(\"      </div>\");t.b(\"\\n\" + i);t.b(\"      <div class=\\\"rating-background\\\">\");t.b(\"\\n\" + i);t.b(\"        <i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i>\");t.b(\"\\n\" + i);t.b(\"      </div>\");t.b(\"\\n\" + i);t.b(\"    </div>\");t.b(\"\\n\" + i);t.b(\"    <p>\");t.b(\"\\n\" + i);t.b(\"      <a class=\\\"map\\\" target=\\\"_blank\\\" href=\\\"\");t.b(t.v(t.f(\"href\",c,p,0)));t.b(\"\\\">View on map</a>\");t.b(\"\\n\" + i);t.b(\"    </p>\");t.b(\"\\n\" + i);t.b(\"  </div>\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div id=\\\"result\\\" class=\\\"panel panel-default result\\\">\\n  <div class=\\\"panel-body\\\">\\n    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button>\\n    <h2>{{title}}</h2>\\n    <p class=\\\"vicinity\\\">{{vicinity}}</p>\\n    <div class=\\\"rating\\\">\\n      <div class=\\\"rating-foreground\\\" style=\\\"width:0%;\\\">\\n        <i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i>\\n      </div>\\n      <div class=\\\"rating-background\\\">\\n        <i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i><i class=\\\"fa fa-star\\\"></i>\\n      </div>\\n    </div>\\n    <p>\\n      <a class=\\\"map\\\" target=\\\"_blank\\\" href=\\\"{{href}}\\\">View on map</a>\\n    </p>\\n  </div>\\n</div>\\n\", Hogan);\n},{\"hogan.js\":2}],25:[function(require,module,exports){\nmodule.exports = \"<div id=\\\"settings\\\"><a class=\\\"btn btn-primary btn-lg blur settings\\\" role=\\\"button\\\"><span class=\\\"glyphicon glyphicon-cog\\\"></span></a><div class=\\\"clickme blur\\\"><p>Click me!</p></div><div class=\\\"panel panel-default settings blur\\\"><div class=\\\"panel-body\\\"><div class=\\\"radio\\\"> <label><input type=\\\"radio\\\" name=\\\"placeType\\\" class=\\\"placetype restaurant\\\" value=\\\"restaurant\\\"> Restaurant</label></div><div class=\\\"radio\\\"> <label><input type=\\\"radio\\\" name=\\\"placeType\\\" class=\\\"placetype food\\\" value=\\\"food\\\"> Food</label></div><div class=\\\"radio\\\"> <label><input type=\\\"radio\\\" name=\\\"placeType\\\" class=\\\"placetype bar\\\" value=\\\"bar\\\"> Bar</label></div><div class=\\\"input-group\\\"><span class=\\\"input-group-addon\\\"><span class=\\\"glyphicon glyphicon-pushpin\\\"></span> Latitude</span> <input type=\\\"number\\\" class=\\\"latitude form-control\\\" placeholder=\\\"Latitude\\\"></div><div class=\\\"input-group\\\"><span class=\\\"input-group-addon\\\"><span class=\\\"glyphicon glyphicon-pushpin\\\"></span> Longitude</span> <input type=\\\"number\\\" class=\\\"longitude form-control\\\" placeholder=\\\"Longitude\\\"></div><div class=\\\"input-group\\\"><span class=\\\"input-group-addon\\\"><span class=\\\"glyphicon glyphicon-record\\\"></span> Radius (m)</span> <input type=\\\"number\\\" min=\\\"1\\\" class=\\\"radius form-control\\\" placeholder=\\\"Radius\\\"></div><div class=\\\"input-group\\\"><span class=\\\"input-group-addon\\\"><span class=\\\"glyphicon glyphicon-stats\\\"></span> # of Places</span> <input type=\\\"number\\\" min=\\\"1\\\" max=\\\"12\\\" class=\\\"maxplaces form-control\\\" placeholder=\\\"# of Places\\\"></div><div class=\\\"input-group\\\"><span class=\\\"input-group-addon\\\"><span class=\\\"glyphicon glyphicon-share\\\"></span> Share link</span> <input type=\\\"text\\\" class=\\\"sharelink form-control\\\" value=\\\"\\\"></div><div class=\\\"checkbox\\\"> <label><input type=\\\"checkbox\\\" class=\\\"dynamic-search\\\"> Dynamic Search</label></div> <button type=\\\"submit\\\" id=\\\"settings-search\\\" class=\\\"btn btn-primary\\\"><span class=\\\"glyphicon glyphicon-search\\\"></span> Search</button></div></div></div>\";\n\n},{}]},{},[7])\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvaG9nYW4uanMvbGliL2NvbXBpbGVyLmpzIiwibm9kZV9tb2R1bGVzL2hvZ2FuLmpzL2xpYi9ob2dhbi5qcyIsIm5vZGVfbW9kdWxlcy9ob2dhbi5qcy9saWIvdGVtcGxhdGUuanMiLCJzb3VyY2UvanMvZGF0YS9jb2xvdXJzLmpzIiwic291cmNlL2pzL2RhdGEvcmVzdGF1cmFudHMuanMiLCJzb3VyY2UvanMvZWxlbWVudHMvc2V0dGluZ3MuanMiLCJzb3VyY2UvanMvaW5pdC5qcyIsInNvdXJjZS9qcy9saWdodGJveGVzL2Vycm9yTG9jYXRpb25MaWdodGJveC5qcyIsInNvdXJjZS9qcy9saWdodGJveGVzL2dlb2xvY2F0aW9uTGlnaHRib3guanMiLCJzb3VyY2UvanMvbGlnaHRib3hlcy9sb2NhbGlzYXRpb25MaWdodGJveC5qcyIsInNvdXJjZS9qcy9saWdodGJveGVzL21hcExpZ2h0Ym94LmpzIiwic291cmNlL2pzL2xpZ2h0Ym94ZXMvcmVzdWx0TGlnaHRib3guanMiLCJzb3VyY2UvanMvbW9kdWxlcy9jb25mZXR0aS5qcyIsInNvdXJjZS9qcy9tb2R1bGVzL2dlb2xvY2F0aW9uLmpzIiwic291cmNlL2pzL21vZHVsZXMvcGxhY2VzLmpzIiwic291cmNlL2pzL21vZHVsZXMvdXRpbGl0aWVzLmpzIiwic291cmNlL2pzL21vZHVsZXMvd2hlZWwuanMiLCJzb3VyY2UvanMvcGFnZXMvZ2xvYmFsLmpzIiwic291cmNlL2pzL3BhZ2VzL21haW4uanMiLCJzb3VyY2UvanMvd2hlZWwtb2YtbHVuY2guanMiLCJzb3VyY2UvdGVtcGxhdGVzL2xvY2FsaXNhdGlvbi1lcnJvci5odG1sIiwic291cmNlL3RlbXBsYXRlcy9sb2NhbGlzYXRpb24tbG9hZGluZy5odG1sIiwic291cmNlL3RlbXBsYXRlcy9sb2NhbGlzYXRpb24uaHRtbCIsInNvdXJjZS90ZW1wbGF0ZXMvcmVzdWx0Lm11c3RhY2hlIiwic291cmNlL3RlbXBsYXRlcy9zZXR0aW5ncy5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdmFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDclZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKlxuICogIENvcHlyaWdodCAyMDExIFR3aXR0ZXIsIEluYy5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbihmdW5jdGlvbiAoSG9nYW4pIHtcbiAgLy8gU2V0dXAgcmVnZXggIGFzc2lnbm1lbnRzXG4gIC8vIHJlbW92ZSB3aGl0ZXNwYWNlIGFjY29yZGluZyB0byBNdXN0YWNoZSBzcGVjXG4gIHZhciBySXNXaGl0ZXNwYWNlID0gL1xcUy8sXG4gICAgICByUXVvdCA9IC9cXFwiL2csXG4gICAgICByTmV3bGluZSA9ICAvXFxuL2csXG4gICAgICByQ3IgPSAvXFxyL2csXG4gICAgICByU2xhc2ggPSAvXFxcXC9nLFxuICAgICAgckxpbmVTZXAgPSAvXFx1MjAyOC8sXG4gICAgICByUGFyYWdyYXBoU2VwID0gL1xcdTIwMjkvO1xuXG4gIEhvZ2FuLnRhZ3MgPSB7XG4gICAgJyMnOiAxLCAnXic6IDIsICc8JzogMywgJyQnOiA0LFxuICAgICcvJzogNSwgJyEnOiA2LCAnPic6IDcsICc9JzogOCwgJ192JzogOSxcbiAgICAneyc6IDEwLCAnJic6IDExLCAnX3QnOiAxMlxuICB9O1xuXG4gIEhvZ2FuLnNjYW4gPSBmdW5jdGlvbiBzY2FuKHRleHQsIGRlbGltaXRlcnMpIHtcbiAgICB2YXIgbGVuID0gdGV4dC5sZW5ndGgsXG4gICAgICAgIElOX1RFWFQgPSAwLFxuICAgICAgICBJTl9UQUdfVFlQRSA9IDEsXG4gICAgICAgIElOX1RBRyA9IDIsXG4gICAgICAgIHN0YXRlID0gSU5fVEVYVCxcbiAgICAgICAgdGFnVHlwZSA9IG51bGwsXG4gICAgICAgIHRhZyA9IG51bGwsXG4gICAgICAgIGJ1ZiA9ICcnLFxuICAgICAgICB0b2tlbnMgPSBbXSxcbiAgICAgICAgc2VlblRhZyA9IGZhbHNlLFxuICAgICAgICBpID0gMCxcbiAgICAgICAgbGluZVN0YXJ0ID0gMCxcbiAgICAgICAgb3RhZyA9ICd7eycsXG4gICAgICAgIGN0YWcgPSAnfX0nO1xuXG4gICAgZnVuY3Rpb24gYWRkQnVmKCkge1xuICAgICAgaWYgKGJ1Zi5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRva2Vucy5wdXNoKHt0YWc6ICdfdCcsIHRleHQ6IG5ldyBTdHJpbmcoYnVmKX0pO1xuICAgICAgICBidWYgPSAnJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaW5lSXNXaGl0ZXNwYWNlKCkge1xuICAgICAgdmFyIGlzQWxsV2hpdGVzcGFjZSA9IHRydWU7XG4gICAgICBmb3IgKHZhciBqID0gbGluZVN0YXJ0OyBqIDwgdG9rZW5zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlzQWxsV2hpdGVzcGFjZSA9XG4gICAgICAgICAgKEhvZ2FuLnRhZ3NbdG9rZW5zW2pdLnRhZ10gPCBIb2dhbi50YWdzWydfdiddKSB8fFxuICAgICAgICAgICh0b2tlbnNbal0udGFnID09ICdfdCcgJiYgdG9rZW5zW2pdLnRleHQubWF0Y2gocklzV2hpdGVzcGFjZSkgPT09IG51bGwpO1xuICAgICAgICBpZiAoIWlzQWxsV2hpdGVzcGFjZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNBbGxXaGl0ZXNwYWNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbHRlckxpbmUoaGF2ZVNlZW5UYWcsIG5vTmV3TGluZSkge1xuICAgICAgYWRkQnVmKCk7XG5cbiAgICAgIGlmIChoYXZlU2VlblRhZyAmJiBsaW5lSXNXaGl0ZXNwYWNlKCkpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IGxpbmVTdGFydCwgbmV4dDsgaiA8IHRva2Vucy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGlmICh0b2tlbnNbal0udGV4dCkge1xuICAgICAgICAgICAgaWYgKChuZXh0ID0gdG9rZW5zW2orMV0pICYmIG5leHQudGFnID09ICc+Jykge1xuICAgICAgICAgICAgICAvLyBzZXQgaW5kZW50IHRvIHRva2VuIHZhbHVlXG4gICAgICAgICAgICAgIG5leHQuaW5kZW50ID0gdG9rZW5zW2pdLnRleHQudG9TdHJpbmcoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW5zLnNwbGljZShqLCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIW5vTmV3TGluZSkge1xuICAgICAgICB0b2tlbnMucHVzaCh7dGFnOidcXG4nfSk7XG4gICAgICB9XG5cbiAgICAgIHNlZW5UYWcgPSBmYWxzZTtcbiAgICAgIGxpbmVTdGFydCA9IHRva2Vucy5sZW5ndGg7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hhbmdlRGVsaW1pdGVycyh0ZXh0LCBpbmRleCkge1xuICAgICAgdmFyIGNsb3NlID0gJz0nICsgY3RhZyxcbiAgICAgICAgICBjbG9zZUluZGV4ID0gdGV4dC5pbmRleE9mKGNsb3NlLCBpbmRleCksXG4gICAgICAgICAgZGVsaW1pdGVycyA9IHRyaW0oXG4gICAgICAgICAgICB0ZXh0LnN1YnN0cmluZyh0ZXh0LmluZGV4T2YoJz0nLCBpbmRleCkgKyAxLCBjbG9zZUluZGV4KVxuICAgICAgICAgICkuc3BsaXQoJyAnKTtcblxuICAgICAgb3RhZyA9IGRlbGltaXRlcnNbMF07XG4gICAgICBjdGFnID0gZGVsaW1pdGVyc1tkZWxpbWl0ZXJzLmxlbmd0aCAtIDFdO1xuXG4gICAgICByZXR1cm4gY2xvc2VJbmRleCArIGNsb3NlLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgaWYgKGRlbGltaXRlcnMpIHtcbiAgICAgIGRlbGltaXRlcnMgPSBkZWxpbWl0ZXJzLnNwbGl0KCcgJyk7XG4gICAgICBvdGFnID0gZGVsaW1pdGVyc1swXTtcbiAgICAgIGN0YWcgPSBkZWxpbWl0ZXJzWzFdO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKHN0YXRlID09IElOX1RFWFQpIHtcbiAgICAgICAgaWYgKHRhZ0NoYW5nZShvdGFnLCB0ZXh0LCBpKSkge1xuICAgICAgICAgIC0taTtcbiAgICAgICAgICBhZGRCdWYoKTtcbiAgICAgICAgICBzdGF0ZSA9IElOX1RBR19UWVBFO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0ZXh0LmNoYXJBdChpKSA9PSAnXFxuJykge1xuICAgICAgICAgICAgZmlsdGVyTGluZShzZWVuVGFnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnVmICs9IHRleHQuY2hhckF0KGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PSBJTl9UQUdfVFlQRSkge1xuICAgICAgICBpICs9IG90YWcubGVuZ3RoIC0gMTtcbiAgICAgICAgdGFnID0gSG9nYW4udGFnc1t0ZXh0LmNoYXJBdChpICsgMSldO1xuICAgICAgICB0YWdUeXBlID0gdGFnID8gdGV4dC5jaGFyQXQoaSArIDEpIDogJ192JztcbiAgICAgICAgaWYgKHRhZ1R5cGUgPT0gJz0nKSB7XG4gICAgICAgICAgaSA9IGNoYW5nZURlbGltaXRlcnModGV4dCwgaSk7XG4gICAgICAgICAgc3RhdGUgPSBJTl9URVhUO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0YWcpIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhdGUgPSBJTl9UQUc7XG4gICAgICAgIH1cbiAgICAgICAgc2VlblRhZyA9IGk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGFnQ2hhbmdlKGN0YWcsIHRleHQsIGkpKSB7XG4gICAgICAgICAgdG9rZW5zLnB1c2goe3RhZzogdGFnVHlwZSwgbjogdHJpbShidWYpLCBvdGFnOiBvdGFnLCBjdGFnOiBjdGFnLFxuICAgICAgICAgICAgICAgICAgICAgICBpOiAodGFnVHlwZSA9PSAnLycpID8gc2VlblRhZyAtIG90YWcubGVuZ3RoIDogaSArIGN0YWcubGVuZ3RofSk7XG4gICAgICAgICAgYnVmID0gJyc7XG4gICAgICAgICAgaSArPSBjdGFnLmxlbmd0aCAtIDE7XG4gICAgICAgICAgc3RhdGUgPSBJTl9URVhUO1xuICAgICAgICAgIGlmICh0YWdUeXBlID09ICd7Jykge1xuICAgICAgICAgICAgaWYgKGN0YWcgPT0gJ319Jykge1xuICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjbGVhblRyaXBsZVN0YWNoZSh0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnVmICs9IHRleHQuY2hhckF0KGkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZmlsdGVyTGluZShzZWVuVGFnLCB0cnVlKTtcblxuICAgIHJldHVybiB0b2tlbnM7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhblRyaXBsZVN0YWNoZSh0b2tlbikge1xuICAgIGlmICh0b2tlbi5uLnN1YnN0cih0b2tlbi5uLmxlbmd0aCAtIDEpID09PSAnfScpIHtcbiAgICAgIHRva2VuLm4gPSB0b2tlbi5uLnN1YnN0cmluZygwLCB0b2tlbi5uLmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRyaW0ocykge1xuICAgIGlmIChzLnRyaW0pIHtcbiAgICAgIHJldHVybiBzLnRyaW0oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcy5yZXBsYWNlKC9eXFxzKnxcXHMqJC9nLCAnJyk7XG4gIH1cblxuICBmdW5jdGlvbiB0YWdDaGFuZ2UodGFnLCB0ZXh0LCBpbmRleCkge1xuICAgIGlmICh0ZXh0LmNoYXJBdChpbmRleCkgIT0gdGFnLmNoYXJBdCgwKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAxLCBsID0gdGFnLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKHRleHQuY2hhckF0KGluZGV4ICsgaSkgIT0gdGFnLmNoYXJBdChpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyB0aGUgdGFncyBhbGxvd2VkIGluc2lkZSBzdXBlciB0ZW1wbGF0ZXNcbiAgdmFyIGFsbG93ZWRJblN1cGVyID0geydfdCc6IHRydWUsICdcXG4nOiB0cnVlLCAnJCc6IHRydWUsICcvJzogdHJ1ZX07XG5cbiAgZnVuY3Rpb24gYnVpbGRUcmVlKHRva2Vucywga2luZCwgc3RhY2ssIGN1c3RvbVRhZ3MpIHtcbiAgICB2YXIgaW5zdHJ1Y3Rpb25zID0gW10sXG4gICAgICAgIG9wZW5lciA9IG51bGwsXG4gICAgICAgIHRhaWwgPSBudWxsLFxuICAgICAgICB0b2tlbiA9IG51bGw7XG5cbiAgICB0YWlsID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG5cbiAgICB3aGlsZSAodG9rZW5zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRva2VuID0gdG9rZW5zLnNoaWZ0KCk7XG5cbiAgICAgIGlmICh0YWlsICYmIHRhaWwudGFnID09ICc8JyAmJiAhKHRva2VuLnRhZyBpbiBhbGxvd2VkSW5TdXBlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIGNvbnRlbnQgaW4gPCBzdXBlciB0YWcuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChIb2dhbi50YWdzW3Rva2VuLnRhZ10gPD0gSG9nYW4udGFnc1snJCddIHx8IGlzT3BlbmVyKHRva2VuLCBjdXN0b21UYWdzKSkge1xuICAgICAgICBzdGFjay5wdXNoKHRva2VuKTtcbiAgICAgICAgdG9rZW4ubm9kZXMgPSBidWlsZFRyZWUodG9rZW5zLCB0b2tlbi50YWcsIHN0YWNrLCBjdXN0b21UYWdzKTtcbiAgICAgIH0gZWxzZSBpZiAodG9rZW4udGFnID09ICcvJykge1xuICAgICAgICBpZiAoc3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbG9zaW5nIHRhZyB3aXRob3V0IG9wZW5lcjogLycgKyB0b2tlbi5uKTtcbiAgICAgICAgfVxuICAgICAgICBvcGVuZXIgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKHRva2VuLm4gIT0gb3BlbmVyLm4gJiYgIWlzQ2xvc2VyKHRva2VuLm4sIG9wZW5lci5uLCBjdXN0b21UYWdzKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmVzdGluZyBlcnJvcjogJyArIG9wZW5lci5uICsgJyB2cy4gJyArIHRva2VuLm4pO1xuICAgICAgICB9XG4gICAgICAgIG9wZW5lci5lbmQgPSB0b2tlbi5pO1xuICAgICAgICByZXR1cm4gaW5zdHJ1Y3Rpb25zO1xuICAgICAgfSBlbHNlIGlmICh0b2tlbi50YWcgPT0gJ1xcbicpIHtcbiAgICAgICAgdG9rZW4ubGFzdCA9ICh0b2tlbnMubGVuZ3RoID09IDApIHx8ICh0b2tlbnNbMF0udGFnID09ICdcXG4nKTtcbiAgICAgIH1cblxuICAgICAgaW5zdHJ1Y3Rpb25zLnB1c2godG9rZW4pO1xuICAgIH1cblxuICAgIGlmIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ21pc3NpbmcgY2xvc2luZyB0YWc6ICcgKyBzdGFjay5wb3AoKS5uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25zO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNPcGVuZXIodG9rZW4sIHRhZ3MpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRhZ3MubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAodGFnc1tpXS5vID09IHRva2VuLm4pIHtcbiAgICAgICAgdG9rZW4udGFnID0gJyMnO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc0Nsb3NlcihjbG9zZSwgb3BlbiwgdGFncykge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGFncy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmICh0YWdzW2ldLmMgPT0gY2xvc2UgJiYgdGFnc1tpXS5vID09IG9wZW4pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RyaW5naWZ5U3Vic3RpdHV0aW9ucyhvYmopIHtcbiAgICB2YXIgaXRlbXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpdGVtcy5wdXNoKCdcIicgKyBlc2Moa2V5KSArICdcIjogZnVuY3Rpb24oYyxwLHQsaSkgeycgKyBvYmpba2V5XSArICd9Jyk7XG4gICAgfVxuICAgIHJldHVybiBcInsgXCIgKyBpdGVtcy5qb2luKFwiLFwiKSArIFwiIH1cIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmluZ2lmeVBhcnRpYWxzKGNvZGVPYmopIHtcbiAgICB2YXIgcGFydGlhbHMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gY29kZU9iai5wYXJ0aWFscykge1xuICAgICAgcGFydGlhbHMucHVzaCgnXCInICsgZXNjKGtleSkgKyAnXCI6e25hbWU6XCInICsgZXNjKGNvZGVPYmoucGFydGlhbHNba2V5XS5uYW1lKSArICdcIiwgJyArIHN0cmluZ2lmeVBhcnRpYWxzKGNvZGVPYmoucGFydGlhbHNba2V5XSkgKyBcIn1cIik7XG4gICAgfVxuICAgIHJldHVybiBcInBhcnRpYWxzOiB7XCIgKyBwYXJ0aWFscy5qb2luKFwiLFwiKSArIFwifSwgc3ViczogXCIgKyBzdHJpbmdpZnlTdWJzdGl0dXRpb25zKGNvZGVPYmouc3Vicyk7XG4gIH1cblxuICBIb2dhbi5zdHJpbmdpZnkgPSBmdW5jdGlvbihjb2RlT2JqLCB0ZXh0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIFwie2NvZGU6IGZ1bmN0aW9uIChjLHAsaSkgeyBcIiArIEhvZ2FuLndyYXBNYWluKGNvZGVPYmouY29kZSkgKyBcIiB9LFwiICsgc3RyaW5naWZ5UGFydGlhbHMoY29kZU9iaikgKyAgXCJ9XCI7XG4gIH1cblxuICB2YXIgc2VyaWFsTm8gPSAwO1xuICBIb2dhbi5nZW5lcmF0ZSA9IGZ1bmN0aW9uKHRyZWUsIHRleHQsIG9wdGlvbnMpIHtcbiAgICBzZXJpYWxObyA9IDA7XG4gICAgdmFyIGNvbnRleHQgPSB7IGNvZGU6ICcnLCBzdWJzOiB7fSwgcGFydGlhbHM6IHt9IH07XG4gICAgSG9nYW4ud2Fsayh0cmVlLCBjb250ZXh0KTtcblxuICAgIGlmIChvcHRpb25zLmFzU3RyaW5nKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHJpbmdpZnkoY29udGV4dCwgdGV4dCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubWFrZVRlbXBsYXRlKGNvbnRleHQsIHRleHQsIG9wdGlvbnMpO1xuICB9XG5cbiAgSG9nYW4ud3JhcE1haW4gPSBmdW5jdGlvbihjb2RlKSB7XG4gICAgcmV0dXJuICd2YXIgdD10aGlzO3QuYihpPWl8fFwiXCIpOycgKyBjb2RlICsgJ3JldHVybiB0LmZsKCk7JztcbiAgfVxuXG4gIEhvZ2FuLnRlbXBsYXRlID0gSG9nYW4uVGVtcGxhdGU7XG5cbiAgSG9nYW4ubWFrZVRlbXBsYXRlID0gZnVuY3Rpb24oY29kZU9iaiwgdGV4dCwgb3B0aW9ucykge1xuICAgIHZhciB0ZW1wbGF0ZSA9IHRoaXMubWFrZVBhcnRpYWxzKGNvZGVPYmopO1xuICAgIHRlbXBsYXRlLmNvZGUgPSBuZXcgRnVuY3Rpb24oJ2MnLCAncCcsICdpJywgdGhpcy53cmFwTWFpbihjb2RlT2JqLmNvZGUpKTtcbiAgICByZXR1cm4gbmV3IHRoaXMudGVtcGxhdGUodGVtcGxhdGUsIHRleHQsIHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgSG9nYW4ubWFrZVBhcnRpYWxzID0gZnVuY3Rpb24oY29kZU9iaikge1xuICAgIHZhciBrZXksIHRlbXBsYXRlID0ge3N1YnM6IHt9LCBwYXJ0aWFsczogY29kZU9iai5wYXJ0aWFscywgbmFtZTogY29kZU9iai5uYW1lfTtcbiAgICBmb3IgKGtleSBpbiB0ZW1wbGF0ZS5wYXJ0aWFscykge1xuICAgICAgdGVtcGxhdGUucGFydGlhbHNba2V5XSA9IHRoaXMubWFrZVBhcnRpYWxzKHRlbXBsYXRlLnBhcnRpYWxzW2tleV0pO1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBjb2RlT2JqLnN1YnMpIHtcbiAgICAgIHRlbXBsYXRlLnN1YnNba2V5XSA9IG5ldyBGdW5jdGlvbignYycsICdwJywgJ3QnLCAnaScsIGNvZGVPYmouc3Vic1trZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gZXNjKHMpIHtcbiAgICByZXR1cm4gcy5yZXBsYWNlKHJTbGFzaCwgJ1xcXFxcXFxcJylcbiAgICAgICAgICAgIC5yZXBsYWNlKHJRdW90LCAnXFxcXFxcXCInKVxuICAgICAgICAgICAgLnJlcGxhY2Uock5ld2xpbmUsICdcXFxcbicpXG4gICAgICAgICAgICAucmVwbGFjZShyQ3IsICdcXFxccicpXG4gICAgICAgICAgICAucmVwbGFjZShyTGluZVNlcCwgJ1xcXFx1MjAyOCcpXG4gICAgICAgICAgICAucmVwbGFjZShyUGFyYWdyYXBoU2VwLCAnXFxcXHUyMDI5Jyk7XG4gIH1cblxuICBmdW5jdGlvbiBjaG9vc2VNZXRob2Qocykge1xuICAgIHJldHVybiAofnMuaW5kZXhPZignLicpKSA/ICdkJyA6ICdmJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWwobm9kZSwgY29udGV4dCkge1xuICAgIHZhciBwcmVmaXggPSBcIjxcIiArIChjb250ZXh0LnByZWZpeCB8fCBcIlwiKTtcbiAgICB2YXIgc3ltID0gcHJlZml4ICsgbm9kZS5uICsgc2VyaWFsTm8rKztcbiAgICBjb250ZXh0LnBhcnRpYWxzW3N5bV0gPSB7bmFtZTogbm9kZS5uLCBwYXJ0aWFsczoge319O1xuICAgIGNvbnRleHQuY29kZSArPSAndC5iKHQucnAoXCInICsgIGVzYyhzeW0pICsgJ1wiLGMscCxcIicgKyAobm9kZS5pbmRlbnQgfHwgJycpICsgJ1wiKSk7JztcbiAgICByZXR1cm4gc3ltO1xuICB9XG5cbiAgSG9nYW4uY29kZWdlbiA9IHtcbiAgICAnIyc6IGZ1bmN0aW9uKG5vZGUsIGNvbnRleHQpIHtcbiAgICAgIGNvbnRleHQuY29kZSArPSAnaWYodC5zKHQuJyArIGNob29zZU1ldGhvZChub2RlLm4pICsgJyhcIicgKyBlc2Mobm9kZS5uKSArICdcIixjLHAsMSksJyArXG4gICAgICAgICAgICAgICAgICAgICAgJ2MscCwwLCcgKyBub2RlLmkgKyAnLCcgKyBub2RlLmVuZCArICcsXCInICsgbm9kZS5vdGFnICsgXCIgXCIgKyBub2RlLmN0YWcgKyAnXCIpKXsnICtcbiAgICAgICAgICAgICAgICAgICAgICAndC5ycyhjLHAsJyArICdmdW5jdGlvbihjLHAsdCl7JztcbiAgICAgIEhvZ2FuLndhbGsobm9kZS5ub2RlcywgY29udGV4dCk7XG4gICAgICBjb250ZXh0LmNvZGUgKz0gJ30pO2MucG9wKCk7fSc7XG4gICAgfSxcblxuICAgICdeJzogZnVuY3Rpb24obm9kZSwgY29udGV4dCkge1xuICAgICAgY29udGV4dC5jb2RlICs9ICdpZighdC5zKHQuJyArIGNob29zZU1ldGhvZChub2RlLm4pICsgJyhcIicgKyBlc2Mobm9kZS5uKSArICdcIixjLHAsMSksYyxwLDEsMCwwLFwiXCIpKXsnO1xuICAgICAgSG9nYW4ud2Fsayhub2RlLm5vZGVzLCBjb250ZXh0KTtcbiAgICAgIGNvbnRleHQuY29kZSArPSAnfTsnO1xuICAgIH0sXG5cbiAgICAnPic6IGNyZWF0ZVBhcnRpYWwsXG4gICAgJzwnOiBmdW5jdGlvbihub2RlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgY3R4ID0ge3BhcnRpYWxzOiB7fSwgY29kZTogJycsIHN1YnM6IHt9LCBpblBhcnRpYWw6IHRydWV9O1xuICAgICAgSG9nYW4ud2Fsayhub2RlLm5vZGVzLCBjdHgpO1xuICAgICAgdmFyIHRlbXBsYXRlID0gY29udGV4dC5wYXJ0aWFsc1tjcmVhdGVQYXJ0aWFsKG5vZGUsIGNvbnRleHQpXTtcbiAgICAgIHRlbXBsYXRlLnN1YnMgPSBjdHguc3VicztcbiAgICAgIHRlbXBsYXRlLnBhcnRpYWxzID0gY3R4LnBhcnRpYWxzO1xuICAgIH0sXG5cbiAgICAnJCc6IGZ1bmN0aW9uKG5vZGUsIGNvbnRleHQpIHtcbiAgICAgIHZhciBjdHggPSB7c3Viczoge30sIGNvZGU6ICcnLCBwYXJ0aWFsczogY29udGV4dC5wYXJ0aWFscywgcHJlZml4OiBub2RlLm59O1xuICAgICAgSG9nYW4ud2Fsayhub2RlLm5vZGVzLCBjdHgpO1xuICAgICAgY29udGV4dC5zdWJzW25vZGUubl0gPSBjdHguY29kZTtcbiAgICAgIGlmICghY29udGV4dC5pblBhcnRpYWwpIHtcbiAgICAgICAgY29udGV4dC5jb2RlICs9ICd0LnN1YihcIicgKyBlc2Mobm9kZS5uKSArICdcIixjLHAsaSk7JztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgJ1xcbic6IGZ1bmN0aW9uKG5vZGUsIGNvbnRleHQpIHtcbiAgICAgIGNvbnRleHQuY29kZSArPSB3cml0ZSgnXCJcXFxcblwiJyArIChub2RlLmxhc3QgPyAnJyA6ICcgKyBpJykpO1xuICAgIH0sXG5cbiAgICAnX3YnOiBmdW5jdGlvbihub2RlLCBjb250ZXh0KSB7XG4gICAgICBjb250ZXh0LmNvZGUgKz0gJ3QuYih0LnYodC4nICsgY2hvb3NlTWV0aG9kKG5vZGUubikgKyAnKFwiJyArIGVzYyhub2RlLm4pICsgJ1wiLGMscCwwKSkpOyc7XG4gICAgfSxcblxuICAgICdfdCc6IGZ1bmN0aW9uKG5vZGUsIGNvbnRleHQpIHtcbiAgICAgIGNvbnRleHQuY29kZSArPSB3cml0ZSgnXCInICsgZXNjKG5vZGUudGV4dCkgKyAnXCInKTtcbiAgICB9LFxuXG4gICAgJ3snOiB0cmlwbGVTdGFjaGUsXG5cbiAgICAnJic6IHRyaXBsZVN0YWNoZVxuICB9XG5cbiAgZnVuY3Rpb24gdHJpcGxlU3RhY2hlKG5vZGUsIGNvbnRleHQpIHtcbiAgICBjb250ZXh0LmNvZGUgKz0gJ3QuYih0LnQodC4nICsgY2hvb3NlTWV0aG9kKG5vZGUubikgKyAnKFwiJyArIGVzYyhub2RlLm4pICsgJ1wiLGMscCwwKSkpOyc7XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZShzKSB7XG4gICAgcmV0dXJuICd0LmIoJyArIHMgKyAnKTsnO1xuICB9XG5cbiAgSG9nYW4ud2FsayA9IGZ1bmN0aW9uKG5vZGVsaXN0LCBjb250ZXh0KSB7XG4gICAgdmFyIGZ1bmM7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBub2RlbGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZ1bmMgPSBIb2dhbi5jb2RlZ2VuW25vZGVsaXN0W2ldLnRhZ107XG4gICAgICBmdW5jICYmIGZ1bmMobm9kZWxpc3RbaV0sIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dDtcbiAgfVxuXG4gIEhvZ2FuLnBhcnNlID0gZnVuY3Rpb24odG9rZW5zLCB0ZXh0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgcmV0dXJuIGJ1aWxkVHJlZSh0b2tlbnMsICcnLCBbXSwgb3B0aW9ucy5zZWN0aW9uVGFncyB8fCBbXSk7XG4gIH1cblxuICBIb2dhbi5jYWNoZSA9IHt9O1xuXG4gIEhvZ2FuLmNhY2hlS2V5ID0gZnVuY3Rpb24odGV4dCwgb3B0aW9ucykge1xuICAgIHJldHVybiBbdGV4dCwgISFvcHRpb25zLmFzU3RyaW5nLCAhIW9wdGlvbnMuZGlzYWJsZUxhbWJkYSwgb3B0aW9ucy5kZWxpbWl0ZXJzLCAhIW9wdGlvbnMubW9kZWxHZXRdLmpvaW4oJ3x8Jyk7XG4gIH1cblxuICBIb2dhbi5jb21waWxlID0gZnVuY3Rpb24odGV4dCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHZhciBrZXkgPSBIb2dhbi5jYWNoZUtleSh0ZXh0LCBvcHRpb25zKTtcbiAgICB2YXIgdGVtcGxhdGUgPSB0aGlzLmNhY2hlW2tleV07XG5cbiAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgIHZhciBwYXJ0aWFscyA9IHRlbXBsYXRlLnBhcnRpYWxzO1xuICAgICAgZm9yICh2YXIgbmFtZSBpbiBwYXJ0aWFscykge1xuICAgICAgICBkZWxldGUgcGFydGlhbHNbbmFtZV0uaW5zdGFuY2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfVxuXG4gICAgdGVtcGxhdGUgPSB0aGlzLmdlbmVyYXRlKHRoaXMucGFyc2UodGhpcy5zY2FuKHRleHQsIG9wdGlvbnMuZGVsaW1pdGVycyksIHRleHQsIG9wdGlvbnMpLCB0ZXh0LCBvcHRpb25zKTtcbiAgICByZXR1cm4gdGhpcy5jYWNoZVtrZXldID0gdGVtcGxhdGU7XG4gIH1cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiBIb2dhbik7XG4iLCIvKlxuICogIENvcHlyaWdodCAyMDExIFR3aXR0ZXIsIEluYy5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8vIFRoaXMgZmlsZSBpcyBmb3IgdXNlIHdpdGggTm9kZS5qcy4gU2VlIGRpc3QvIGZvciBicm93c2VyIGZpbGVzLlxuXG52YXIgSG9nYW4gPSByZXF1aXJlKCcuL2NvbXBpbGVyJyk7XG5Ib2dhbi5UZW1wbGF0ZSA9IHJlcXVpcmUoJy4vdGVtcGxhdGUnKS5UZW1wbGF0ZTtcbkhvZ2FuLnRlbXBsYXRlID0gSG9nYW4uVGVtcGxhdGU7XG5tb2R1bGUuZXhwb3J0cyA9IEhvZ2FuO1xuIiwiLypcbiAqICBDb3B5cmlnaHQgMjAxMSBUd2l0dGVyLCBJbmMuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG52YXIgSG9nYW4gPSB7fTtcblxuKGZ1bmN0aW9uIChIb2dhbikge1xuICBIb2dhbi5UZW1wbGF0ZSA9IGZ1bmN0aW9uIChjb2RlT2JqLCB0ZXh0LCBjb21waWxlciwgb3B0aW9ucykge1xuICAgIGNvZGVPYmogPSBjb2RlT2JqIHx8IHt9O1xuICAgIHRoaXMuciA9IGNvZGVPYmouY29kZSB8fCB0aGlzLnI7XG4gICAgdGhpcy5jID0gY29tcGlsZXI7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLnRleHQgPSB0ZXh0IHx8ICcnO1xuICAgIHRoaXMucGFydGlhbHMgPSBjb2RlT2JqLnBhcnRpYWxzIHx8IHt9O1xuICAgIHRoaXMuc3VicyA9IGNvZGVPYmouc3VicyB8fCB7fTtcbiAgICB0aGlzLmJ1ZiA9ICcnO1xuICB9XG5cbiAgSG9nYW4uVGVtcGxhdGUucHJvdG90eXBlID0ge1xuICAgIC8vIHJlbmRlcjogcmVwbGFjZWQgYnkgZ2VuZXJhdGVkIGNvZGUuXG4gICAgcjogZnVuY3Rpb24gKGNvbnRleHQsIHBhcnRpYWxzLCBpbmRlbnQpIHsgcmV0dXJuICcnOyB9LFxuXG4gICAgLy8gdmFyaWFibGUgZXNjYXBpbmdcbiAgICB2OiBob2dhbkVzY2FwZSxcblxuICAgIC8vIHRyaXBsZSBzdGFjaGVcbiAgICB0OiBjb2VyY2VUb1N0cmluZyxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGNvbnRleHQsIHBhcnRpYWxzLCBpbmRlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnJpKFtjb250ZXh0XSwgcGFydGlhbHMgfHwge30sIGluZGVudCk7XG4gICAgfSxcblxuICAgIC8vIHJlbmRlciBpbnRlcm5hbCAtLSBhIGhvb2sgZm9yIG92ZXJyaWRlcyB0aGF0IGNhdGNoZXMgcGFydGlhbHMgdG9vXG4gICAgcmk6IGZ1bmN0aW9uIChjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5yKGNvbnRleHQsIHBhcnRpYWxzLCBpbmRlbnQpO1xuICAgIH0sXG5cbiAgICAvLyBlbnN1cmVQYXJ0aWFsXG4gICAgZXA6IGZ1bmN0aW9uKHN5bWJvbCwgcGFydGlhbHMpIHtcbiAgICAgIHZhciBwYXJ0aWFsID0gdGhpcy5wYXJ0aWFsc1tzeW1ib2xdO1xuXG4gICAgICAvLyBjaGVjayB0byBzZWUgdGhhdCBpZiB3ZSd2ZSBpbnN0YW50aWF0ZWQgdGhpcyBwYXJ0aWFsIGJlZm9yZVxuICAgICAgdmFyIHRlbXBsYXRlID0gcGFydGlhbHNbcGFydGlhbC5uYW1lXTtcbiAgICAgIGlmIChwYXJ0aWFsLmluc3RhbmNlICYmIHBhcnRpYWwuYmFzZSA9PSB0ZW1wbGF0ZSkge1xuICAgICAgICByZXR1cm4gcGFydGlhbC5pbnN0YW5jZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB0ZW1wbGF0ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoIXRoaXMuYykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGNvbXBpbGVyIGF2YWlsYWJsZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGUgPSB0aGlzLmMuY29tcGlsZSh0ZW1wbGF0ZSwgdGhpcy5vcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0ZW1wbGF0ZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gV2UgdXNlIHRoaXMgdG8gY2hlY2sgd2hldGhlciB0aGUgcGFydGlhbHMgZGljdGlvbmFyeSBoYXMgY2hhbmdlZFxuICAgICAgdGhpcy5wYXJ0aWFsc1tzeW1ib2xdLmJhc2UgPSB0ZW1wbGF0ZTtcblxuICAgICAgaWYgKHBhcnRpYWwuc3Vicykge1xuICAgICAgICAvLyBNYWtlIHN1cmUgd2UgY29uc2lkZXIgcGFyZW50IHRlbXBsYXRlIG5vd1xuICAgICAgICBpZiAoIXBhcnRpYWxzLnN0YWNrVGV4dCkgcGFydGlhbHMuc3RhY2tUZXh0ID0ge307XG4gICAgICAgIGZvciAoa2V5IGluIHBhcnRpYWwuc3Vicykge1xuICAgICAgICAgIGlmICghcGFydGlhbHMuc3RhY2tUZXh0W2tleV0pIHtcbiAgICAgICAgICAgIHBhcnRpYWxzLnN0YWNrVGV4dFtrZXldID0gKHRoaXMuYWN0aXZlU3ViICE9PSB1bmRlZmluZWQgJiYgcGFydGlhbHMuc3RhY2tUZXh0W3RoaXMuYWN0aXZlU3ViXSkgPyBwYXJ0aWFscy5zdGFja1RleHRbdGhpcy5hY3RpdmVTdWJdIDogdGhpcy50ZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0ZW1wbGF0ZSA9IGNyZWF0ZVNwZWNpYWxpemVkUGFydGlhbCh0ZW1wbGF0ZSwgcGFydGlhbC5zdWJzLCBwYXJ0aWFsLnBhcnRpYWxzLFxuICAgICAgICAgIHRoaXMuc3RhY2tTdWJzLCB0aGlzLnN0YWNrUGFydGlhbHMsIHBhcnRpYWxzLnN0YWNrVGV4dCk7XG4gICAgICB9XG4gICAgICB0aGlzLnBhcnRpYWxzW3N5bWJvbF0uaW5zdGFuY2UgPSB0ZW1wbGF0ZTtcblxuICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH0sXG5cbiAgICAvLyB0cmllcyB0byBmaW5kIGEgcGFydGlhbCBpbiB0aGUgY3VycmVudCBzY29wZSBhbmQgcmVuZGVyIGl0XG4gICAgcnA6IGZ1bmN0aW9uKHN5bWJvbCwgY29udGV4dCwgcGFydGlhbHMsIGluZGVudCkge1xuICAgICAgdmFyIHBhcnRpYWwgPSB0aGlzLmVwKHN5bWJvbCwgcGFydGlhbHMpO1xuICAgICAgaWYgKCFwYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcnRpYWwucmkoY29udGV4dCwgcGFydGlhbHMsIGluZGVudCk7XG4gICAgfSxcblxuICAgIC8vIHJlbmRlciBhIHNlY3Rpb25cbiAgICByczogZnVuY3Rpb24oY29udGV4dCwgcGFydGlhbHMsIHNlY3Rpb24pIHtcbiAgICAgIHZhciB0YWlsID0gY29udGV4dFtjb250ZXh0Lmxlbmd0aCAtIDFdO1xuXG4gICAgICBpZiAoIWlzQXJyYXkodGFpbCkpIHtcbiAgICAgICAgc2VjdGlvbihjb250ZXh0LCBwYXJ0aWFscywgdGhpcyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWlsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnRleHQucHVzaCh0YWlsW2ldKTtcbiAgICAgICAgc2VjdGlvbihjb250ZXh0LCBwYXJ0aWFscywgdGhpcyk7XG4gICAgICAgIGNvbnRleHQucG9wKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIG1heWJlIHN0YXJ0IGEgc2VjdGlvblxuICAgIHM6IGZ1bmN0aW9uKHZhbCwgY3R4LCBwYXJ0aWFscywgaW52ZXJ0ZWQsIHN0YXJ0LCBlbmQsIHRhZ3MpIHtcbiAgICAgIHZhciBwYXNzO1xuXG4gICAgICBpZiAoaXNBcnJheSh2YWwpICYmIHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHZhbCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbCA9IHRoaXMubXModmFsLCBjdHgsIHBhcnRpYWxzLCBpbnZlcnRlZCwgc3RhcnQsIGVuZCwgdGFncyk7XG4gICAgICB9XG5cbiAgICAgIHBhc3MgPSAhIXZhbDtcblxuICAgICAgaWYgKCFpbnZlcnRlZCAmJiBwYXNzICYmIGN0eCkge1xuICAgICAgICBjdHgucHVzaCgodHlwZW9mIHZhbCA9PSAnb2JqZWN0JykgPyB2YWwgOiBjdHhbY3R4Lmxlbmd0aCAtIDFdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhc3M7XG4gICAgfSxcblxuICAgIC8vIGZpbmQgdmFsdWVzIHdpdGggZG90dGVkIG5hbWVzXG4gICAgZDogZnVuY3Rpb24oa2V5LCBjdHgsIHBhcnRpYWxzLCByZXR1cm5Gb3VuZCkge1xuICAgICAgdmFyIGZvdW5kLFxuICAgICAgICAgIG5hbWVzID0ga2V5LnNwbGl0KCcuJyksXG4gICAgICAgICAgdmFsID0gdGhpcy5mKG5hbWVzWzBdLCBjdHgsIHBhcnRpYWxzLCByZXR1cm5Gb3VuZCksXG4gICAgICAgICAgZG9Nb2RlbEdldCA9IHRoaXMub3B0aW9ucy5tb2RlbEdldCxcbiAgICAgICAgICBjeCA9IG51bGw7XG5cbiAgICAgIGlmIChrZXkgPT09ICcuJyAmJiBpc0FycmF5KGN0eFtjdHgubGVuZ3RoIC0gMl0pKSB7XG4gICAgICAgIHZhbCA9IGN0eFtjdHgubGVuZ3RoIC0gMV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgZm91bmQgPSBmaW5kSW5TY29wZShuYW1lc1tpXSwgdmFsLCBkb01vZGVsR2V0KTtcbiAgICAgICAgICBpZiAoZm91bmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY3ggPSB2YWw7XG4gICAgICAgICAgICB2YWwgPSBmb3VuZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXR1cm5Gb3VuZCAmJiAhdmFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFyZXR1cm5Gb3VuZCAmJiB0eXBlb2YgdmFsID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY3R4LnB1c2goY3gpO1xuICAgICAgICB2YWwgPSB0aGlzLm12KHZhbCwgY3R4LCBwYXJ0aWFscyk7XG4gICAgICAgIGN0eC5wb3AoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuXG4gICAgLy8gZmluZCB2YWx1ZXMgd2l0aCBub3JtYWwgbmFtZXNcbiAgICBmOiBmdW5jdGlvbihrZXksIGN0eCwgcGFydGlhbHMsIHJldHVybkZvdW5kKSB7XG4gICAgICB2YXIgdmFsID0gZmFsc2UsXG4gICAgICAgICAgdiA9IG51bGwsXG4gICAgICAgICAgZm91bmQgPSBmYWxzZSxcbiAgICAgICAgICBkb01vZGVsR2V0ID0gdGhpcy5vcHRpb25zLm1vZGVsR2V0O1xuXG4gICAgICBmb3IgKHZhciBpID0gY3R4Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHYgPSBjdHhbaV07XG4gICAgICAgIHZhbCA9IGZpbmRJblNjb3BlKGtleSwgdiwgZG9Nb2RlbEdldCk7XG4gICAgICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgIHJldHVybiAocmV0dXJuRm91bmQpID8gZmFsc2UgOiBcIlwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXJldHVybkZvdW5kICYmIHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWwgPSB0aGlzLm12KHZhbCwgY3R4LCBwYXJ0aWFscyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfSxcblxuICAgIC8vIGhpZ2hlciBvcmRlciB0ZW1wbGF0ZXNcbiAgICBsczogZnVuY3Rpb24oZnVuYywgY3gsIHBhcnRpYWxzLCB0ZXh0LCB0YWdzKSB7XG4gICAgICB2YXIgb2xkVGFncyA9IHRoaXMub3B0aW9ucy5kZWxpbWl0ZXJzO1xuXG4gICAgICB0aGlzLm9wdGlvbnMuZGVsaW1pdGVycyA9IHRhZ3M7XG4gICAgICB0aGlzLmIodGhpcy5jdChjb2VyY2VUb1N0cmluZyhmdW5jLmNhbGwoY3gsIHRleHQpKSwgY3gsIHBhcnRpYWxzKSk7XG4gICAgICB0aGlzLm9wdGlvbnMuZGVsaW1pdGVycyA9IG9sZFRhZ3M7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLy8gY29tcGlsZSB0ZXh0XG4gICAgY3Q6IGZ1bmN0aW9uKHRleHQsIGN4LCBwYXJ0aWFscykge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5kaXNhYmxlTGFtYmRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTGFtYmRhIGZlYXR1cmVzIGRpc2FibGVkLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuYy5jb21waWxlKHRleHQsIHRoaXMub3B0aW9ucykucmVuZGVyKGN4LCBwYXJ0aWFscyk7XG4gICAgfSxcblxuICAgIC8vIHRlbXBsYXRlIHJlc3VsdCBidWZmZXJpbmdcbiAgICBiOiBmdW5jdGlvbihzKSB7IHRoaXMuYnVmICs9IHM7IH0sXG5cbiAgICBmbDogZnVuY3Rpb24oKSB7IHZhciByID0gdGhpcy5idWY7IHRoaXMuYnVmID0gJyc7IHJldHVybiByOyB9LFxuXG4gICAgLy8gbWV0aG9kIHJlcGxhY2Ugc2VjdGlvblxuICAgIG1zOiBmdW5jdGlvbihmdW5jLCBjdHgsIHBhcnRpYWxzLCBpbnZlcnRlZCwgc3RhcnQsIGVuZCwgdGFncykge1xuICAgICAgdmFyIHRleHRTb3VyY2UsXG4gICAgICAgICAgY3ggPSBjdHhbY3R4Lmxlbmd0aCAtIDFdLFxuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuY2FsbChjeCk7XG5cbiAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKGludmVydGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGV4dFNvdXJjZSA9ICh0aGlzLmFjdGl2ZVN1YiAmJiB0aGlzLnN1YnNUZXh0ICYmIHRoaXMuc3Vic1RleHRbdGhpcy5hY3RpdmVTdWJdKSA/IHRoaXMuc3Vic1RleHRbdGhpcy5hY3RpdmVTdWJdIDogdGhpcy50ZXh0O1xuICAgICAgICAgIHJldHVybiB0aGlzLmxzKHJlc3VsdCwgY3gsIHBhcnRpYWxzLCB0ZXh0U291cmNlLnN1YnN0cmluZyhzdGFydCwgZW5kKSwgdGFncyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgLy8gbWV0aG9kIHJlcGxhY2UgdmFyaWFibGVcbiAgICBtdjogZnVuY3Rpb24oZnVuYywgY3R4LCBwYXJ0aWFscykge1xuICAgICAgdmFyIGN4ID0gY3R4W2N0eC5sZW5ndGggLSAxXTtcbiAgICAgIHZhciByZXN1bHQgPSBmdW5jLmNhbGwoY3gpO1xuXG4gICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN0KGNvZXJjZVRvU3RyaW5nKHJlc3VsdC5jYWxsKGN4KSksIGN4LCBwYXJ0aWFscyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIHN1YjogZnVuY3Rpb24obmFtZSwgY29udGV4dCwgcGFydGlhbHMsIGluZGVudCkge1xuICAgICAgdmFyIGYgPSB0aGlzLnN1YnNbbmFtZV07XG4gICAgICBpZiAoZikge1xuICAgICAgICB0aGlzLmFjdGl2ZVN1YiA9IG5hbWU7XG4gICAgICAgIGYoY29udGV4dCwgcGFydGlhbHMsIHRoaXMsIGluZGVudCk7XG4gICAgICAgIHRoaXMuYWN0aXZlU3ViID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gIH07XG5cbiAgLy9GaW5kIGEga2V5IGluIGFuIG9iamVjdFxuICBmdW5jdGlvbiBmaW5kSW5TY29wZShrZXksIHNjb3BlLCBkb01vZGVsR2V0KSB7XG4gICAgdmFyIHZhbDtcblxuICAgIGlmIChzY29wZSAmJiB0eXBlb2Ygc2NvcGUgPT0gJ29iamVjdCcpIHtcblxuICAgICAgaWYgKHNjb3BlW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWwgPSBzY29wZVtrZXldO1xuXG4gICAgICAvLyB0cnkgbG9va3VwIHdpdGggZ2V0IGZvciBiYWNrYm9uZSBvciBzaW1pbGFyIG1vZGVsIGRhdGFcbiAgICAgIH0gZWxzZSBpZiAoZG9Nb2RlbEdldCAmJiBzY29wZS5nZXQgJiYgdHlwZW9mIHNjb3BlLmdldCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbCA9IHNjb3BlLmdldChrZXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVTcGVjaWFsaXplZFBhcnRpYWwoaW5zdGFuY2UsIHN1YnMsIHBhcnRpYWxzLCBzdGFja1N1YnMsIHN0YWNrUGFydGlhbHMsIHN0YWNrVGV4dCkge1xuICAgIGZ1bmN0aW9uIFBhcnRpYWxUZW1wbGF0ZSgpIHt9O1xuICAgIFBhcnRpYWxUZW1wbGF0ZS5wcm90b3R5cGUgPSBpbnN0YW5jZTtcbiAgICBmdW5jdGlvbiBTdWJzdGl0dXRpb25zKCkge307XG4gICAgU3Vic3RpdHV0aW9ucy5wcm90b3R5cGUgPSBpbnN0YW5jZS5zdWJzO1xuICAgIHZhciBrZXk7XG4gICAgdmFyIHBhcnRpYWwgPSBuZXcgUGFydGlhbFRlbXBsYXRlKCk7XG4gICAgcGFydGlhbC5zdWJzID0gbmV3IFN1YnN0aXR1dGlvbnMoKTtcbiAgICBwYXJ0aWFsLnN1YnNUZXh0ID0ge307ICAvL2hlaGUuIHN1YnN0ZXh0LlxuICAgIHBhcnRpYWwuYnVmID0gJyc7XG5cbiAgICBzdGFja1N1YnMgPSBzdGFja1N1YnMgfHwge307XG4gICAgcGFydGlhbC5zdGFja1N1YnMgPSBzdGFja1N1YnM7XG4gICAgcGFydGlhbC5zdWJzVGV4dCA9IHN0YWNrVGV4dDtcbiAgICBmb3IgKGtleSBpbiBzdWJzKSB7XG4gICAgICBpZiAoIXN0YWNrU3Vic1trZXldKSBzdGFja1N1YnNba2V5XSA9IHN1YnNba2V5XTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gc3RhY2tTdWJzKSB7XG4gICAgICBwYXJ0aWFsLnN1YnNba2V5XSA9IHN0YWNrU3Vic1trZXldO1xuICAgIH1cblxuICAgIHN0YWNrUGFydGlhbHMgPSBzdGFja1BhcnRpYWxzIHx8IHt9O1xuICAgIHBhcnRpYWwuc3RhY2tQYXJ0aWFscyA9IHN0YWNrUGFydGlhbHM7XG4gICAgZm9yIChrZXkgaW4gcGFydGlhbHMpIHtcbiAgICAgIGlmICghc3RhY2tQYXJ0aWFsc1trZXldKSBzdGFja1BhcnRpYWxzW2tleV0gPSBwYXJ0aWFsc1trZXldO1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBzdGFja1BhcnRpYWxzKSB7XG4gICAgICBwYXJ0aWFsLnBhcnRpYWxzW2tleV0gPSBzdGFja1BhcnRpYWxzW2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnRpYWw7XG4gIH1cblxuICB2YXIgckFtcCA9IC8mL2csXG4gICAgICByTHQgPSAvPC9nLFxuICAgICAgckd0ID0gLz4vZyxcbiAgICAgIHJBcG9zID0gL1xcJy9nLFxuICAgICAgclF1b3QgPSAvXFxcIi9nLFxuICAgICAgaENoYXJzID0gL1smPD5cXFwiXFwnXS87XG5cbiAgZnVuY3Rpb24gY29lcmNlVG9TdHJpbmcodmFsKSB7XG4gICAgcmV0dXJuIFN0cmluZygodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSA/ICcnIDogdmFsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhvZ2FuRXNjYXBlKHN0cikge1xuICAgIHN0ciA9IGNvZXJjZVRvU3RyaW5nKHN0cik7XG4gICAgcmV0dXJuIGhDaGFycy50ZXN0KHN0cikgP1xuICAgICAgc3RyXG4gICAgICAgIC5yZXBsYWNlKHJBbXAsICcmYW1wOycpXG4gICAgICAgIC5yZXBsYWNlKHJMdCwgJyZsdDsnKVxuICAgICAgICAucmVwbGFjZShyR3QsICcmZ3Q7JylcbiAgICAgICAgLnJlcGxhY2UockFwb3MsICcmIzM5OycpXG4gICAgICAgIC5yZXBsYWNlKHJRdW90LCAnJnF1b3Q7JykgOlxuICAgICAgc3RyO1xuICB9XG5cbiAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uKGEpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogSG9nYW4pO1xuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgcmV0dXJuIHtcbiAgICAgIGJnQ29sb3VyOiBbXG4gICAgXHRcIiNCOEQ0MzBcIixcbiAgICBcdFwiIzNBQjc0NVwiLFxuICAgIFx0XCIjMDI5OTkwXCIsXG4gICAgXHRcIiMzNTAxQ0JcIixcbiAgICBcdFwiIzJFMkM3NVwiLFxuICAgIFx0XCIjNjczQTdFXCIsXG4gICAgXHRcIiNDQzAwNzFcIixcbiAgICBcdFwiI0Y4MDEyMFwiLFxuICAgIFx0XCIjRjM1QjIwXCIsXG4gICAgXHRcIiNGQjlBMDBcIixcbiAgICBcdFwiI0ZGQ0MwMFwiLFxuICAgIFx0XCIjRkVGMjAwXCJcbiAgICBdLFxuICAgIGZvbnRDb2xvdXI6IFtcbiAgICBcdFwiIzMzM1wiLFxuICAgIFx0XCIjMzMzXCIsXG4gICAgXHRcIiMzMzNcIixcbiAgICBcdFwiI0ZGRlwiLFxuICAgIFx0XCIjRkZGXCIsXG4gICAgXHRcIiNGRkZcIixcbiAgICBcdFwiI0ZGRlwiLFxuICAgIFx0XCIjMzMzXCIsXG4gICAgXHRcIiMzMzNcIixcbiAgICBcdFwiIzMzM1wiLFxuICAgIFx0XCIjMzMzXCIsXG4gICAgXHRcIiMzMzNcIlxuICAgIF1cbiAgfTtcbn0oKSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICByZXR1cm4gW1xuICAgICAge25hbWU6XCJXZW5keSdzXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sIHtuYW1lOlwiTWNEb25hbGRzXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sXG4gICAgICB7bmFtZTpcIkNoaWNrLWZpbC1hXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sIHtuYW1lOlwiRml2ZSBHdXlzXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sXG4gICAgICB7bmFtZTpcIkdvbGQgU3RhclwiLCBsYXQ6XCJcIiwgbG5nOlwiXCIsIHZpY2luaXR5OlwiXCJ9LCB7bmFtZTpcIkxhIE1leGljYW5hXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sXG4gICAgICB7bmFtZTpcIkNoaXBvdGxlXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sIHtuYW1lOlwiVGF6emEgTWlhXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sXG4gICAgICB7bmFtZTpcIlBhbmVyYVwiLCBsYXQ6XCJcIiwgbG5nOlwiXCIsIHZpY2luaXR5OlwiXCJ9LCB7bmFtZTpcIkp1c3QgQ3JlcGVzXCIsIGxhdDpcIlwiLCBsbmc6XCJcIiwgdmljaW5pdHk6XCJcIn0sXG4gICAgICB7bmFtZTpcIkFyYnknc1wiLCBsYXQ6XCJcIiwgbG5nOlwiXCIsIHZpY2luaXR5OlwiXCJ9LCB7bmFtZTpcIkluZGlhblwiLCBsYXQ6XCJcIiwgbG5nOlwiXCIsIHZpY2luaXR5OlwiXCJ9XG4gICAgXTtcblxufSgpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCQpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIFBsYWNlcyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvcGxhY2VzLmpzJyk7XG5cbiAgLyogQ29uc3RhbnRzICovXG4gIHZhciBIVE1MX09VVFBVVCA9IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9zZXR0aW5ncy5odG1sJyk7XG4gIHZhciBJRCA9ICcjc2V0dGluZ3MnO1xuXG4gIC8qIEJ1dHRvbnMgJiBJbnB1dHMgKi9cbiAgdmFyIE9QRU5fQ0xPU0VfQlVUVE9OID0gJyNzZXR0aW5ncyBhLnNldHRpbmdzJztcbiAgdmFyIENMSUNLX01FX1RFWFQgPSAnI3NldHRpbmdzIC5jbGlja21lJztcbiAgdmFyIFBMQUNFX1RZUEVfUkFESU8gPSAnI3NldHRpbmdzIC5wbGFjZXR5cGUnO1xuICB2YXIgTEFUX0lOUFVUID0gJyNzZXR0aW5ncyBpbnB1dC5sYXRpdHVkZSc7XG4gIHZhciBMTkdfSU5QVVQgPSAnI3NldHRpbmdzIGlucHV0LmxvbmdpdHVkZSc7XG4gIHZhciBSQURfSU5QVVQgPSAnI3NldHRpbmdzIGlucHV0LnJhZGl1cyc7XG4gIHZhciBNQVhfUExBQ0VTX0lOUFVUID0gJyNzZXR0aW5ncyBpbnB1dC5tYXhwbGFjZXMnO1xuICB2YXIgU0hBUkVfTElOS19JTlBVVCA9ICcjc2V0dGluZ3MgaW5wdXQuc2hhcmVsaW5rJztcbiAgdmFyIFNFQVJDSF9CVVRUT04gPSAnI3NldHRpbmdzLXNlYXJjaCc7XG4gIHZhciBEWU5BTUlDX1NFQVJDSF9JTlBVVCA9ICcjc2V0dGluZ3MgaW5wdXQuZHluYW1pYy1zZWFyY2gnO1xuXG4gIGZ1bmN0aW9uIFNldHRpbmdzKCkge1xuXG4gICAgdGhpcy5lbGVtcyA9IHtcbiAgICAgIGlkOiBJRCxcbiAgICAgIHJvb3Q6IG51bGxcbiAgICB9O1xuXG4gICAgdGhpcy5zZXR0aW5ncyA9IHtcbiAgICAgIHBsYWNlVHlwZTogJ3Jlc3RhdXJhbnQnLFxuICAgICAgbGF0aXR1ZGU6ICcnLFxuICAgICAgbG9uZ2l0dWRlOiAnJyxcbiAgICAgIHJhZGl1czogMzAwLFxuICAgICAgbWF4UGxhY2VzOiAxMixcbiAgICAgIHNoYXJlTGluazogJycsXG4gICAgICBkeW5hbWljU2VhcmNoOiBmYWxzZVxuICAgIH07XG5cbiAgICB0aGlzLlVSTHBhcmFtcyA9IFdPTC5hcHAudXRpbGl0aWVzLmdldFVSTFBhcmFtcygpO1xuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBTZXR0aW5ncy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmKHR5cGVvZiB0aGlzLlVSTHBhcmFtcy5sYXQgIT09ICd1bmRlZmluZWQnKSB7IHRoaXMuc2V0dGluZ3MubGF0aXR1ZGUgPSB0aGlzLlVSTHBhcmFtcy5sYXQ7IH1cbiAgICBpZih0eXBlb2YgdGhpcy5VUkxwYXJhbXMubG9uZyAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy5zZXR0aW5ncy5sb25naXR1ZGUgPSB0aGlzLlVSTHBhcmFtcy5sb25nOyB9XG4gICAgaWYodHlwZW9mIHRoaXMuVVJMcGFyYW1zLnJhZGl1cyAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy5zZXR0aW5ncy5yYWRpdXMgPSB0aGlzLlVSTHBhcmFtcy5yYWRpdXM7IH1cbiAgICBpZih0eXBlb2YgdGhpcy5VUkxwYXJhbXMudHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy5zZXR0aW5ncy5wbGFjZVR5cGUgPSB0aGlzLlVSTHBhcmFtcy50eXBlOyB9XG4gICAgaWYodHlwZW9mIHRoaXMuVVJMcGFyYW1zLm1heHBsYWNlcyAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy5zZXR0aW5ncy5tYXhQbGFjZXMgPSB0aGlzLlVSTHBhcmFtcy5tYXhwbGFjZXM7IH1cblxuICAgIHRoaXMuZWxlbXMucm9vdCA9ICQoSUQpO1xuICAgIHRoaXMuYWRkV2luZG93KCk7XG4gICAgdGhpcy5wb3B1bGF0ZSgpO1xuICAgIHRoaXMuYWRkRXZlbnRzKCk7XG4gIH07XG5cbiAgU2V0dGluZ3MucHJvdG90eXBlLmFkZFdpbmRvdyA9IGZ1bmN0aW9uKCkge1xuICAgICQoJ2JvZHknKS5wcmVwZW5kKEhUTUxfT1VUUFVUKTtcbiAgfTtcblxuICBTZXR0aW5ncy5wcm90b3R5cGUuYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgJChPUEVOX0NMT1NFX0JVVFRPTikub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAkKCcuY2xpY2ttZScpLnJlbW92ZSgpO1xuICAgICAgJCgnLnNldHRpbmdzJykudG9nZ2xlQ2xhc3MoJ3NldHRpbmdzLW9wZW4nKTtcbiAgICB9KTtcblxuICAgICQoU0VBUkNIX0JVVFRPTikub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnNhdmUoKTtcbiAgICAgIFdPTC5hcHAucGxhY2VzID0gbmV3IFBsYWNlcyhzZWxmLnNldHRpbmdzKTtcbiAgICB9KTtcbiAgfTtcblxuICBTZXR0aW5ncy5wcm90b3R5cGUucG9wdWxhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAkKFBMQUNFX1RZUEVfUkFESU8gKyAnLicgKyB0aGlzLnNldHRpbmdzLnBsYWNlVHlwZSkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuICAgICQoTEFUX0lOUFVUKS52YWwodGhpcy5zZXR0aW5ncy5sYXRpdHVkZSk7XG4gICAgJChMTkdfSU5QVVQpLnZhbCh0aGlzLnNldHRpbmdzLmxvbmdpdHVkZSk7XG4gICAgJChSQURfSU5QVVQpLnZhbCh0aGlzLnNldHRpbmdzLnJhZGl1cyk7XG4gICAgJChNQVhfUExBQ0VTX0lOUFVUKS52YWwodGhpcy5zZXR0aW5ncy5tYXhQbGFjZXMpO1xuICAgIHRoaXMuc2V0dGluZ3Muc2hhcmVMaW5rID0gdGhpcy5nZXRTaGFyZUxpbmsoKTtcbiAgICAkKFNIQVJFX0xJTktfSU5QVVQpLnZhbCh0aGlzLnNldHRpbmdzLnNoYXJlTGluayk7XG4gIH07XG5cbiAgU2V0dGluZ3MucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNldHRpbmdzLnBsYWNlVHlwZSA9ICQoUExBQ0VfVFlQRV9SQURJTyArICc6Y2hlY2tlZCcpLnZhbCgpO1xuICAgIHRoaXMuc2V0dGluZ3MubGF0aXR1ZGUgPSAkKExBVF9JTlBVVCkudmFsKCk7XG4gICAgdGhpcy5zZXR0aW5ncy5sb25naXR1ZGUgPSAkKExOR19JTlBVVCkudmFsKCk7XG4gICAgdGhpcy5zZXR0aW5ncy5yYWRpdXMgPSAkKFJBRF9JTlBVVCkudmFsKCk7XG4gICAgdGhpcy5zZXR0aW5ncy5tYXhQbGFjZXMgPSAkKE1BWF9QTEFDRVNfSU5QVVQpLnZhbCgpO1xuICAgIHRoaXMuc2V0dGluZ3Muc2hhcmVMaW5rID0gdGhpcy5nZXRTaGFyZUxpbmsoKTtcbiAgICB0aGlzLnNldHRpbmdzLmR5bmFtaWNTZWFyY2ggPSAkKERZTkFNSUNfU0VBUkNIX0lOUFVUKS5pcygnOmNoZWNrZWQnKTtcbiAgICB0aGlzLnBvcHVsYXRlKCk7XG4gIH07XG5cbiAgU2V0dGluZ3MucHJvdG90eXBlLnNldExhdExvbmcgPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgIHRoaXMuc2V0dGluZ3MubGF0aXR1ZGUgPSBwb3NpdGlvbi5sYXRpdHVkZTtcbiAgICB0aGlzLnNldHRpbmdzLmxvbmdpdHVkZSA9IHBvc2l0aW9uLmxvbmdpdHVkZTtcbiAgICB0aGlzLnBvcHVsYXRlKCk7XG4gIH07XG5cbiAgU2V0dGluZ3MucHJvdG90eXBlLnNldFJhZGl1cyA9IGZ1bmN0aW9uKHJhZGl1cykge1xuICAgIHRoaXMuc2V0dGluZ3MucmFkaXVzID0gcmFkaXVzO1xuICAgIHRoaXMucG9wdWxhdGUoKTtcbiAgfTtcblxuICBTZXR0aW5ncy5wcm90b3R5cGUuZ2V0U2hhcmVMaW5rID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG4gIFx0dmFyIHBhcmFtcyA9IHtcbiAgICBcdFx0XHRsYXQ6IHRoaXMuc2V0dGluZ3MubGF0aXR1ZGUsXG4gICAgXHRcdFx0bG9uZzogdGhpcy5zZXR0aW5ncy5sb25naXR1ZGUsXG4gICAgXHRcdFx0cmFkaXVzOiB0aGlzLnNldHRpbmdzLnJhZGl1cyxcbiAgICBcdFx0XHR0eXBlOiB0aGlzLnNldHRpbmdzLnBsYWNlVHlwZSxcbiAgICBcdFx0XHRtYXhwbGFjZXM6IHRoaXMuc2V0dGluZ3MubWF4UGxhY2VzXG4gIFx0XHR9O1xuXG4gIFx0cmV0dXJuIHVybCArICc/JyArICQucGFyYW0ocGFyYW1zKTtcbiAgfTtcblxuICByZXR1cm4gU2V0dGluZ3M7XG59KGpRdWVyeSkpO1xuIiwiKGZ1bmN0aW9uKCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgV09MID0gd2luZG93LldPTCA9IHJlcXVpcmUoJy4vd2hlZWwtb2YtbHVuY2guanMnKTtcblxuICByZXF1aXJlKCcuL3BhZ2VzL2dsb2JhbC5qcycpO1xuICByZXF1aXJlKCcuL3BhZ2VzL21haW4uanMnKTtcblxufSkoKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCQpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyogQ29uc3RhbnRzICovXG4gIHZhciBIVE1MX09VVFBVVCA9IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9sb2NhbGlzYXRpb24tZXJyb3IuaHRtbCcpO1xuICB2YXIgSUQgPSAnI2xvY2FsaXNhdGlvbi1lcnJvcic7XG5cbiAgLyogQnV0dG9ucyAqL1xuICB2YXIgQ09OVElOVUVfQlVUVE9OID0gJyNsb2NhbGlzYXRpb24tY29udGludWUtYnV0dG9uJztcblxuICBmdW5jdGlvbiBFcnJvckxvY2F0aW9uTGlnaHRib3goKSB7XG5cbiAgICB0aGlzLmVsZW1zID0ge1xuICAgICAgaWQ6IElELFxuICAgICAgcm9vdDogbnVsbFxuICAgIH07XG5cbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIEVycm9yTG9jYXRpb25MaWdodGJveC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuYWRkV2luZG93KCk7XG4gIH07XG5cbiAgRXJyb3JMb2NhdGlvbkxpZ2h0Ym94LnByb3RvdHlwZS5hZGRXaW5kb3cgPSBmdW5jdGlvbigpIHtcbiAgICAkKCdib2R5JykucHJlcGVuZChIVE1MX09VVFBVVCk7XG4gICAgdGhpcy5lbGVtcy5yb290ID0gJChJRCk7XG4gICAgdGhpcy5hZGRFdmVudHMoKTtcbiAgfTtcblxuICBFcnJvckxvY2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmNsb3NlV2luZG93ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5lbGVtcy5yb290LnJlbW92ZSgpO1xuICB9O1xuXG4gIEVycm9yTG9jYXRpb25MaWdodGJveC5wcm90b3R5cGUuYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgJChDT05USU5VRV9CVVRUT04pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5jbG9zZVdpbmRvdygpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBFcnJvckxvY2F0aW9uTGlnaHRib3g7XG59KGpRdWVyeSkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oJCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgR2VvbG9jYXRpb24gPSByZXF1aXJlKCcuLi9tb2R1bGVzL2dlb2xvY2F0aW9uLmpzJyk7XG5cbiAgLyogQ29uc3RhbnRzICovXG4gIHZhciBIVE1MX09VVFBVVCA9IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9sb2NhbGlzYXRpb24tbG9hZGluZy5odG1sJyk7XG4gIHZhciBJRCA9ICcjZ2VvbG9jYXRpb24nO1xuXG4gIGZ1bmN0aW9uIEdlb2xvY2F0aW9uTGlnaHRib3goKSB7XG5cbiAgICB0aGlzLmVsZW1zID0ge1xuICAgICAgaWQ6IElELFxuICAgICAgcm9vdDogbnVsbFxuICAgIH07XG5cbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIEdlb2xvY2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmFkZFdpbmRvdygpO1xuICB9O1xuXG4gIEdlb2xvY2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmFkZFdpbmRvdyA9IGZ1bmN0aW9uKCkge1xuICAgICQoJ2JvZHknKS5wcmVwZW5kKEhUTUxfT1VUUFVUKTtcbiAgICB0aGlzLmVsZW1zLnJvb3QgPSAkKElEKTtcbiAgICB0aGlzLmdldExvY2F0aW9uKCk7XG4gIH07XG5cbiAgR2VvbG9jYXRpb25MaWdodGJveC5wcm90b3R5cGUuY2xvc2VXaW5kb3cgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVsZW1zLnJvb3QucmVtb3ZlKCk7XG4gIH07XG5cbiAgR2VvbG9jYXRpb25MaWdodGJveC5wcm90b3R5cGUuZ2V0TG9jYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgV09MLmFwcC5nZW9sb2NhdGlvbiA9IG5ldyBHZW9sb2NhdGlvbihmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuY2xvc2VXaW5kb3coKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gR2VvbG9jYXRpb25MaWdodGJveDtcbn0oalF1ZXJ5KSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigkKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBHZW9sb2NhdGlvbkxpZ2h0Ym94ID0gcmVxdWlyZSgnLi9nZW9sb2NhdGlvbkxpZ2h0Ym94LmpzJyk7XG4gIHZhciBNYXBMaWdodGJveCA9IHJlcXVpcmUoJy4vbWFwTGlnaHRib3guanMnKTtcblxuICAvKiBDb25zdGFudHMgKi9cbiAgdmFyIEhUTUxfT1VUUFVUID0gcmVxdWlyZSgnLi4vLi4vdGVtcGxhdGVzL2xvY2FsaXNhdGlvbi5odG1sJyk7XG4gIHZhciBJRCA9ICcjbG9jYWxpc2F0aW9uJztcblxuICAvKiBCdXR0b25zICovXG4gIHZhciBDVVJSRU5UX0xPQ0FUSU9OX0JVVFRPTiA9ICcjbG9jYXRpb24tb3B0aW9uLWN1cnJlbnQnO1xuICB2YXIgRklORF9MT0NBVElPTl9CVVRUT04gPSAnI2xvY2F0aW9uLW9wdGlvbi1maW5kJztcblxuICBmdW5jdGlvbiBMb2NhbGlzYXRpb25MaWdodGJveCgpIHtcblxuICAgIHRoaXMuZWxlbXMgPSB7XG4gICAgICBpZDogSUQsXG4gICAgICByb290OiBudWxsXG4gICAgfTtcblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgTG9jYWxpc2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmFkZFdpbmRvdygpO1xuICB9O1xuXG4gIExvY2FsaXNhdGlvbkxpZ2h0Ym94LnByb3RvdHlwZS5hZGRXaW5kb3cgPSBmdW5jdGlvbigpIHtcbiAgICAkKCdib2R5JykucHJlcGVuZChIVE1MX09VVFBVVCk7XG4gICAgdGhpcy5lbGVtcy5yb290ID0gJChJRCk7XG4gICAgdGhpcy5hZGRFdmVudHMoKTtcbiAgfTtcblxuICBMb2NhbGlzYXRpb25MaWdodGJveC5wcm90b3R5cGUuY2xvc2VXaW5kb3cgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVsZW1zLnJvb3QucmVtb3ZlKCk7XG4gIH07XG5cbiAgTG9jYWxpc2F0aW9uTGlnaHRib3gucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICQoQ1VSUkVOVF9MT0NBVElPTl9CVVRUT04pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5zaG93Q3VycmVudExvY2F0aW9uTGlnaHRib3goKTtcbiAgICAgIHNlbGYuY2xvc2VXaW5kb3coKTtcbiAgICB9KTtcblxuICAgICQoRklORF9MT0NBVElPTl9CVVRUT04pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5zaG93RmluZExvY2F0aW9uTGlnaHRib3goKTtcbiAgICAgIHNlbGYuY2xvc2VXaW5kb3coKTtcbiAgICB9KTtcbiAgfTtcblxuICBMb2NhbGlzYXRpb25MaWdodGJveC5wcm90b3R5cGUuc2hvd0N1cnJlbnRMb2NhdGlvbkxpZ2h0Ym94ID0gZnVuY3Rpb24oKSB7XG4gICAgV09MLmFwcC5saWdodGJveC5HZW9sb2NhdGlvbiA9IG5ldyBHZW9sb2NhdGlvbkxpZ2h0Ym94KCk7XG4gIH07XG5cbiAgTG9jYWxpc2F0aW9uTGlnaHRib3gucHJvdG90eXBlLnNob3dGaW5kTG9jYXRpb25MaWdodGJveCA9IGZ1bmN0aW9uKCkge1xuICAgIFdPTC5hcHAubGlnaHRib3guTWFwID0gbmV3IE1hcExpZ2h0Ym94KCk7XG4gIH07XG5cbiAgcmV0dXJuIExvY2FsaXNhdGlvbkxpZ2h0Ym94O1xufShqUXVlcnkpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBNYXBMaWdodGJveCgpIHtcblxuICB9XG5cbiAgcmV0dXJuIE1hcExpZ2h0Ym94O1xufSgpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCQpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyogQ29uc3RhbnRzICovXG4gIHZhciBIVE1MX09VVFBVVCA9IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9yZXN1bHQubXVzdGFjaGUnKTtcbiAgdmFyIElEID0gJyNyZXN1bHQnO1xuXG4gIC8qIEJ1dHRvbnMgKi9cbiAgdmFyIFJBVElORyA9ICcjcmVzdWx0IC5yYXRpbmcnO1xuICB2YXIgUkFUSU5HX0ZHID0gJyNyZXN1bHQgLnJhdGluZy1mb3JlZ3JvdW5kJztcbiAgdmFyIENMT1NFX0JVVFRPTiA9ICcjcmVzdWx0IC5jbG9zZSc7XG5cbiAgZnVuY3Rpb24gUmVzdWx0TGlnaHRib3gocmVzdGF1cmFudCkge1xuXG4gICAgdGhpcy5lbGVtcyA9IHtcbiAgICAgIGlkOiBJRCxcbiAgICAgIHJvb3Q6IG51bGxcbiAgICB9O1xuICAgIHRoaXMucmVzdGF1cmFudCA9IHJlc3RhdXJhbnQ7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBSZXN1bHRMaWdodGJveC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVzdGF1cmFudC5ocmVmID0gdGhpcy5idWlsZEhyZWYoKTtcbiAgICB0aGlzLmFkZFdpbmRvdygpO1xuICB9O1xuXG4gIFJlc3VsdExpZ2h0Ym94LnByb3RvdHlwZS5hZGRXaW5kb3cgPSBmdW5jdGlvbigpIHtcbiAgICAkKCdib2R5JykucHJlcGVuZChIVE1MX09VVFBVVC5yZW5kZXIoIHtcbiAgICAgIHRpdGxlOiB0aGlzLnJlc3RhdXJhbnQubmFtZSxcbiAgICAgIHZpY2luaXR5OiB0aGlzLnJlc3RhdXJhbnQudmljaW5pdHksXG4gICAgICByYXRpbmc6IHRoaXMucmVzdGF1cmFudC5yYXRpbmcsXG4gICAgICBocmVmOiB0aGlzLnJlc3RhdXJhbnQuaHJlZlxuICAgIH0pKTtcbiAgICB0aGlzLmVsZW1zLnJvb3QgPSAkKElEKTtcbiAgICB0aGlzLmRpc3BsYXlSYXRpbmdzKCk7XG4gICAgdGhpcy5hZGRFdmVudHMoKTtcbiAgfTtcblxuICBSZXN1bHRMaWdodGJveC5wcm90b3R5cGUuY2xvc2VXaW5kb3cgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVsZW1zLnJvb3QucmVtb3ZlKCk7XG4gIH07XG5cbiAgUmVzdWx0TGlnaHRib3gucHJvdG90eXBlLmRpc3BsYXlSYXRpbmdzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYodHlwZW9mIHRoaXMucmVzdGF1cmFudC5yYXRpbmcgPT09ICd1bmRlZmluZWQnIHx8IHRoaXMucmVzdGF1cmFudC5yYXRpbmcgPT09IG51bGwpIHtcbiAgICAgICQoUkFUSU5HKS5yZW1vdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJChSQVRJTkdfRkcpLmNzcygnd2lkdGgnLCAodGhpcy5yZXN0YXVyYW50LnJhdGluZyAvIDUpICogMTAwICsgJyUnKTtcbiAgICB9XG4gIH07XG5cbiAgUmVzdWx0TGlnaHRib3gucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICQoQ0xPU0VfQlVUVE9OKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuY2xvc2VXaW5kb3coKTtcbiAgICB9KTtcbiAgfTtcblxuICBSZXN1bHRMaWdodGJveC5wcm90b3R5cGUuYnVpbGRIcmVmID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3VsdE5hbWUgPSB0aGlzLnJlc3RhdXJhbnQubmFtZS5zcGxpdCgnICcpLmpvaW4oJysnKTtcbiAgICB2YXIgbWFwVVJMID0gXCJodHRwOi8vbWFwcy5nb29nbGUuY29tL21hcHMvZGlyL1wiO1xuXHRcdHZhciBvcmlnaW5Db29yZHMgPSBXT0wuYXBwLmdlb2xvY2F0aW9uLnBvc2l0aW9uLmxhdGl0dWRlICsgXCIsXCIgKyBXT0wuYXBwLmdlb2xvY2F0aW9uLnBvc2l0aW9uLmxvbmdpdHVkZTtcblxuICAgIHJldHVybiBtYXBVUkwgKyBvcmlnaW5Db29yZHMgKyAnLycgKyByZXN1bHROYW1lICsgJywnICsgdGhpcy5yZXN0YXVyYW50LnZpY2luaXR5ICsgJy9AJyArIHRoaXMucmVzdGF1cmFudC5sYXQgKyAnLCcgKyB0aGlzLnJlc3RhdXJhbnQubG5nO1xuICB9O1xuXG4gIHJldHVybiBSZXN1bHRMaWdodGJveDtcbn0oalF1ZXJ5KSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbn0oKSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIFBsYWNlcyA9IHJlcXVpcmUoJy4vcGxhY2VzLmpzJyk7XG4gIHZhciBFcnJvckxvY2F0aW9uTGlnaHRib3ggPSByZXF1aXJlKCcuLi9saWdodGJveGVzL2Vycm9yTG9jYXRpb25MaWdodGJveC5qcycpO1xuXG4gIGZ1bmN0aW9uIEdlb2xvY2F0aW9uKGNhbGxiYWNrKSB7XG5cbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5wb3NpdGlvbiA9IHt9O1xuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxuICAgICAgbWF4aW11bUFnZTogMFxuICAgIH07XG5cbiAgICB0aGlzLmdldExvY2F0aW9uKCk7XG4gIH1cblxuICBHZW9sb2NhdGlvbi5wcm90b3R5cGUuZ2V0TG9jYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKHRoaXMuc3VjY2VzcywgdGhpcy5lcnJvciwgdGhpcy5vcHRpb25zKTtcbiAgfTtcblxuICBHZW9sb2NhdGlvbi5wcm90b3R5cGUuc3VjY2VzcyA9IGZ1bmN0aW9uKHBvcykge1xuICAgIFdPTC5hcHAuZ2VvbG9jYXRpb24ucG9zaXRpb24gPSBwb3MuY29vcmRzO1xuICAgIFdPTC5hcHAuc2V0dGluZ3Muc2V0TGF0TG9uZyhXT0wuYXBwLmdlb2xvY2F0aW9uLnBvc2l0aW9uKTtcbiAgICBXT0wuYXBwLnBsYWNlcyA9IG5ldyBQbGFjZXMoXG4gICAgICB7XG4gICAgICAgIGxhdGl0dWRlOiBXT0wuYXBwLmdlb2xvY2F0aW9uLnBvc2l0aW9uLmxhdGl0dWRlLFxuICAgICAgICBsb25naXR1ZGU6IFdPTC5hcHAuZ2VvbG9jYXRpb24ucG9zaXRpb24ubG9uZ2l0dWRlLFxuICAgICAgICBkeW5hbWljU2VhcmNoOiB0cnVlXG4gICAgICB9XG4gICAgKTtcbiAgICBXT0wuYXBwLmdlb2xvY2F0aW9uLmNhbGxiYWNrKCk7XG4gIH07XG5cbiAgR2VvbG9jYXRpb24ucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24oZXJyKSB7XG4gICAgV09MLmFwcC5nZW9sb2NhdGlvbi5jYWxsYmFjaygpO1xuICAgIFdPTC5hcHAubGlnaHRib3guTm9Mb2NhdGlvbkxpZ2h0Ym94ID0gbmV3IEVycm9yTG9jYXRpb25MaWdodGJveCgpO1xuICB9O1xuXG4gIEdlb2xvY2F0aW9uLnByb3RvdHlwZS5jbG9zZVBhcmVudFdpbmRvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZWxlbXMucGFyZW50Um9vdC5yZW1vdmUoKTtcbiAgfTtcblxuICByZXR1cm4gR2VvbG9jYXRpb247XG59KCkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBFcnJvckxvY2F0aW9uTGlnaHRib3ggPSByZXF1aXJlKCcuLi9saWdodGJveGVzL2Vycm9yTG9jYXRpb25MaWdodGJveC5qcycpO1xuXG4gIHZhciBBUElfVVJMID0gJ2h0dHA6Ly93d3cuamFjay1wYWxtZXIuY28udWsvd2hlZWwvYXBpL2dldFBsYWNlcy8nO1xuXG4gIGZ1bmN0aW9uIFBsYWNlcyh1c2VyT3B0aW9ucykge1xuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgICByYWRpdXM6IDMwMCxcbiAgICAgICAgcmFkaXVzSW5jcmVtZW50OiA1MCxcbiAgICAgICAgcGxhY2VUeXBlOiAncmVzdGF1cmFudCcsXG4gICAgICAgIG1heFBsYWNlczogMTIsXG4gICAgICAgIGR5bmFtaWNTZWFyY2g6IGZhbHNlXG4gICAgfTtcblxuICAgIHRoaXMuVVJMcGFyYW1zID0gV09MLmFwcC51dGlsaXRpZXMuZ2V0VVJMUGFyYW1zKCk7XG5cbiAgICBpZih0eXBlb2YgdXNlck9wdGlvbnMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLnVzZXJPcHRpb25zID0geyB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVzZXJPcHRpb25zID0gdXNlck9wdGlvbnM7XG4gICAgfVxuXG4gICAgdGhpcy5yZXN0YXVyYW50cyA9IHt9O1xuXG4gICAgdGhpcy5pbml0KCk7XG4gICAgdGhpcy5nZXRQbGFjZXModGhpcy5vcHRpb25zKTtcbiAgfVxuXG4gIFBsYWNlcy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmKHR5cGVvZiB0aGlzLlVSTHBhcmFtcy5sYXQgIT09ICd1bmRlZmluZWQnKSB7IHRoaXMub3B0aW9ucy5sYXRpdHVkZSA9IHRoaXMuVVJMcGFyYW1zLmxhdDsgfVxuICAgIGlmKHR5cGVvZiB0aGlzLlVSTHBhcmFtcy5sb25nICE9PSAndW5kZWZpbmVkJykgeyB0aGlzLm9wdGlvbnMubG9uZ2l0dWRlID0gdGhpcy5VUkxwYXJhbXMubG9uZzsgfVxuICAgIGlmKHR5cGVvZiB0aGlzLlVSTHBhcmFtcy5yYWRpdXMgIT09ICd1bmRlZmluZWQnKSB7IHRoaXMub3B0aW9ucy5yYWRpdXMgPSB0aGlzLlVSTHBhcmFtcy5yYWRpdXM7IH1cbiAgICBpZih0eXBlb2YgdGhpcy5VUkxwYXJhbXMudHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy5vcHRpb25zLnBsYWNlVHlwZSA9IHRoaXMuVVJMcGFyYW1zLnR5cGU7IH1cbiAgICBpZih0eXBlb2YgdGhpcy5VUkxwYXJhbXMubWF4cGxhY2VzICE9PSAndW5kZWZpbmVkJykgeyB0aGlzLm9wdGlvbnMubWF4UGxhY2VzID0gdGhpcy5VUkxwYXJhbXMubWF4cGxhY2VzOyB9XG5cbiAgICBpZih0eXBlb2YgdGhpcy51c2VyT3B0aW9ucy5sYXRpdHVkZSAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy5vcHRpb25zLmxhdGl0dWRlID0gdGhpcy51c2VyT3B0aW9ucy5sYXRpdHVkZTsgfVxuICAgIGlmKHR5cGVvZiB0aGlzLnVzZXJPcHRpb25zLmxvbmdpdHVkZSAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy5vcHRpb25zLmxvbmdpdHVkZSA9IHRoaXMudXNlck9wdGlvbnMubG9uZ2l0dWRlOyB9XG4gICAgaWYodHlwZW9mIHRoaXMudXNlck9wdGlvbnMucmFkaXVzICE9PSAndW5kZWZpbmVkJykgeyB0aGlzLm9wdGlvbnMucmFkaXVzID0gdGhpcy51c2VyT3B0aW9ucy5yYWRpdXM7IH1cbiAgICBpZih0eXBlb2YgdGhpcy51c2VyT3B0aW9ucy5wbGFjZVR5cGUgIT09ICd1bmRlZmluZWQnKSB7IHRoaXMub3B0aW9ucy5wbGFjZVR5cGUgPSB0aGlzLnVzZXJPcHRpb25zLnBsYWNlVHlwZTsgfVxuICAgIGlmKHR5cGVvZiB0aGlzLnVzZXJPcHRpb25zLm1heFBsYWNlcyAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy5vcHRpb25zLm1heFBsYWNlcyA9IHRoaXMudXNlck9wdGlvbnMubWF4UGxhY2VzOyB9XG5cbiAgICBpZih0eXBlb2YgdGhpcy51c2VyT3B0aW9ucy5keW5hbWljU2VhcmNoICE9PSAndW5kZWZpbmVkJykgeyB0aGlzLm9wdGlvbnMuZHluYW1pY1NlYXJjaCA9IHRoaXMudXNlck9wdGlvbnMuZHluYW1pY1NlYXJjaDsgfVxuICB9O1xuXG4gIFBsYWNlcy5wcm90b3R5cGUuZ2V0UGxhY2VzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICQuZ2V0SlNPTiggQVBJX1VSTCArIHRoaXMuYnVpbGRRdWVyeVBhcmFtcyhvcHRpb25zKSxcbiAgICBmdW5jdGlvbiggZGF0YSApIHtcblxuICAgICAgaWYoZGF0YS5sZW5ndGggPCBvcHRpb25zLm1heFBsYWNlcyAmJiBvcHRpb25zLnJhZGl1cyA8IDMwMDAgJiYgb3B0aW9ucy5keW5hbWljU2VhcmNoKSB7XG4gICAgICAgIHNlbGYuZXhwYW5kU2VhcmNoUmFkaXVzKGRhdGEsIG9wdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBpZihkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHNlbGYuZXJyb3IoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnN1Y2Nlc3MoZGF0YSwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgfSk7XG4gIH07XG5cbiAgUGxhY2VzLnByb3RvdHlwZS5idWlsZFF1ZXJ5UGFyYW1zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiAnPycgK1xuICAgICAgICAgICAnbGF0aXR1ZGU9JyArIG9wdGlvbnMubGF0aXR1ZGUgKyAnJicgK1xuICAgICAgICAgICAnbG9uZ2l0dWRlPScgKyBvcHRpb25zLmxvbmdpdHVkZSArICcmJyArXG4gICAgICAgICAgICdyYWRpdXM9JyArIG9wdGlvbnMucmFkaXVzICsgJyYnICtcbiAgICAgICAgICAgJ3R5cGU9JyArIG9wdGlvbnMucGxhY2VUeXBlICsgJyYnICtcbiAgICAgICAgICAgJ21heHBsYWNlcz0nICsgb3B0aW9ucy5tYXhQbGFjZXMgKyAnJicgK1xuICAgICAgICAgICAnbWluUHJpY2U9JyArICcwJyArICcmJyArXG4gICAgICAgICAgICdtYXhQcmljZT0nICsgJzQnO1xuICB9O1xuXG4gIFBsYWNlcy5wcm90b3R5cGUuZXhwYW5kU2VhcmNoUmFkaXVzID0gZnVuY3Rpb24oZGF0YSwgb3B0aW9ucykge1xuICAgIGlmKG9wdGlvbnMucmFkaXVzID49IDMwMCkge1xuICAgICAgb3B0aW9ucy5yYWRpdXNJbmNyZW1lbnQgPSAxMDA7XG4gICAgfVxuICAgIGlmKG9wdGlvbnMucmFkaXVzID49IDEwMDApIHtcbiAgICAgIG9wdGlvbnMucmFkaXVzSW5jcmVtZW50ID0gNTAwO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0UGxhY2VzKFxuICAgICAge1xuICAgICAgICBsYXRpdHVkZTogb3B0aW9ucy5sYXRpdHVkZSxcbiAgICAgICAgbG9uZ2l0dWRlOiBvcHRpb25zLmxvbmdpdHVkZSxcbiAgICAgICAgcmFkaXVzOiBwYXJzZUludChvcHRpb25zLnJhZGl1cykgKyBvcHRpb25zLnJhZGl1c0luY3JlbWVudCxcbiAgICAgICAgcmFkaXVzSW5jcmVtZW50OiBwYXJzZUludChvcHRpb25zLnJhZGl1c0luY3JlbWVudCksXG4gICAgICAgIHBsYWNlVHlwZTogb3B0aW9ucy5wbGFjZVR5cGUsXG4gICAgICAgIG1heFBsYWNlczogcGFyc2VJbnQob3B0aW9ucy5tYXhQbGFjZXMpLFxuICAgICAgICBkeW5hbWljU2VhcmNoOiBvcHRpb25zLmR5bmFtaWNTZWFyY2hcbiAgICAgIH1cbiAgICApO1xuICB9O1xuXG4gIFBsYWNlcy5wcm90b3R5cGUuc3VjY2VzcyA9IGZ1bmN0aW9uKGRhdGEsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnJlc3RhdXJhbnRzID0gZGF0YTtcbiAgICB0aGlzLm9wdGlvbnMuZHluYW1pY1NlYXJjaCA9IGZhbHNlO1xuXG4gICAgaWYob3B0aW9ucy5keW5hbWljU2VhcmNoKSB7XG4gICAgICBXT0wuYXBwLnNldHRpbmdzLnNldFJhZGl1cyhvcHRpb25zLnJhZGl1cyk7XG4gICAgfVxuXG4gICAgV09MLmFwcC53aGVlbC5zZXRSZXN0YXVyYW50cyhkYXRhKTtcbiAgICBXT0wuYXBwLndoZWVsLmRyYXcoKTtcbiAgfTtcblxuICBQbGFjZXMucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIFdPTC5hcHAubGlnaHRib3guTm9Mb2NhdGlvbkxpZ2h0Ym94ID0gbmV3IEVycm9yTG9jYXRpb25MaWdodGJveCgpO1xuICB9O1xuXG4gIHJldHVybiBQbGFjZXM7XG59KCkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oJCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBVdGlsaXRpZXMoKSB7XG5cbiAgfVxuXG4gIFV0aWxpdGllcy5wcm90b3R5cGUuZ2V0VVJMUGFyYW1zID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdmFycyA9IFtdLCBoYXNoO1xuICAgICAgdmFyIGhhc2hlcyA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNsaWNlKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJz8nKSArIDEpLnNwbGl0KCcmJyk7XG4gICAgICBmb3IodmFyIGkgPSAwOyBpIDwgaGFzaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaGFzaCA9IGhhc2hlc1tpXS5zcGxpdCgnPScpO1xuICAgICAgICAgIGlmKGhhc2gubGVuZ3RoID09IDIpIHtcbiAgXHQgICAgICAgIHZhcnMucHVzaChoYXNoWzBdKTtcbiAgXHQgICAgICAgIHZhcnNbaGFzaFswXV0gPSBoYXNoWzFdO1xuICBcdCAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFycztcbiAgfTtcblxuICByZXR1cm4gVXRpbGl0aWVzO1xufShqUXVlcnkpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgY29sb3VycyA9IHJlcXVpcmUoJy4uL2RhdGEvY29sb3Vycy5qcycpO1xuICB2YXIgZGVmYXVsdFJlc3RhdXJhbnRzID0gcmVxdWlyZSgnLi4vZGF0YS9yZXN0YXVyYW50cy5qcycpO1xuICB2YXIgUmVzdWx0TGlnaHRib3ggPSByZXF1aXJlKCcuLi9saWdodGJveGVzL3Jlc3VsdExpZ2h0Ym94LmpzJyk7XG4gIHZhciBDb25mZXR0aSA9IHJlcXVpcmUoJy4vY29uZmV0dGkuanMnKTtcblxuICAvKiBCdXR0b25zICovXG4gIHZhciBTUElOX0JVVFRPTiA9ICcjc3Bpbic7XG5cbiAgZnVuY3Rpb24gV2hlZWwoc2VsZWN0b3IpIHtcblxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxlY3Rvcik7XG4gICAgdmFyICRjYW52YXMgPSAkKCcjJyArIHNlbGVjdG9yKTtcblxuICAgIHRoaXMuZWxlbXMgPSB7XG4gICAgICBzZWxlY3RvcjogJyMnICsgc2VsZWN0b3IsXG4gICAgICBjYW52YXM6IGNhbnZhcyxcbiAgICAgICRjYW52YXM6ICRjYW52YXNcbiAgICB9O1xuXG4gICAgaWYoIWNhbnZhcy5nZXRDb250ZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhID0ge1xuICAgICAgY2FudmFzOiBjYW52YXMsXG4gICAgICByZXN0YXVyYW50czogZGVmYXVsdFJlc3RhdXJhbnRzLFxuICAgICAgd2lkdGg6IDYwMCxcbiAgICAgIGhlaWdodDogNjAwLFxuICAgICAgc3RhcnRBbmdsZTogMCxcbiAgICAgIHNwaW5UaW1lb3V0OiBudWxsLFxuICAgICAgaXNTcGlubmluZzogZmFsc2UsXG4gICAgICBzcGluQXJjU3RhcnQ6IDEwLFxuICAgICAgc3BpblRpbWU6IDAsXG4gICAgICBzcGluVGltZVRvdGFsOiAwLFxuICAgICAgc3BpblZlbG9jaXR5OiAyMDAwLFxuICAgICAgY3R4OiBudWxsLFxuICAgICAgcm91bGV0dGVXaGVlbDoge30sXG4gICAgICBvdXRzaWRlUmFkaXVzOiAyNTAsXG4gICAgICB0ZXh0UmFkaXVzOiAxOTQsXG4gICAgICBpbnNpZGVSYWRpdXM6IDE1MCxcbiAgICAgIGFuZ2xlOiBudWxsLFxuICAgICAgdGV4dDogbnVsbCxcbiAgICAgIGRyYWc6IHtcbiAgICAgICAgY2xpY2tlZFg6IG51bGwsXG4gICAgICAgIGNsaWNrZWRZOiBudWxsLFxuICAgICAgICBjdXJyZW50RHJhZ1g6IG51bGwsXG4gICAgICAgIGN1cnJlbnREcmFnWTogbnVsbCxcbiAgICAgICAgcHJldmlvdXNEcmFnWDogbnVsbCxcbiAgICAgICAgcHJldmlvdXNEcmFnWTogbnVsbCxcbiAgICAgICAgaXNEcmFnZ2luZzogbnVsbCxcbiAgICAgICAgY2hhbmdlZEFuZ2xlOiBudWxsLFxuICAgICAgICBhcmNBbmdsZTogbnVsbFxuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIFdoZWVsLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5kYXRhLmN0eCA9IHRoaXMuZGF0YS5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIHRoaXMuZGF0YS5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuZGF0YS53aWR0aCwgdGhpcy5kYXRhLmhlaWdodCk7XG4gICAgdGhpcy5kYXRhLmN0eC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICB0aGlzLmRhdGEuY3R4LmZvbnQgPSBcIjEycHggSGVsdmV0aWNhLCBBcmlhbFwiO1xuICAgIHRoaXMuZGF0YS5hcmMgPSBNYXRoLlBJIC8gKHRoaXMuZGF0YS5yZXN0YXVyYW50cy5sZW5ndGggLyAyKTtcblxuICAgIHRoaXMuZHJhdygpO1xuICAgIHRoaXMuYWRkRXZlbnRzKCk7XG4gIH07XG5cbiAgV2hlZWwucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICQoU1BJTl9CVVRUT04pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYoIXNlbGYucmV0SXNTcGlubmluZygpKSB7XG4gIFx0XHRcdHNlbGYuc3Bpbih0cnVlKTtcbiAgXHRcdH1cbiAgICB9KTtcblxuICAgICQodGhpcy5lbGVtcy5zZWxlY3RvcikubW91c2Vkb3duKGZ1bmN0aW9uKGUpIHtcbiAgXHRcdHNlbGYuZGF0YS5kcmFnLmNsaWNrZWRYID0gZS5wYWdlWDtcbiAgXHRcdHNlbGYuZGF0YS5kcmFnLmNsaWNrZWRZID0gZS5wYWdlWTtcbiAgXHRcdC8vc2V0IHVwIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBwcmV2aW91cyBkcmFnXG4gIFx0XHRzZWxmLmRhdGEuZHJhZy5wcmV2aW91c0RyYWdYID0gZS5wYWdlWDtcbiAgXHRcdHNlbGYuZGF0YS5kcmFnLnByZXZpb3VzRHJhZ1kgPSBlLnBhZ2VZO1xuICBcdFx0c2VsZi5kYXRhLmRyYWcuaXNEcmFnZ2luZyA9IHRydWU7XG4gIFx0fSk7XG5cbiAgICAkKHRoaXMuZWxlbXMuc2VsZWN0b3IpLm1vdXNlbW92ZShmdW5jdGlvbihlKSB7XG4gIFx0XHRpZihzZWxmLmRhdGEuZHJhZy5pc0RyYWdnaW5nICYmICFzZWxmLnJldElzU3Bpbm5pbmcoKSkge1xuICBcdFx0XHRzZWxmLmRhdGEuZHJhZy5jdXJyZW50RHJhZ1ggPSBlLnBhZ2VYO1xuICBcdFx0XHRzZWxmLmRhdGEuZHJhZy5jdXJyZW50RHJhZ1kgPSBlLnBhZ2VZO1xuXG4gIFx0XHRcdC8vZmluZGluZyB0aGUgbW92ZW1lbnQgZnJvbSB0aGUgbGFzdCBkcmFnXG4gIFx0XHRcdHNlbGYuZGF0YS5kcmFnLmNoYW5nZWRBbmdsZSA9IE1hdGguYXRhbjIoc2VsZi5kYXRhLmRyYWcuY3VycmVudERyYWdZIC0gJChTUElOX0JVVFRPTikucG9zaXRpb24oKS50b3AsIHNlbGYuZGF0YS5kcmFnLmN1cnJlbnREcmFnWCAtICQoU1BJTl9CVVRUT04pLnBvc2l0aW9uKCkubGVmdCk7XG4gIFx0XHRcdHNlbGYuZGF0YS5kcmFnLmNoYW5nZWRBbmdsZSAtPSBNYXRoLmF0YW4yKHNlbGYuZGF0YS5kcmFnLnByZXZpb3VzRHJhZ1kgLSAkKFNQSU5fQlVUVE9OKS5wb3NpdGlvbigpLnRvcCwgc2VsZi5kYXRhLmRyYWcucHJldmlvdXNEcmFnWCAtICQoU1BJTl9CVVRUT04pLnBvc2l0aW9uKCkubGVmdCk7XG5cbiAgXHRcdFx0Ly9yZWNhbGN1bGF0aW5nIHRoZSBhcmMgZnJvbSB3aGVuIHRoZSBtb3VzZSB3YXMgZmlyc3RlZCBjbGljayAtLSB1c2VkIHRvIGluZGljYXRlIGEgJ3NwaW4nXG4gIFx0XHRcdHNlbGYuZGF0YS5kcmFnLmFyY0FuZ2xlID0gTWF0aC5hdGFuMihzZWxmLmRhdGEuZHJhZy5jdXJyZW50RHJhZ1kgLSAkKFNQSU5fQlVUVE9OKS5wb3NpdGlvbigpLnRvcCwgc2VsZi5kYXRhLmRyYWcuY3VycmVudERyYWdYIC0gJChTUElOX0JVVFRPTikucG9zaXRpb24oKS5sZWZ0KTtcbiAgXHRcdFx0c2VsZi5kYXRhLmRyYWcuYXJjQW5nbGUgLT0gTWF0aC5hdGFuMihzZWxmLmRhdGEuZHJhZy5jbGlja2VkWSAtICQoU1BJTl9CVVRUT04pLnBvc2l0aW9uKCkudG9wLCBzZWxmLmRhdGEuZHJhZy5jbGlja2VkWCAtICQoU1BJTl9CVVRUT04pLnBvc2l0aW9uKCkubGVmdCk7XG5cblxuICBcdFx0XHQvL2FkZCB3aGF0ZXZlciB0aGUgYW5nbGUgaGFzIGNoYW5nZWQgYnkgZnJvbSB0aGUgbGFzdCBtb3ZlbWVudCBvZiB0aGUgbW91c2VcbiAgXHRcdFx0c2VsZi5hZGRUb1N0YXJ0QW5nbGUoc2VsZi5kYXRhLmRyYWcuY2hhbmdlZEFuZ2xlKTtcbiAgXHRcdFx0c2VsZi5kcmF3KHRydWUpO1xuXG4gIFx0XHRcdC8vdXBkYXRlIHRoZSBwcmV2aW91cyB3aXRoIHRoZSBjdXJyZW50IGNvb3JkaW5hdGUgb2YgdGhlIG1vdXNlXG4gIFx0XHRcdHNlbGYuZGF0YS5kcmFnLnByZXZpb3VzRHJhZ1kgPSBzZWxmLmRhdGEuZHJhZy5jdXJyZW50RHJhZ1k7XG4gIFx0XHRcdHNlbGYuZGF0YS5kcmFnLnByZXZpb3VzRHJhZ1ggPSBzZWxmLmRhdGEuZHJhZy5jdXJyZW50RHJhZ1g7XG4gIFx0XHR9XG4gIFx0fSk7XG5cbiAgXHQkKHRoaXMuZWxlbXMuc2VsZWN0b3IpLm1vdXNldXAoZnVuY3Rpb24oZSkge1xuICBcdFx0aWYoKHNlbGYuZGF0YS5kcmFnLmFyY0FuZ2xlID49IDAuNSkgJiYgIXNlbGYucmV0SXNTcGlubmluZygpICYmIHNlbGYuZGF0YS5kcmFnLmNoYW5nZWRBbmdsZSA+IDApIHsgLy8gYSBtaW5pbXVtIGRlbHRhIG9mIHJhZCA9IDAuNSByZXF1aXJlZCB0byBkcmFnIGFyb3VuZCB0aGUgd2hlZWwgdG8gY291bnQgYXMgYSAnc3BpbidcbiAgXHRcdFx0c2VsZi5zcGluKHRydWUpO1xuICBcdFx0fSBlbHNlIGlmKChzZWxmLmRhdGEuZHJhZy5hcmNBbmdsZSA8IC00KSAmJiAhc2VsZi5yZXRJc1NwaW5uaW5nKCkgJiYgc2VsZi5kYXRhLmRyYWcuY2hhbmdlZEFuZ2xlID4gMCkge1xuICBcdFx0XHRzZWxmLnNwaW4odHJ1ZSk7XG4gIFx0XHR9IGVsc2UgaWYoKHNlbGYuZGF0YS5kcmFnLmFyY0FuZ2xlIDw9IC0wLjUpICYmICFzZWxmLnJldElzU3Bpbm5pbmcoKSAmJiBzZWxmLmRhdGEuZHJhZy5jaGFuZ2VkQW5nbGUgPCAwKSB7XG4gIFx0XHRcdHNlbGYuc3BpbihmYWxzZSk7XG4gIFx0XHR9IGVsc2UgaWYoKHNlbGYuZGF0YS5kcmFnLmFyY0FuZ2xlID4gNCkgJiYgIXNlbGYucmV0SXNTcGlubmluZygpICYmIHNlbGYuZGF0YS5kcmFnLmNoYW5nZWRBbmdsZSA8IDApIHtcbiAgXHRcdFx0c2VsZi5zcGluKGZhbHNlKTtcbiAgXHRcdH1cbiAgXHRcdHNlbGYuZGF0YS5kcmFnLmlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgXHR9KTtcblxuICBcdCQodGhpcy5lbGVtcy5zZWxlY3RvcikubW91c2VvdXQoZnVuY3Rpb24oZSkge1xuICBcdFx0c2VsZi5kYXRhLmRyYWcuaXNEcmFnZ2luZyA9IGZhbHNlO1xuICBcdH0pO1xuXG4gIH07XG5cbiAgV2hlZWwucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5kYXRhLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5kYXRhLndpZHRoLCB0aGlzLmRhdGEuaGVpZ2h0KTtcbiAgICB0aGlzLmRhdGEucmVzdGF1cmFudHMuZm9yRWFjaChmdW5jdGlvbihyZXN0YXVyYW50LCBpKSB7XG4gICAgICAvKiBSZW5kZXIgU2VnbWVudCAqL1xuICAgICAgc2VsZi5kYXRhLmFuZ2xlID0gc2VsZi5kYXRhLnN0YXJ0QW5nbGUgKyBpICogc2VsZi5kYXRhLmFyYztcbiAgICAgIHNlbGYuZGF0YS5jdHguZmlsbFN0eWxlID0gY29sb3Vycy5iZ0NvbG91cltpXTtcblxuICAgICAgc2VsZi5kYXRhLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgIHNlbGYuZGF0YS5jdHguYXJjKHNlbGYuZGF0YS53aWR0aCAvIDIsIHNlbGYuZGF0YS5oZWlnaHQgLyAyLCBzZWxmLmRhdGEub3V0c2lkZVJhZGl1cywgc2VsZi5kYXRhLmFuZ2xlLCBzZWxmLmRhdGEuYW5nbGUgKyBzZWxmLmRhdGEuYXJjLCBmYWxzZSk7XG4gICAgICBzZWxmLmRhdGEuY3R4LmFyYyhzZWxmLmRhdGEud2lkdGggLyAyLCBzZWxmLmRhdGEuaGVpZ2h0IC8gMiwgc2VsZi5kYXRhLmluc2lkZVJhZGl1cywgc2VsZi5kYXRhLmFuZ2xlICsgc2VsZi5kYXRhLmFyYywgc2VsZi5kYXRhLmFuZ2xlLCB0cnVlKTtcbiAgICAgIHNlbGYuZGF0YS5jdHguZmlsbCgpO1xuXG4gICAgICBzZWxmLmRhdGEuY3R4LnNhdmUoKTtcblxuICAgICAgLyogUmVuZGVyIFRleHQgKi9cbiAgICAgIHNlbGYuZGF0YS5jdHguZmlsbFN0eWxlID0gY29sb3Vycy5mb250Q29sb3VyW2ldO1xuICAgICAgc2VsZi5kYXRhLmN0eC50cmFuc2xhdGUoc2VsZi5kYXRhLndpZHRoIC8gMiArIE1hdGguY29zKHNlbGYuZGF0YS5hbmdsZSArIHNlbGYuZGF0YS5hcmMgLzIpICogc2VsZi5kYXRhLnRleHRSYWRpdXMsXG4gICAgICAgICAgc2VsZi5kYXRhLmhlaWdodCAvIDIgKyBNYXRoLnNpbihzZWxmLmRhdGEuYW5nbGUgKyBzZWxmLmRhdGEuYXJjIC8gMikgKiBzZWxmLmRhdGEudGV4dFJhZGl1cyk7XG4gICAgICBzZWxmLmRhdGEuY3R4LnJvdGF0ZShzZWxmLmRhdGEuYW5nbGUgKyBzZWxmLmRhdGEuYXJjIC8gMiArIE1hdGguUEkgLyAyKTtcbiAgICAgIHNlbGYucHJpbnROYW1lKHJlc3RhdXJhbnQubmFtZSwgLXNlbGYuZGF0YS5jdHgubWVhc3VyZVRleHQocmVzdGF1cmFudC5uYW1lKS53aWR0aCAvIDIsIDAsIDE0LCAoKDIgKiBNYXRoLlBJICogc2VsZi5kYXRhLnRleHRSYWRpdXMpIC8gc2VsZi5kYXRhLnJlc3RhdXJhbnRzLmxlbmd0aCkgLSAxMCk7XG4gICAgICBzZWxmLmRhdGEuY3R4LnJlc3RvcmUoKTtcbiAgICB9KTtcbiAgICB0aGlzLmRyYXdBcnJvdygpO1xuICB9O1xuXG4gIFdoZWVsLnByb3RvdHlwZS5kcmF3QXJyb3cgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmRhdGEuY3R4LmZpbGxTdHlsZSA9IFwiIzMzM1wiO1xuICAgIHRoaXMuZGF0YS5jdHguYmVnaW5QYXRoKCk7XG5cdFx0dGhpcy5kYXRhLmN0eC5tb3ZlVG8odGhpcy5kYXRhLndpZHRoIC8gMiAgLSA0LCB0aGlzLmRhdGEuaGVpZ2h0IC8gMiAgLSAodGhpcy5kYXRhLm91dHNpZGVSYWRpdXMgKyAyNSkpO1xuXHRcdHRoaXMuZGF0YS5jdHgubGluZVRvKHRoaXMuZGF0YS53aWR0aCAvIDIgKyA0LCB0aGlzLmRhdGEuaGVpZ2h0IC8gMiAgLSAodGhpcy5kYXRhLm91dHNpZGVSYWRpdXMgKyAyNSkpO1xuXHRcdHRoaXMuZGF0YS5jdHgubGluZVRvKHRoaXMuZGF0YS53aWR0aCAvIDIgKyA0LCB0aGlzLmRhdGEuaGVpZ2h0IC8gMiAgLSAodGhpcy5kYXRhLm91dHNpZGVSYWRpdXMgKyAxNSkpO1xuXHRcdHRoaXMuZGF0YS5jdHgubGluZVRvKHRoaXMuZGF0YS53aWR0aCAvIDIgKyA5LCB0aGlzLmRhdGEuaGVpZ2h0IC8gMiAgLSAodGhpcy5kYXRhLm91dHNpZGVSYWRpdXMgKyAxNSkpO1xuXHRcdHRoaXMuZGF0YS5jdHgubGluZVRvKHRoaXMuZGF0YS53aWR0aCAvIDIgKyAwLCB0aGlzLmRhdGEuaGVpZ2h0IC8gMiAgLSAodGhpcy5kYXRhLm91dHNpZGVSYWRpdXMgLSAwKSk7XG5cdFx0dGhpcy5kYXRhLmN0eC5saW5lVG8odGhpcy5kYXRhLndpZHRoIC8gMiAtIDksIHRoaXMuZGF0YS5oZWlnaHQgLyAyICAtICh0aGlzLmRhdGEub3V0c2lkZVJhZGl1cyArIDE1KSk7XG5cdFx0dGhpcy5kYXRhLmN0eC5saW5lVG8odGhpcy5kYXRhLndpZHRoIC8gMiAtIDQsIHRoaXMuZGF0YS5oZWlnaHQgLyAyICAtICh0aGlzLmRhdGEub3V0c2lkZVJhZGl1cyArIDE1KSk7XG5cdFx0dGhpcy5kYXRhLmN0eC5saW5lVG8odGhpcy5kYXRhLndpZHRoIC8gMiAtIDQsIHRoaXMuZGF0YS5oZWlnaHQgLyAyIC0gKHRoaXMuZGF0YS5vdXRzaWRlUmFkaXVzICsgMjUpKTtcblx0XHR0aGlzLmRhdGEuY3R4LmZpbGwoKTtcbiAgfTtcblxuICBXaGVlbC5wcm90b3R5cGUuc3BpbiA9IGZ1bmN0aW9uKGlzRm9yd2FyZCkge1xuICAgIHRoaXMuZGF0YS5zcGluQW5nbGVTdGFydCA9IE1hdGgucmFuZG9tKCkgKiAxMCArIDEwO1xuICAgIHRoaXMuZGF0YS5zcGluVGltZSA9IDA7XG4gICAgdGhpcy5kYXRhLnNwaW5UaW1lVG90YWwgPSBNYXRoLnJhbmRvbSgpICogMyArIDQgKiB0aGlzLmRhdGEuc3BpblZlbG9jaXR5O1xuXG4gICAgaWYoIXRoaXMuZGF0YS5pc1NwaW5uaW5nICYmIGlzRm9yd2FyZCkge1xuICAgICAgdGhpcy5kYXRhLmlzU3Bpbm5pbmcgPSB0cnVlO1xuICAgICAgdGhpcy5yb3RhdGUodHJ1ZSk7XG4gICAgfSBlbHNlIGlmICghdGhpcy5kYXRhLmlzU3Bpbm5pbmcgJiYgIWlzRm9yd2FyZCkge1xuICAgICAgdGhpcy5kYXRhLmlzU3Bpbm5pbmcgPSB0cnVlO1xuICAgICAgdGhpcy5yb3RhdGUoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBXaGVlbC5wcm90b3R5cGUucmV0SXNTcGlubmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuaXNTcGlubmluZztcbiAgfTtcblxuICBXaGVlbC5wcm90b3R5cGUuYWRkVG9TdGFydEFuZ2xlID0gZnVuY3Rpb24oYW5nbGUpIHtcbiAgICB0aGlzLmRhdGEuc3RhcnRBbmdsZSArPSBhbmdsZTtcbiAgfTtcblxuICBXaGVlbC5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24oaXNGb3J3YXJkKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuZGF0YS5zcGluVGltZSArPSAzMDtcbiAgICBpZih0aGlzLmRhdGEuc3BpblRpbWUgPj0gdGhpcy5kYXRhLnNwaW5UaW1lVG90YWwpIHtcbiAgICAgIHRoaXMuc3RvcFJvdGF0ZSgpO1xuICAgICAgdGhpcy5kYXRhLmlzU3Bpbm5pbmcgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHNwaW5BbmdsZSA9IHRoaXMuZGF0YS5zcGluQW5nbGVTdGFydCAtIHRoaXMuZWFzZU91dCh0aGlzLmRhdGEuc3BpblRpbWUsIDAsIHRoaXMuZGF0YS5zcGluQW5nbGVTdGFydCwgdGhpcy5kYXRhLnNwaW5UaW1lVG90YWwpO1xuICAgIGlmKGlzRm9yd2FyZCkge1xuICAgICAgdGhpcy5kYXRhLnN0YXJ0QW5nbGUgKz0gKHNwaW5BbmdsZSAqIE1hdGguUEkgLyAxODApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEuc3RhcnRBbmdsZSAtPSAoc3BpbkFuZ2xlICogTWF0aC5QSSAvIDE4MCk7XG4gICAgfVxuICAgIHRoaXMuZHJhdygpO1xuICAgIHRoaXMuZGF0YS5zcGluVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnJvdGF0ZShpc0ZvcndhcmQpO1xuICAgIH0sIDMwKTtcbiAgfTtcblxuICBXaGVlbC5wcm90b3R5cGUuc3RvcFJvdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmRhdGEuc3BpblRpbWVvdXQpO1xuICAgIHZhciBkZWdyZWVzID0gdGhpcy5kYXRhLnN0YXJ0QW5nbGUgKiAxODAgLyBNYXRoLlBJICsgOTAsXG4gICAgICBhcmNkID0gdGhpcy5kYXRhLmFyYyAqIDE4MCAvIE1hdGguUEksXG4gICAgICBpbmRleCA9IE1hdGguZmxvb3IoKDM2MCAtIGRlZ3JlZXMgJSAzNjApIC8gYXJjZCk7XG4gICAgdGhpcy5kYXRhLmN0eC5zYXZlKCk7XG5cbiAgICBpZihkZWdyZWVzIDwgMCkge1xuICAgICAgZGVncmVlcyA9IE1hdGguYWJzKGRlZ3JlZXMpO1xuICAgICAgaW5kZXggPSBNYXRoLmZsb29yKChkZWdyZWVzICUgMzYwKSAvIGFyY2QpO1xuICAgIH1cblxuICAgIC8qIERpc3BsYXkgUmVzdWx0ICovXG4gICAgV09MLmFwcC5saWdodGJveC5yZXN1bHQgPSBuZXcgUmVzdWx0TGlnaHRib3godGhpcy5kYXRhLnJlc3RhdXJhbnRzW2luZGV4XSk7XG5cbiAgICB0aGlzLmRhdGEuY3R4LnJlc3RvcmUoKTtcblxuICAgIC8vV09MLmFwcC5jb25mZXR0aSA9IG5ldyBDb25mZXR0aSgpO1xuICB9O1xuXG4gIFdoZWVsLnByb3RvdHlwZS5wcmludE5hbWUgPSBmdW5jdGlvbih0ZXh0LCB4LCB5LCBsaW5lSGVpZ2h0LCBmaXRXaWR0aCkge1xuICAgIHZhciBzdHIsIHNwbGl0RGFzaCwgaGVhZFRleHQsIHRhaWxUZXh0LCBpZHg7XG4gICAgZml0V2lkdGggPSBmaXRXaWR0aCB8fCAwO1xuXG4gICAgaWYoZml0V2lkdGggPD0gMCkge1xuICAgICAgdGhpcy5kYXRhLmN0eC5maWxsVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IoaWR4ID0gMTsgaWR4IDw9IHRleHQubGVuZ3RoOyBpZHgrKykge1xuICAgICAgc3RyID0gdGV4dC5zdWJzdHIoMCwgaWR4KTtcblxuICAgICAgaWYodGhpcy5kYXRhLmN0eC5tZWFzdXJlVGV4dChzdHIpLndpZHRoID4gZml0V2lkdGgpIHtcbiAgICAgICAgc3BsaXREYXNoID0gKHRleHQuY2hhckF0KGlkeCAtIDIpICE9IFwiIFwiKSA/IFwiLVwiIDogXCJcIjtcbiAgICAgICAgaGVhZFRleHQgPSB0ZXh0LnN1YnN0cigwLCBpZHggLSAxKSArIHNwbGl0RGFzaDtcbiAgICAgICAgdGFpbFRleHQgPSB0ZXh0LnN1YnN0cihpZHggLSAxKTtcbiAgICAgICAgdGhpcy5kYXRhLmN0eC5maWxsVGV4dChoZWFkVGV4dCwgLXRoaXMuZGF0YS5jdHgubWVhc3VyZVRleHQoaGVhZFRleHQpLndpZHRoIC8gMiwgeSAtIGxpbmVIZWlnaHQpO1xuICAgICAgICB0aGlzLnByaW50TmFtZSh0YWlsVGV4dCwgLXRoaXMuZGF0YS5jdHgubWVhc3VyZVRleHQodGFpbFRleHQpLndpZHRoIC8gMiwgeSArIGxpbmVIZWlnaHQsIGxpbmVIZWlnaHQsIGZpdFdpZHRoIC0gMTApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhLmN0eC5maWxsVGV4dCh0ZXh0LCB4LCAoeSA/IHkgLSBsaW5lSGVpZ2h0IDogeSkpO1xuICB9O1xuXG4gIFdoZWVsLnByb3RvdHlwZS5lYXNlT3V0ID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgIHZhciB0cyA9ICh0IC89IGQpICogdDtcbiAgICB2YXIgdGMgPSB0cyAqIHQ7XG5cbiAgICByZXR1cm4gYiArIGMgKiAodGMgKyAtMyAqIHRzICsgMyAqIHQpO1xuICB9O1xuXG4gIFdoZWVsLnByb3RvdHlwZS5zZXRSZXN0YXVyYW50cyA9IGZ1bmN0aW9uKHJlc3RhdXJhbnRzKSB7XG4gICAgdGhpcy5kYXRhLnJlc3RhdXJhbnRzID0gcmVzdGF1cmFudHM7XG4gICAgdGhpcy5kYXRhLmFyYyA9IE1hdGguUEkgLyAodGhpcy5kYXRhLnJlc3RhdXJhbnRzLmxlbmd0aCAvIDIpO1xuICB9O1xuXG4gIHJldHVybiBXaGVlbDtcbn0oKSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigkKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG59KCkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBVdGlsaXRpZXMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL3V0aWxpdGllcycpO1xuICB2YXIgV2hlZWwgPSByZXF1aXJlKCcuLi9tb2R1bGVzL3doZWVsLmpzJyk7XG4gIHZhciBTZXR0aW5ncyA9IHJlcXVpcmUoJy4uL2VsZW1lbnRzL3NldHRpbmdzLmpzJyk7XG4gIHZhciBMb2NhbGlzYXRpb25MaWdodGJveCA9IHJlcXVpcmUoJy4uL2xpZ2h0Ym94ZXMvbG9jYWxpc2F0aW9uTGlnaHRib3guanMnKTtcbiAgdmFyIFBsYWNlcyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvcGxhY2VzLmpzJyk7XG5cbiAgV09MLmFwcC51dGlsaXRpZXMgPSBuZXcgVXRpbGl0aWVzKCk7XG4gIFdPTC5hcHAud2hlZWwgPSBuZXcgV2hlZWwoJ3doZWVsJyk7XG4gIFdPTC5hcHAuc2V0dGluZ3MgPSBuZXcgU2V0dGluZ3MoKTtcblxuICB2YXIgc2hvd0xvY2FsaXNhdGlvbk9wdGlvbnMgPSB0eXBlb2YgV09MLmFwcC5zZXR0aW5ncy5VUkxwYXJhbXMubGF0ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgV09MLmFwcC5zZXR0aW5ncy5VUkxwYXJhbXMubG9uZyA9PT0gJ3VuZGVmaW5lZCc7XG5cbiAgaWYoc2hvd0xvY2FsaXNhdGlvbk9wdGlvbnMpIHtcbiAgICBXT0wuYXBwLmxpZ2h0Ym94LmxvY2FsaXNhdGlvbiA9IG5ldyBMb2NhbGlzYXRpb25MaWdodGJveCgpO1xuICB9IGVsc2Uge1xuICAgIFdPTC5hcHAucGxhY2VzID0gbmV3IFBsYWNlcygpO1xuICB9XG5cbn0oKSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXBwOiB7IGxpZ2h0Ym94OiB7fSB9LFxuICBtb2R1bGVzOiB7fSxcbiAgZ2xvYmFsOiB7fSxcbiAgcGFnZToge30sXG4gIHV0aWxzOiB7fSxcbiAgZGF0YToge31cbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBpZD1cXFwibG9jYWxpc2F0aW9uLWVycm9yXFxcIiBjbGFzcz1cXFwiYWxlcnQgYWxlcnQtZGFuZ2VyIGxvY2FsaXNhdGlvblxcXCIgcm9sZT1cXFwiYWxlcnRcXFwiPjxwPk9vcHMhIE5vIHBsYWNlcyBmb3VuZC4gPGJ1dHRvbiBpZD1cXFwibG9jYWxpc2F0aW9uLWNvbnRpbnVlLWJ1dHRvblxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXIgYnRuLXNtXFxcIj4gQ29udGludWUgYW55d2F5PC9idXR0b24+PC9wPjwvZGl2PlwiO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgaWQ9XFxcImdlb2xvY2F0aW9uXFxcIiBjbGFzcz1cXFwicGFuZWwgcGFuZWwtZGVmYXVsdCBsb2NhbGlzYXRpb24gc2VhcmNoLWxvY2FsaXNhdGlvblxcXCI+PGRpdiBjbGFzcz1cXFwicGFuZWwtYm9keVxcXCI+PHA+SGFuZyBvbiBhIG1vbWVudCwgd2UgYXJlIGp1c3QgZ2V0dGluZyB5b3VyIGxvY2F0aW9uPHNwYW4gY2xhc3M9XFxcIm9uZVxcXCI+Ljwvc3Bhbj48c3BhbiBjbGFzcz1cXFwidHdvXFxcIj4uPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJ0aHJlZVxcXCI+Ljwvc3Bhbj48L3A+PC9kaXY+PC9kaXY+XCI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBpZD1cXFwibG9jYWxpc2F0aW9uXFxcIiBjbGFzcz1cXFwicGFuZWwgcGFuZWwtZGVmYXVsdCBzZWxlY3QtbG9jYWxpc2F0aW9uXFxcIj48ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIj48cD5QbGVhc2Ugc2VsZWN0IGFuIG9wdGlvbjwvcD4gPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGlkPVxcXCJsb2NhdGlvbi1vcHRpb24tY3VycmVudFxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCI+VXNlIG15IGxvY2F0aW9uPC9idXR0b24+IDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBpZD1cXFwibG9jYXRpb24tb3B0aW9uLWZpbmRcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWluZm9cXFwiPkZpbmQgYSBsb2NhdGlvbjwvYnV0dG9uPjwvZGl2PjwvZGl2PlwiO1xuIiwidmFyIEhvZ2FuID0gcmVxdWlyZSgnaG9nYW4uanMnKTtcbm1vZHVsZS5leHBvcnRzID0gbmV3IEhvZ2FuLlRlbXBsYXRlKHtjb2RlOiBmdW5jdGlvbiAoYyxwLGkpIHsgdmFyIHQ9dGhpczt0LmIoaT1pfHxcIlwiKTt0LmIoXCI8ZGl2IGlkPVxcXCJyZXN1bHRcXFwiIGNsYXNzPVxcXCJwYW5lbCBwYW5lbC1kZWZhdWx0IHJlc3VsdFxcXCI+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgYXJpYS1sYWJlbD1cXFwiQ2xvc2VcXFwiPjxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPjwvYnV0dG9uPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICA8aDI+XCIpO3QuYih0LnYodC5mKFwidGl0bGVcIixjLHAsMCkpKTt0LmIoXCI8L2gyPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICA8cCBjbGFzcz1cXFwidmljaW5pdHlcXFwiPlwiKTt0LmIodC52KHQuZihcInZpY2luaXR5XCIsYyxwLDApKSk7dC5iKFwiPC9wPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICA8ZGl2IGNsYXNzPVxcXCJyYXRpbmdcXFwiPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICAgIDxkaXYgY2xhc3M9XFxcInJhdGluZy1mb3JlZ3JvdW5kXFxcIiBzdHlsZT1cXFwid2lkdGg6MCU7XFxcIj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1zdGFyXFxcIj48L2k+PGkgY2xhc3M9XFxcImZhIGZhLXN0YXJcXFwiPjwvaT48aSBjbGFzcz1cXFwiZmEgZmEtc3RhclxcXCI+PC9pPjxpIGNsYXNzPVxcXCJmYSBmYS1zdGFyXFxcIj48L2k+PGkgY2xhc3M9XFxcImZhIGZhLXN0YXJcXFwiPjwvaT5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgICA8L2Rpdj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJyYXRpbmctYmFja2dyb3VuZFxcXCI+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtc3RhclxcXCI+PC9pPjxpIGNsYXNzPVxcXCJmYSBmYS1zdGFyXFxcIj48L2k+PGkgY2xhc3M9XFxcImZhIGZhLXN0YXJcXFwiPjwvaT48aSBjbGFzcz1cXFwiZmEgZmEtc3RhclxcXCI+PC9pPjxpIGNsYXNzPVxcXCJmYSBmYS1zdGFyXFxcIj48L2k+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgICAgPC9kaXY+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgIDwvZGl2PlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICA8cD5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgICA8YSBjbGFzcz1cXFwibWFwXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgaHJlZj1cXFwiXCIpO3QuYih0LnYodC5mKFwiaHJlZlwiLGMscCwwKSkpO3QuYihcIlxcXCI+VmlldyBvbiBtYXA8L2E+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgIDwvcD5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgIDwvZGl2PlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIjwvZGl2PlwiKTt0LmIoXCJcXG5cIik7cmV0dXJuIHQuZmwoKTsgfSxwYXJ0aWFsczoge30sIHN1YnM6IHsgIH19LCBcIjxkaXYgaWQ9XFxcInJlc3VsdFxcXCIgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgcmVzdWx0XFxcIj5cXG4gIDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCI+PHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+PC9idXR0b24+XFxuICAgIDxoMj57e3RpdGxlfX08L2gyPlxcbiAgICA8cCBjbGFzcz1cXFwidmljaW5pdHlcXFwiPnt7dmljaW5pdHl9fTwvcD5cXG4gICAgPGRpdiBjbGFzcz1cXFwicmF0aW5nXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJyYXRpbmctZm9yZWdyb3VuZFxcXCIgc3R5bGU9XFxcIndpZHRoOjAlO1xcXCI+XFxuICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtc3RhclxcXCI+PC9pPjxpIGNsYXNzPVxcXCJmYSBmYS1zdGFyXFxcIj48L2k+PGkgY2xhc3M9XFxcImZhIGZhLXN0YXJcXFwiPjwvaT48aSBjbGFzcz1cXFwiZmEgZmEtc3RhclxcXCI+PC9pPjxpIGNsYXNzPVxcXCJmYSBmYS1zdGFyXFxcIj48L2k+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwicmF0aW5nLWJhY2tncm91bmRcXFwiPlxcbiAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXN0YXJcXFwiPjwvaT48aSBjbGFzcz1cXFwiZmEgZmEtc3RhclxcXCI+PC9pPjxpIGNsYXNzPVxcXCJmYSBmYS1zdGFyXFxcIj48L2k+PGkgY2xhc3M9XFxcImZhIGZhLXN0YXJcXFwiPjwvaT48aSBjbGFzcz1cXFwiZmEgZmEtc3RhclxcXCI+PC9pPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPHA+XFxuICAgICAgPGEgY2xhc3M9XFxcIm1hcFxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGhyZWY9XFxcInt7aHJlZn19XFxcIj5WaWV3IG9uIG1hcDwvYT5cXG4gICAgPC9wPlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIsIEhvZ2FuKTsiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBpZD1cXFwic2V0dGluZ3NcXFwiPjxhIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnkgYnRuLWxnIGJsdXIgc2V0dGluZ3NcXFwiIHJvbGU9XFxcImJ1dHRvblxcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY29nXFxcIj48L3NwYW4+PC9hPjxkaXYgY2xhc3M9XFxcImNsaWNrbWUgYmx1clxcXCI+PHA+Q2xpY2sgbWUhPC9wPjwvZGl2PjxkaXYgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgc2V0dGluZ3MgYmx1clxcXCI+PGRpdiBjbGFzcz1cXFwicGFuZWwtYm9keVxcXCI+PGRpdiBjbGFzcz1cXFwicmFkaW9cXFwiPiA8bGFiZWw+PGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiBuYW1lPVxcXCJwbGFjZVR5cGVcXFwiIGNsYXNzPVxcXCJwbGFjZXR5cGUgcmVzdGF1cmFudFxcXCIgdmFsdWU9XFxcInJlc3RhdXJhbnRcXFwiPiBSZXN0YXVyYW50PC9sYWJlbD48L2Rpdj48ZGl2IGNsYXNzPVxcXCJyYWRpb1xcXCI+IDxsYWJlbD48aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiIG5hbWU9XFxcInBsYWNlVHlwZVxcXCIgY2xhc3M9XFxcInBsYWNldHlwZSBmb29kXFxcIiB2YWx1ZT1cXFwiZm9vZFxcXCI+IEZvb2Q8L2xhYmVsPjwvZGl2PjxkaXYgY2xhc3M9XFxcInJhZGlvXFxcIj4gPGxhYmVsPjxpbnB1dCB0eXBlPVxcXCJyYWRpb1xcXCIgbmFtZT1cXFwicGxhY2VUeXBlXFxcIiBjbGFzcz1cXFwicGxhY2V0eXBlIGJhclxcXCIgdmFsdWU9XFxcImJhclxcXCI+IEJhcjwvbGFiZWw+PC9kaXY+PGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPjxzcGFuIGNsYXNzPVxcXCJpbnB1dC1ncm91cC1hZGRvblxcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tcHVzaHBpblxcXCI+PC9zcGFuPiBMYXRpdHVkZTwvc3Bhbj4gPGlucHV0IHR5cGU9XFxcIm51bWJlclxcXCIgY2xhc3M9XFxcImxhdGl0dWRlIGZvcm0tY29udHJvbFxcXCIgcGxhY2Vob2xkZXI9XFxcIkxhdGl0dWRlXFxcIj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+PHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWFkZG9uXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1wdXNocGluXFxcIj48L3NwYW4+IExvbmdpdHVkZTwvc3Bhbj4gPGlucHV0IHR5cGU9XFxcIm51bWJlclxcXCIgY2xhc3M9XFxcImxvbmdpdHVkZSBmb3JtLWNvbnRyb2xcXFwiIHBsYWNlaG9sZGVyPVxcXCJMb25naXR1ZGVcXFwiPjwvZGl2PjxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwXFxcIj48c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLXJlY29yZFxcXCI+PC9zcGFuPiBSYWRpdXMgKG0pPC9zcGFuPiA8aW5wdXQgdHlwZT1cXFwibnVtYmVyXFxcIiBtaW49XFxcIjFcXFwiIGNsYXNzPVxcXCJyYWRpdXMgZm9ybS1jb250cm9sXFxcIiBwbGFjZWhvbGRlcj1cXFwiUmFkaXVzXFxcIj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+PHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWFkZG9uXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1zdGF0c1xcXCI+PC9zcGFuPiAjIG9mIFBsYWNlczwvc3Bhbj4gPGlucHV0IHR5cGU9XFxcIm51bWJlclxcXCIgbWluPVxcXCIxXFxcIiBtYXg9XFxcIjEyXFxcIiBjbGFzcz1cXFwibWF4cGxhY2VzIGZvcm0tY29udHJvbFxcXCIgcGxhY2Vob2xkZXI9XFxcIiMgb2YgUGxhY2VzXFxcIj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+PHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWFkZG9uXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1zaGFyZVxcXCI+PC9zcGFuPiBTaGFyZSBsaW5rPC9zcGFuPiA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcInNoYXJlbGluayBmb3JtLWNvbnRyb2xcXFwiIHZhbHVlPVxcXCJcXFwiPjwvZGl2PjxkaXYgY2xhc3M9XFxcImNoZWNrYm94XFxcIj4gPGxhYmVsPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgY2xhc3M9XFxcImR5bmFtaWMtc2VhcmNoXFxcIj4gRHluYW1pYyBTZWFyY2g8L2xhYmVsPjwvZGl2PiA8YnV0dG9uIHR5cGU9XFxcInN1Ym1pdFxcXCIgaWQ9XFxcInNldHRpbmdzLXNlYXJjaFxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeVxcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tc2VhcmNoXFxcIj48L3NwYW4+IFNlYXJjaDwvYnV0dG9uPjwvZGl2PjwvZGl2PjwvZGl2PlwiO1xuIl19\n"],"sourceRoot":"/source/"}